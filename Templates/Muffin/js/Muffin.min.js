
/*******************************************************************************    
                                                      
        sssyhddmmmddhys                        
      dNNNNNmss  sssyhmNddms                   
     dNNNNmhs         dNNNNNs           
   sNd sy     mNNmdy   sdNNNNs        Muffin - v1.1.4     
   Nd        dNNNNNy      ysNm        ---------------
  sNh           ssy         mN                        
   mNymdhy          shddmy hNd       Sorti du four le 2014-01-12
   sdNNNNNmsssssssssmNNNNNNNh             
     syyhddddddddddddddhhyss         Copyright (c) 2014 André Aubin
    sNNm shhh shhh shhd smNN                    
     dNNssNNN yNNN sNNN hNNy         Code source sous licence Apache 2      
     sNNy NNN yNNN sNNm dNN                    
      hNh mNN yNNN sNNd mNy             
          ydd smmm sdds                 

*******************************************************************************/function goToUrl(t){$.get(t,function(t){t=$(t),t.addClass("loading"),$("div[data-role='form-container']").children().slideUp(),$("div[data-role='form-container']").html(t),NProgress.done(),t.addClass("complete")})}function bindAjaxEvents(){$("[data-load-target]").each(function(){var t=$(this).attr("data-load-target");$(this).click(function(){goToUrl(t)})})}function addCheckHandler(t){$("div[data-role='form-container'] form .radio input, div[data-role='form-container'] form input[type='checkbox']").change(function(){console.log("change"),$(this).parents("form").trigger("submit")});for(elt in t)$("input#"+t[elt]).attr("checked","checked")}function showRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Enregistrement..."),!0}function showResponse(){NProgress.done(),$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Enregistré.")}function showAddRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Ajout..."),$("#input-nom-comp + button").html("<span class='icon-time'></span>"),!0}function showAddResponse(t,e){$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Ajouté."),$("#input-nom-comp + button").html("<span class='icon-chevron-right'></span>"),console.log("responseText:",t),console.log("statusText:",e);var n=$(t);n.addClass("preparing");var i=$("div[data-role='form-container'] > ul.items-panels"),o=$("#form-add-competence .radio-group input:checked").val();"1"==o?o="3":"3"==o&&(o="1"),console.log("type = "+o),i.find("li[data-index='"+o+"']").append(n),addCheckHandler(window.toCheck),n.submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems(),$.smoothScroll({offset:$(window).height()/2,scrollElement:null,scrollTarget:n}),NProgress.done(),n.addClass("complete").removeClass("preparing")}var Chart=function(t){function e(t,e,n){return t=a((t-e.graphMin)/(e.steps*e.stepValue),1,0),n*e.steps*t}function n(t,e,n,i){function o(){l+=s;var c=t.animation?a(r(l),null,0):1;i.clearRect(0,0,d,u),t.scaleOverlay?(n(c),e()):(e(),n(c)),1>=l?b(o):"function"==typeof t.onAnimationComplete&&t.onAnimationComplete()}var s=t.animation?1/a(t.animationSteps,Number.MAX_VALUE,1):1,r=c[t.animationEasing],l=t.animation?0:1;"function"!=typeof e&&(e=function(){}),b(o)}function i(t,e,n,i,a,s){var r;for(t=Math.floor(Math.log(i-a)/Math.LN10),a=Math.floor(a/(1*Math.pow(10,t)))*Math.pow(10,t),i=Math.ceil(i/(1*Math.pow(10,t)))*Math.pow(10,t)-a,t=Math.pow(10,t),r=Math.round(i/t);n>r||r>e;)t=n>r?t/2:2*t,r=Math.round(i/t);return e=[],o(s,e,r,a,t),{steps:r,stepValue:t,graphMin:a,labels:e}}function o(t,e,n,i,o){if(t)for(var a=1;n+1>a;a++)e.push(r(t,{value:(i+o*a).toFixed(0!=o%1?(""+o).split(".")[1].length:0)}))}function a(t,e,n){return!isNaN(parseFloat(e))&&isFinite(e)&&t>e?e:!isNaN(parseFloat(n))&&isFinite(n)&&n>t?n:t}function s(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}function r(t,e){var n=/\W/.test(t)?Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):y[t]=y[t]||r(document.getElementById(t).innerHTML);return e?n(e):n}var l=this,c={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1==t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0==t?0:1==t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0==t?0:1==(t/=1)?1:(n||(n=.3),Math.abs(1)>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0==t?0:1==(t/=1)?1:(n||(n=.3),Math.abs(1)>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0==t?0:2==(t/=.5)?1:(n||(n=.3*1.5),Math.abs(1)>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n):.5*i*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)+1)},easeInBack:function(t){return 1*(t/=1)*t*(2.70158*t-1.70158)},easeOutBack:function(t){return 1*((t=t/1-1)*t*(2.70158*t+1.70158)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-c.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*c.easeInBounce(2*t):.5*c.easeOutBounce(2*t-1)+.5}},d=t.canvas.width,u=t.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=d+"px",t.canvas.style.height=u+"px",t.canvas.height=u*window.devicePixelRatio,t.canvas.width=d*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(e,n){l.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.PolarArea.defaults,n):l.PolarArea.defaults;return new f(e,i,t)},this.Radar=function(e,n){l.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Radar.defaults,n):l.Radar.defaults;return new p(e,i,t)},this.Pie=function(e,n){l.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Pie.defaults,n):l.Pie.defaults;return new h(e,i,t)},this.Doughnut=function(e,n){l.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Doughnut.defaults,n):l.Doughnut.defaults;return new m(e,i,t)},this.Line=function(e,n){l.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Line.defaults,n):l.Line.defaults;return new g(e,i,t)},this.Bar=function(e,n){l.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Bar.defaults,n):l.Bar.defaults;return new v(e,i,t)};var f=function(t,a,s){var r,l,c,f,p,h,m,g,v;for(p=Math.min.apply(Math,[d,u])/2,p-=Math.max.apply(Math,[.5*a.scaleFontSize,.5*a.scaleLineWidth]),f=2*a.scaleFontSize,a.scaleShowLabelBackdrop&&(f+=2*a.scaleBackdropPaddingY,p-=1.5*a.scaleBackdropPaddingY),g=p,f=f?f:5,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;t.length>c;c++)t[c].value>r&&(r=t[c].value),l>t[c].value&&(l=t[c].value);c=Math.floor(g/(.66*f)),f=Math.floor(.5*(g/f)),v=a.scaleShowLabels?a.scaleLabel:null,a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(v,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(g,c,f,r,l,v),h=p/m.steps,n(a,function(){for(var t=0;m.steps>t;t++)if(a.scaleShowLine&&(s.beginPath(),s.arc(d/2,u/2,h*(t+1),0,2*Math.PI,!0),s.strokeStyle=a.scaleLineColor,s.lineWidth=a.scaleLineWidth,s.stroke()),a.scaleShowLabels){s.textAlign="center",s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;var e=m.labels[t];if(a.scaleShowLabelBackdrop){var n=s.measureText(e).width;s.fillStyle=a.scaleBackdropColor,s.beginPath(),s.rect(Math.round(d/2-n/2-a.scaleBackdropPaddingX),Math.round(u/2-h*(t+1)-.5*a.scaleFontSize-a.scaleBackdropPaddingY),Math.round(n+2*a.scaleBackdropPaddingX),Math.round(a.scaleFontSize+2*a.scaleBackdropPaddingY)),s.fill()}s.textBaseline="middle",s.fillStyle=a.scaleFontColor,s.fillText(e,d/2,u/2-h*(t+1))}},function(n){var i=-Math.PI/2,o=2*Math.PI/t.length,r=1,l=1;for(a.animation&&(a.animateScale&&(r=n),a.animateRotate&&(l=n)),n=0;t.length>n;n++)s.beginPath(),s.arc(d/2,u/2,r*e(t[n].value,m,h),i,i+l*o,!1),s.lineTo(d/2,u/2),s.closePath(),s.fillStyle=t[n].color,s.fill(),a.segmentShowStroke&&(s.strokeStyle=a.segmentStrokeColor,s.lineWidth=a.segmentStrokeWidth,s.stroke()),i+=l*o},s)},p=function(t,s,r){var l,c,f,p,h,m,g,v,b;for(t.labels||(t.labels=[]),h=Math.min.apply(Math,[d,u])/2,p=2*s.scaleFontSize,l=v=0;t.labels.length>l;l++)r.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,c=r.measureText(t.labels[l]).width,c>v&&(v=c);for(h-=Math.max.apply(Math,[v,1.5*(s.pointLabelFontSize/2)]),h-=s.pointLabelFontSize,v=h=a(h,null,0),p=p?p:5,l=Number.MIN_VALUE,c=Number.MAX_VALUE,f=0;t.datasets.length>f;f++)for(b=0;t.datasets[f].data.length>b;b++)t.datasets[f].data[b]>l&&(l=t.datasets[f].data[b]),c>t.datasets[f].data[b]&&(c=t.datasets[f].data[b]);f=Math.floor(v/(.66*p)),p=Math.floor(.5*(v/p)),b=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride?(g={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},o(b,g.labels,g.steps,s.scaleStartValue,s.scaleStepWidth)):g=i(v,f,p,l,c,b),m=h/g.steps,n(s,function(){var e=2*Math.PI/t.datasets[0].data.length;if(r.save(),r.translate(d/2,u/2),s.angleShowLineOut){r.strokeStyle=s.angleLineColor,r.lineWidth=s.angleLineWidth;for(var n=0;t.datasets[0].data.length>n;n++)r.rotate(e),r.beginPath(),r.moveTo(0,0),r.lineTo(0,-h),r.stroke()}for(n=0;g.steps>n;n++){if(r.beginPath(),s.scaleShowLine){r.strokeStyle=s.scaleLineColor,r.lineWidth=s.scaleLineWidth,r.moveTo(0,-m*(n+1));for(var i=0;t.datasets[0].data.length>i;i++)r.rotate(e),r.lineTo(0,-m*(n+1));r.closePath(),r.stroke()}s.scaleShowLabels&&(r.textAlign="center",r.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,r.textBaseline="middle",s.scaleShowLabelBackdrop&&(i=r.measureText(g.labels[n]).width,r.fillStyle=s.scaleBackdropColor,r.beginPath(),r.rect(Math.round(-i/2-s.scaleBackdropPaddingX),Math.round(-m*(n+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(i+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),r.fill()),r.fillStyle=s.scaleFontColor,r.fillText(g.labels[n],0,-m*(n+1)))}for(n=0;t.labels.length>n;n++){r.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,r.fillStyle=s.pointLabelFontColor;var i=Math.sin(e*n)*(h+s.pointLabelFontSize),o=Math.cos(e*n)*(h+s.pointLabelFontSize);r.textAlign=e*n==Math.PI||0==e*n?"center":e*n>Math.PI?"right":"left",r.textBaseline="middle",r.fillText(t.labels[n],i,-o)}r.restore()},function(n){var i=2*Math.PI/t.datasets[0].data.length;r.save(),r.translate(d/2,u/2);for(var o=0;t.datasets.length>o;o++){r.beginPath(),r.moveTo(0,-1*n*e(t.datasets[o].data[0],g,m));for(var a=1;t.datasets[o].data.length>a;a++)r.rotate(i),r.lineTo(0,-1*n*e(t.datasets[o].data[a],g,m));if(r.closePath(),r.fillStyle=t.datasets[o].fillColor,r.strokeStyle=t.datasets[o].strokeColor,r.lineWidth=s.datasetStrokeWidth,r.fill(),r.stroke(),s.pointDot)for(r.fillStyle=t.datasets[o].pointColor,r.strokeStyle=t.datasets[o].pointStrokeColor,r.lineWidth=s.pointDotStrokeWidth,a=0;t.datasets[o].data.length>a;a++)r.rotate(i),r.beginPath(),r.arc(0,-1*n*e(t.datasets[o].data[a],g,m),s.pointDotRadius,2*Math.PI,!1),r.fill(),r.stroke();r.rotate(i)}r.restore()},r)},h=function(t,e,i){for(var o=0,a=Math.min.apply(Math,[u/2,d/2])-5,s=0;t.length>s;s++)o+=t[s].value;n(e,null,function(n){var s=-Math.PI/2,r=1,l=1;for(e.animation&&(e.animateScale&&(r=n),e.animateRotate&&(l=n)),n=0;t.length>n;n++){var c=2*(l*t[n].value/o)*Math.PI;i.beginPath(),i.arc(d/2,u/2,r*a,s,s+c),i.lineTo(d/2,u/2),i.closePath(),i.fillStyle=t[n].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),s+=c}},i)},m=function(t,e,i){for(var o=0,a=Math.min.apply(Math,[u/2,d/2])-5,s=a*(e.percentageInnerCutout/100),r=0;t.length>r;r++)o+=t[r].value;n(e,null,function(n){var r=-Math.PI/2,l=1,c=1;for(e.animation&&(e.animateScale&&(l=n),e.animateRotate&&(c=n)),n=0;t.length>n;n++){var f=2*(c*t[n].value/o)*Math.PI;i.beginPath(),i.arc(d/2,u/2,l*a,r,r+f,!1),i.arc(d/2,u/2,l*s,r+f,r,!0),i.closePath(),i.fillStyle=t[n].color,i.fill(),e.segmentShowStroke&&(i.lineWidth=e.segmentStrokeWidth,i.strokeStyle=e.segmentStrokeColor,i.stroke()),r+=f}},i)},g=function(t,a,s){var r,l,c,f,p,h,m,g,v,b,y,x,S,w=0;for(p=u,s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,b=1,f=0;t.labels.length>f;f++)r=s.measureText(t.labels[f]).width,b=r>b?r:b;for(b>d/t.labels.length?(w=45,d/t.labels.length<Math.cos(w)*b?(w=90,p-=b):p-=Math.sin(w)*b):p-=a.scaleFontSize,f=a.scaleFontSize,p=p-5-f,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;t.datasets.length>c;c++)for(g=0;t.datasets[c].data.length>g;g++)t.datasets[c].data[g]>r&&(r=t.datasets[c].data[g]),l>t.datasets[c].data[g]&&(l=t.datasets[c].data[g]);if(c=Math.floor(p/(.66*f)),f=Math.floor(.5*(p/f)),g=a.scaleShowLabels?a.scaleLabel:"",a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(g,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(p,c,f,r,l,g),h=Math.floor(p/m.steps),f=1,a.scaleShowLabels){for(s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,r=0;m.labels.length>r;r++)l=s.measureText(m.labels[r]).width,f=l>f?l:f;f+=10}y=d-f-b,v=Math.floor(y/(t.labels.length-1)),x=d-b/2-y,S=p+a.scaleFontSize/2,n(a,function(){s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(d-b/2+5,S),s.lineTo(d-b/2-y-5,S),s.stroke(),w>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=a.scaleFontColor;for(var e=0;t.labels.length>e;e++)s.save(),w>0?(s.translate(x+e*v,S+a.scaleFontSize),s.rotate(-(w*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],x+e*v,S+a.scaleFontSize+3),s.beginPath(),s.moveTo(x+e*v,S+3),a.scaleShowGridLines&&e>0?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+e*v,5)):s.lineTo(x+e*v,S+3),s.stroke();for(s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(x,S+5),s.lineTo(x,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",e=0;m.steps>e;e++)s.beginPath(),s.moveTo(x-3,S-(e+1)*h),a.scaleShowGridLines?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+y+5,S-(e+1)*h)):s.lineTo(x-.5,S-(e+1)*h),s.stroke(),a.scaleShowLabels&&s.fillText(m.labels[e],x-8,S-(e+1)*h)},function(n){function i(i,o){return S-n*e(t.datasets[i].data[o],m,h)}for(var o=0;t.datasets.length>o;o++){s.strokeStyle=t.datasets[o].strokeColor,s.lineWidth=a.datasetStrokeWidth,s.beginPath(),s.moveTo(x,S-n*e(t.datasets[o].data[0],m,h));for(var r=1;t.datasets[o].data.length>r;r++)a.bezierCurve?s.bezierCurveTo(x+v*(r-.5),i(o,r-1),x+v*(r-.5),i(o,r),x+v*r,i(o,r)):s.lineTo(x+v*r,i(o,r));if(s.stroke(),a.datasetFill?(s.lineTo(x+v*(t.datasets[o].data.length-1),S),s.lineTo(x,S),s.closePath(),s.fillStyle=t.datasets[o].fillColor,s.fill()):s.closePath(),a.pointDot)for(s.fillStyle=t.datasets[o].pointColor,s.strokeStyle=t.datasets[o].pointStrokeColor,s.lineWidth=a.pointDotStrokeWidth,r=0;t.datasets[o].data.length>r;r++)s.beginPath(),s.arc(x+v*r,S-n*e(t.datasets[o].data[r],m,h),a.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}},s)},v=function(t,a,s){var r,l,c,f,p,h,m,g,v,b,y,x,S,w,C=0;for(p=u,s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,b=1,f=0;t.labels.length>f;f++)r=s.measureText(t.labels[f]).width,b=r>b?r:b;for(b>d/t.labels.length?(C=45,d/t.labels.length<Math.cos(C)*b?(C=90,p-=b):p-=Math.sin(C)*b):p-=a.scaleFontSize,f=a.scaleFontSize,p=p-5-f,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;t.datasets.length>c;c++)for(g=0;t.datasets[c].data.length>g;g++)t.datasets[c].data[g]>r&&(r=t.datasets[c].data[g]),l>t.datasets[c].data[g]&&(l=t.datasets[c].data[g]);if(c=Math.floor(p/(.66*f)),f=Math.floor(.5*(p/f)),g=a.scaleShowLabels?a.scaleLabel:"",a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(g,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(p,c,f,r,l,g),h=Math.floor(p/m.steps),f=1,a.scaleShowLabels){for(s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,r=0;m.labels.length>r;r++)l=s.measureText(m.labels[r]).width,f=l>f?l:f;f+=10}y=d-f-b,v=Math.floor(y/t.labels.length),w=(v-2*a.scaleGridLineWidth-2*a.barValueSpacing-(a.barDatasetSpacing*t.datasets.length-1)-(a.barStrokeWidth/2*t.datasets.length-1))/t.datasets.length,x=d-b/2-y,S=p+a.scaleFontSize/2,n(a,function(){s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(d-b/2+5,S),s.lineTo(d-b/2-y-5,S),s.stroke(),C>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=a.scaleFontColor;for(var e=0;t.labels.length>e;e++)s.save(),C>0?(s.translate(x+e*v,S+a.scaleFontSize),s.rotate(-(C*(Math.PI/180))),s.fillText(t.labels[e],0,0),s.restore()):s.fillText(t.labels[e],x+e*v+v/2,S+a.scaleFontSize+3),s.beginPath(),s.moveTo(x+(e+1)*v,S+3),s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+(e+1)*v,5),s.stroke();for(s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(x,S+5),s.lineTo(x,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",e=0;m.steps>e;e++)s.beginPath(),s.moveTo(x-3,S-(e+1)*h),a.scaleShowGridLines?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+y+5,S-(e+1)*h)):s.lineTo(x-.5,S-(e+1)*h),s.stroke(),a.scaleShowLabels&&s.fillText(m.labels[e],x-8,S-(e+1)*h)},function(n){s.lineWidth=a.barStrokeWidth;for(var i=0;t.datasets.length>i;i++){s.fillStyle=t.datasets[i].fillColor,s.strokeStyle=t.datasets[i].strokeColor;for(var o=0;t.datasets[i].data.length>o;o++){var r=x+a.barValueSpacing+v*o+w*i+a.barDatasetSpacing*i+a.barStrokeWidth*i;s.beginPath(),s.moveTo(r,S),s.lineTo(r,S-n*e(t.datasets[i].data[o],m,h)+a.barStrokeWidth/2),s.lineTo(r+w,S-n*e(t.datasets[i].data[o],m,h)+a.barStrokeWidth/2),s.lineTo(r+w,S),a.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}},s)},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},y={}};(function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,i=t(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var a=this;if(a.clk=n,"image"==n.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=i.offset();a.clk_x=e.pageX-s.left,a.clk_y=e.pageY-s.top}else a.clk_x=e.pageX-n.offsetLeft,a.clk_y=e.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var o={};o.fileapi=void 0!==t("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var a=!!t.fn.prop;t.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){var i,o,a=t.param(n,e.traditional).split("&"),s=a.length,r=[];for(i=0;s>i;i++)a[i]=a[i].replace(/\+/g," "),o=a[i].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}function s(i){for(var o=new FormData,a=0;i.length>a;a++)o.append(i[a].name,i[a].value);if(e.extraData){var s=n(e.extraData);for(a=0;s.length>a;a++)s[a]&&o.append(s[a][0],s[a][1])}e.data=null;var r=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(r.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,i=t.loaded||t.position,o=t.total;t.lengthComputable&&(n=Math.ceil(100*(i/o))),e.uploadProgress(t,i,o,n)},!1),n}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(t,n){n.data=e.formData?e.formData:o,c&&c.call(this,t,n)},t.ajax(r)}function r(n){function o(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){i("cannot get iframe.contentDocument: "+n),e=t.document}return e}function s(){function e(){try{var t=o(v).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){i("Server abort: ",n," (",n.name,")"),r(T),w&&clearTimeout(w),w=void 0}}var n=u.attr2("target"),a=u.attr2("action");C.setAttribute("target",h),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),a!=f.url&&C.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(w=setTimeout(function(){S=!0,r($)},f.timeout));var s=[];try{if(f.extraData)for(var c in f.extraData)f.extraData.hasOwnProperty(c)&&(t.isPlainObject(f.extraData[c])&&f.extraData[c].hasOwnProperty("name")&&f.extraData[c].hasOwnProperty("value")?s.push(t('<input type="hidden" name="'+f.extraData[c].name+'">').val(f.extraData[c].value).appendTo(C)[0]):s.push(t('<input type="hidden" name="'+c+'">').val(f.extraData[c]).appendTo(C)[0]));f.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(e,15);try{C.submit()}catch(d){var p=document.createElement("form").submit;p.apply(C)}}finally{C.setAttribute("action",a),n?C.setAttribute("target",n):u.removeAttr("target"),t(s).remove()}}function r(e){if(!b.aborted&&!_){if(L=o(v),L||(i("cannot access response document"),e=T),e===$&&b)return b.abort("timeout"),k.reject(b,"timeout"),void 0;if(e==T&&b)return b.abort("server abort"),k.reject(b,"error","server abort"),void 0;if(L&&L.location.href!=f.iframeSrc||S){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var n,a="success";try{if(S)throw"timeout";var s="xml"==f.dataType||L.XMLDocument||t.isXMLDoc(L);if(i("isXml="+s),!s&&window.opera&&(null===L.body||!L.body.innerHTML)&&--P)return i("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var l=L.body?L.body:L.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=L.XMLDocument?L.XMLDocument:L,s&&(f.dataType="xml"),b.getResponseHeader=function(t){var e={"content-type":f.dataType};return e[t.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(f.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||f.textarea){var u=L.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(d){var h=L.getElementsByTagName("pre")[0],m=L.getElementsByTagName("body")[0];h?b.responseText=h.textContent?h.textContent:h.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=D(b.responseText));try{E=O(b,c,f)}catch(y){a="parsererror",b.error=n=y||a}}catch(y){i("error caught: ",y),a="error",b.error=n=y||a}b.aborted&&(i("upload aborted"),a=null),b.status&&(a=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===a?(f.success&&f.success.call(f.context,E,"success",b),k.resolve(b.responseText,"success",b),p&&t.event.trigger("ajaxSuccess",[b,f])):a&&(void 0===n&&(n=b.statusText),f.error&&f.error.call(f.context,b,a,n),k.reject(b,"error",n),p&&t.event.trigger("ajaxError",[b,f,n])),p&&t.event.trigger("ajaxComplete",[b,f]),p&&!--t.active&&t.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,b,a),_=!0,f.timeout&&clearTimeout(w),setTimeout(function(){f.iframeTarget?g.attr("src",f.iframeSrc):g.remove(),b.responseXML=null},100)}}}var c,d,f,p,h,g,v,b,y,x,S,w,C=u[0],k=t.Deferred();if(k.abort=function(t){b.abort(t)},n)for(d=0;m.length>d;d++)c=t(m[d]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(f=t.extend(!0,{},t.ajaxSettings,e),f.context=f.context||f,h="jqFormIO"+(new Date).getTime(),f.iframeTarget?(g=t(f.iframeTarget),x=g.attr2("name"),x?h=x:g.attr2("name",h)):(g=t('<iframe name="'+h+'" src="'+f.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",f.iframeSrc),b.error=n,f.error&&f.error.call(f.context,b,n,e),p&&t.event.trigger("ajaxError",[b,f,n]),f.complete&&f.complete.call(f.context,b,n)}},p=f.global,p&&0===t.active++&&t.event.trigger("ajaxStart"),p&&t.event.trigger("ajaxSend",[b,f]),f.beforeSend&&f.beforeSend.call(f.context,b,f)===!1)return f.global&&t.active--,k.reject(),k;if(b.aborted)return k.reject(),k;y=C.clk,y&&(x=y.name,x&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[x]=y.value,"image"==y.type&&(f.extraData[x+".x"]=C.clk_x,f.extraData[x+".y"]=C.clk_y)));var $=1,T=2,M=t("meta[name=csrf-token]").attr("content"),F=t("meta[name=csrf-param]").attr("content");F&&M&&(f.extraData=f.extraData||{},f.extraData[F]=M),f.forceSync?s():setTimeout(s,10);var E,L,_,P=50,D=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},A=t.parseJSON||function(t){return window.eval("("+t+")")},O=function(e,n,i){var o=e.getResponseHeader("content-type")||"",a="xml"===n||!n&&o.indexOf("xml")>=0,s=a?e.responseXML:e.responseText;return a&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&o.indexOf("json")>=0?s=A(s):("script"===n||!n&&o.indexOf("javascript")>=0)&&t.globalEval(s)),s};return k}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),d="string"==typeof c?t.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:d,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var f={};if(this.trigger("form-pre-serialize",[this,e,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var h,m=[],g=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,h=t.param(e.data,p)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,p);h&&(v=v?v+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var b=[];if(e.resetForm&&b.push(function(){u.resetForm()}),e.clearForm&&b.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};b.push(function(n){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](n).each(y,arguments)})}else e.success&&b.push(e.success);if(e.success=function(t,n,i){for(var o=e.context||this,a=0,s=b.length;s>a;a++)b[a].apply(o,[t,n,i||u,u])},e.error){var x=e.error;e.error=function(t,n,i){var o=e.context||this;x.apply(o,[t,n,i,u])}}if(e.complete){var S=e.complete;e.complete=function(t,n){var i=e.context||this;S.apply(i,[t,n,u])}}var w=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),C=w.length>0,k="multipart/form-data",$=u.attr("enctype")==k||u.attr("encoding")==k,T=o.fileapi&&o.formdata;i("fileAPI :"+T);var M,F=(C||$)&&!T;e.iframe!==!1&&(e.iframe||F)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){M=r(g)}):M=r(g):M=(C||$)&&T?s(g):t.ajax(e),u.removeData("jqxhr").data("jqxhr",M);for(var E=0;m.length>E;E++)m[E]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&t.isFunction(t.fn.on),!o.delegation&&0===this.length){var a={s:this.selector,c:this.context};
return!t.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return o.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,e).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,e).bind("click.form-plugin",o,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var i=[];if(0===this.length)return i;var a=this[0],s=e?a.getElementsByTagName("*"):a.elements;if(!s)return i;var r,l,c,d,u,f,p;for(r=0,f=s.length;f>r;r++)if(u=s[r],c=u.name,c&&!u.disabled)if(e&&a.clk&&"image"==u.type)a.clk==u&&(i.push({name:c,value:t(u).val(),type:u.type}),i.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}));else if(d=t.fieldValue(u,!0),d&&d.constructor==Array)for(n&&n.push(u),l=0,p=d.length;p>l;l++)i.push({name:c,value:d[l]});else if(o.fileapi&&"file"==u.type){n&&n.push(u);var h=u.files;if(h.length)for(l=0;h.length>l;l++)i.push({name:c,value:h[l],type:u.type});else i.push({name:c,value:"",type:u.type})}else null!==d&&void 0!==d&&(n&&n.push(u),i.push({name:c,value:d,type:u.type,required:u.required}));if(!e&&a.clk){var m=t(a.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(i.push({name:c,value:m.val()}),i.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var o=t.fieldValue(this,e);if(o&&o.constructor==Array)for(var a=0,s=o.length;s>a;a++)n.push({name:i,value:o[a]});else null!==o&&void 0!==o&&n.push({name:this.name,value:o})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,o=this.length;o>i;i++){var a=this[i],s=t.fieldValue(a,e);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(n,s):n.push(s))}return n},t.fieldValue=function(e,n){var i=e.name,o=e.type,a=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||e.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!e.checked||("submit"==o||"image"==o)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var s=e.selectedIndex;if(0>s)return null;for(var r=[],l=e.options,c="select-one"==o,d=c?s+1:l.length,u=c?s:0;d>u;u++){var f=l[u];if(f.selected){var p=f.value;if(p||(p=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1})("undefined"!=typeof jQuery?jQuery:window.Zepto),function(t){t.fn.makeForms=function(e){var n,i,o,a,s,r,l,c,d={},u={};e=t.extend({components:{},groupSize:1,selectMinSize:18,position:"before",templates:{}},e),e.templates=t.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"<div data-role='group'>{{group}}</div>",item_group:"<div class='item-group'>{{items}}</div>",label:'<label for="{{id}}">{{label}}</label>',radio:'<label for="{{id}}"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}</label>',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},e.templates);var f=function(t,e){var n,i;n=t;for(i in e)-1!==n.search("{{"+i+"}}")&&e.hasOwnProperty(i)&&(n=n.replace("{{"+i+"}}",e[i]),n=f(n,e));return n},p=function(t){var e,n;e=0;for(n in t)e+=1;return e},h=function(t){var n,i;return t.hasOwnProperty("type")?n=t.type:(i=p(t.choices),n=1>=i?"text":e.selectMinSize>i?"radio":"option"),n},m=function(t,n,i,o){var a,s="";for(a in t){var r,l,c,d,u,p;"group"!==a&&(r=t[a],p=r.hasOwnProperty("type")?e.templates[r.type]:w,l=n+"_"+o+"_"+a,c=e.templates.label,d="option"!==i&&"radio"!==i?f(c,{label:r.label,id:l}):"",r.hasOwnProperty("value")||(r.value=o+"_"+a),u=f(p,{name:n,id:l,value:r.value,label:r.label}),r.hasOwnProperty("before")&&(u=r.before+u),r.hasOwnProperty("after")&&(u+=r.after),s=s+d+u)}return s},g=function(n,i){var o,a,s=[];for(o in n[i]){var r=n[i][o].slice(1);for(a in e.components[r].choices)s.push("#"+r+"_"+a);t(s.join(", ")).show()}return s},v=function(t,e){var n=0;if(t.hasOwnProperty("enable")){e in d==!1&&(d["#"+e]=[]);for(n=0;t.enable.length>n;n++)d["#"+e].push("#"+t.enable[n])}if(t.hasOwnProperty("disable")){e in u==!1&&(u["#"+e]=[]);for(n=0;t.disable.length>n;n++)u["#"+e].push("#"+t.disable[n])}},b=function(t,n,i,o){var a,s=!1;for(a in t){var r,l,c,d,u,p;if(r=t[a],s=r.group,s!==!0)p=r.hasOwnProperty("type")?e.templates[r.type]:w,l=n+"_"+a,c=e.templates.label,d="option"!==o&&"radio"!==o?f(c,{label:r.label,id:l}):"",v(r,l),r.hasOwnProperty("value")||(r.value=a),u=f(p,{name:n,id:l,value:r.value,label:r.label}),r.hasOwnProperty("before")&&(u=r.before+u),r.hasOwnProperty("after")&&(u+=r.after),k=k+d+u;else if(s===!0){var h="",g=m(r,n,o,a);h+=g,k+=f(e.templates.item_group,{items:h});var b=n+"_"+a+"_all";v(r,b)}}return k};a=[],s=[],r=p(e.components),o=t(this),i=0;for(n in e.components){var y,x,S,w,C,k;k="",C="",c="",y=n,x=e.components[n].label,S=h(e.components[n]),w=e.templates[S],c=e.templates.group,e.components[n].hasOwnProperty("title")&&(e.components[n].hasOwnProperty("beforeTitle")&&(C+=e.components[n].beforeTitle),C+=f(e.templates.title,{title:e.components[n].title}),e.components[n].hasOwnProperty("afterTitle")&&(C+=e.components[n].afterTitle),a.push(C)),i+=1,b(e.components[n].choices,y,x,S),"option"===S&&(k=f(e.templates.select,{name:y,id:y,options:k})),a.push(k),k="",0===e.groupSize||0!==i%e.groupSize&&i!==r||(l=f(c,{group:a.join("\n")}),s.push(l),e.groupSize>0&&(a=[]))}0===e.groupSize&&(l=f(c,{group:a.join("\n")}),s.push(l)),"before"===e.position?o.html(s.join("\n")+o.html()):"after"===e.position?o.html(o.html()+s.join("\n")):o.html(s.join("\n"));var $,T,M;for($ in d)M=g(d,$),t(M.join(", ")).parents("div[data-role='group']").hide(),t($).click(function(){t(M.join(", ")).parents("div[data-role='group']").show()});for(T in u)M=g(u,T),t(T).click(function(){t(M.join(", ")).parents("div[data-role='group']").hide()});return this}}(jQuery),function(t){function e(t){return t.replace(/(:|\.)/g,"\\$1")}var n="1.4.12",i={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},o=function(e){var n=[],i=!1,o=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var e=t(this);e[o]()>0?n.push(this):(e[o](1),i=e[o]()>0,i&&n.push(this),e[o](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===e.el&&n.length>1&&(n=[n[0]]),n};t.fn.extend({scrollable:function(t){var e=o.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=o.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(n){n=n||{};var i=t.extend({},t.fn.smoothScroll.defaults,n),o=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var a=this,s=t(this),r=i.exclude,l=i.excludeWithin,c=0,d=0,u=!0,f={},p=location.hostname===a.hostname||!a.hostname,h=i.scrollTarget||(t.smoothScroll.filterPath(a.pathname)||o)===o,m=e(a.hash);if(i.scrollTarget||p&&h&&m){for(;u&&r.length>c;)s.is(e(r[c++]))&&(u=!1);for(;u&&l.length>d;)s.closest(l[d++]).length&&(u=!1)}else u=!1;u&&(i.preventDefault&&n.preventDefault(),t.extend(f,i,{scrollTarget:i.scrollTarget||m,link:a}),t.smoothScroll(f))}),this}}),t.smoothScroll=function(e,n){var i,o,a,s,r=0,l="offset",c="scrollTop",d={},u={};"number"==typeof e?(i=t.fn.smoothScroll.defaults,a=e):(i=t.extend({},t.fn.smoothScroll.defaults,e||{}),i.scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative"))),i=t.extend({link:null},i),c="left"==i.direction?"scrollLeft":c,i.scrollElement?(o=i.scrollElement,/^(?:HTML|BODY)$/.test(o[0].nodeName)||(r=o[c]())):o=t("html, body").firstScrollable(i.direction),i.beforeScroll.call(o,i),a="number"==typeof e?e:n||t(i.scrollTarget)[l]()&&t(i.scrollTarget)[l]()[i.direction]||0,d[c]=a+r+i.offset,s=i.speed,"auto"===s&&(s=d[c]||o.scrollTop(),s/=i.autoCoefficent),u={duration:s,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(u.step=i.step),o.length?o.stop().animate(d,u):i.afterScroll.call(i.link,i)},t.smoothScroll.version=n,t.smoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults=i}(jQuery),function(){var t,e,n,i,o,a,s,r,l,c;window.console&&window.console.log&&(a=function(){var t;return t=[],s(arguments).forEach(function(e){return"string"==typeof e?t=t.concat(l(e)):t.push(e)}),c.apply(window,t)},c=function(){return console.log.apply(console,s(arguments))},s=function(t){return Array.prototype.slice.call(t)},t=[{regex:/\*([^\*)]+)\*/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_)]+)\_/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`)]+)\`/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=\"([^\")]+)\"\]([^\[)]+)\[c\]/,replacer:function(t,e,n){return"%c"+n+"%c"},styles:function(t){return[t[1],""]}}],n=function(e){var n;return n=!1,t.forEach(function(t){return t.regex.test(e)?n=!0:void 0}),n},e=function(e){var n;return n=[],t.forEach(function(t){var i;return i=e.match(t.regex),i?n.push({format:t,match:i}):void 0}),n.sort(function(t,e){return t.match.index-e.match.index})},l=function(t){var i,o,a;for(a=[];n(t);)o=e(t),i=o[0],t=t.replace(i.format.regex,i.format.replacer),a=a.concat(i.format.styles(i.match));return[t].concat(a)},o=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i=function(){return/MSIE/.test(navigator.userAgent)},r=function(){var t;return t=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),t?537.38>=parseInt(t[1],10)+parseInt(t[2],10)/100:!1},window.log=o()&&!r()||i()?c:a,window.log.l=c)}.call(this),function($){"use strict";var MagicSuggest=function(element,options){var ms=this,defaults={allowFreeEntries:!0,cls:"",data:null,dataUrlParams:{},disabled:!1,displayField:"name",editable:!0,emptyText:function(){return cfg.editable?"Taggez votre compétence":"Click here"},emptyTextCls:"ms-empty-text",expanded:!1,expandOnFocus:function(){return cfg.editable?!1:!0},groupBy:null,hideTrigger:!1,highlight:!0,id:function(){return"ms-ctn-"+$('div[id^="ms-ctn"]').length},infoMsgCls:"",inputCfg:{},invalidCls:"ms-ctn-invalid",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function(t){return"Please reduce your entry by "+t+" character"+(t>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function(t){return"You cannot choose more than "+t+" item"+(t>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function(t){return"Please type "+t+" more character"+(t>1?"s":"")},name:null,noSuggestionText:"Ce tag n'existe pas encore",preselectSingleSuggestion:!0,renderer:null,required:!1,resultAsString:!1,resultsField:"results",selectionCls:"",selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!0,value:null,valueField:"id",width:function(){return $(this).width()}},conf=$.extend({},options),cfg=$.extend(!0,{},defaults,conf);$.isFunction(cfg.emptyText)&&(cfg.emptyText=cfg.emptyText.call(this)),$.isFunction(cfg.expandOnFocus)&&(cfg.expandOnFocus=cfg.expandOnFocus.call(this)),$.isFunction(cfg.id)&&(cfg.id=cfg.id.call(this)),this.addToSelection=function(t,e){if(!cfg.maxSelection||_selection.length<cfg.maxSelection){$.isArray(t)||(t=[t]);var n=!1;$.each(t,function(t,e){-1===$.inArray(e[cfg.valueField],ms.getValue())&&(_selection.push(e),n=!0)}),n===!0&&(self._renderSelection(),this.empty(),e!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]))}},this.clear=function(t){this.removeFromSelection(_selection.slice(0),t)},this.collapse=function(){cfg.expanded===!0&&(this.combobox.detach(),cfg.expanded=!1,$(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),cfg.disabled=!0,ms.input.attr("disabled",!0)},this.empty=function(){this.input.removeClass(cfg.emptyTextCls),this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),cfg.disabled=!1,ms.input.attr("disabled",!1)},this.expand=function(){!cfg.expanded&&(this.input.val().length>=cfg.minChars||this.combobox.children().size()>0)&&(this.combobox.appendTo(this.container),self._processSuggestions(),cfg.expanded=!0,$(this).trigger("expand",[this]))},this.isDisabled=function(){return cfg.disabled},this.isValid=function(){return cfg.required===!1||_selection.length>0},this.getDataUrlParams=function(){return cfg.dataUrlParams},this.getName=function(){return cfg.name},this.getSelectedItems=function(){return _selection},this.getRawValue=function(){return ms.input.val()!==cfg.emptyText?ms.input.val():""},this.getValue=function(){return $.map(_selection,function(t){return t[cfg.valueField]})},this.removeFromSelection=function(t,e){$.isArray(t)||(t=[t]);var n=!1;$.each(t,function(t,e){var i=$.inArray(e[cfg.valueField],ms.getValue());i>-1&&(_selection.splice(i,1),n=!0)}),n===!0&&(self._renderSelection(),e!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]),cfg.expandOnFocus&&ms.expand(),cfg.expanded&&self._processSuggestions())},this.setData=function(t){cfg.data=t,self._processSuggestions()},this.setName=function(t){cfg.name=t,ms._valueContainer&&(ms._valueContainer.name=t)},this.setValue=function(data){var values=data,items=[];$.isArray(data)||("string"==typeof data?data.indexOf("[")>-1?values=eval(data):data.indexOf(",")>-1&&(values=data.split(",")):values=[data]),$.each(_cbData,function(t,e){$.inArray(e[cfg.valueField],values)>-1&&items.push(e)}),items.length>0&&this.addToSelection(items)},this.setDataUrlParams=function(t){cfg.dataUrlParams=$.extend({},t)};var _selection=[],_comboItemHeight=0,_timer,_hasFocus=!1,_groups=null,_cbData=[],_ctrlDown=!1,self={_displaySuggestions:function(t){ms.combobox.empty();var e=0,n=0;if(null===_groups)self._renderComboItems(t),e=_comboItemHeight*t.length;else{for(var i in _groups)n+=1,$("<div/>",{"class":"ms-res-group",html:i}).appendTo(ms.combobox),self._renderComboItems(_groups[i].items,!0);e=_comboItemHeight*(t.length+n)}ms.combobox.height()>e||cfg.maxDropHeight>=e?ms.combobox.height(e):e>=ms.combobox.height()&&e>cfg.maxDropHeight&&ms.combobox.height(cfg.maxDropHeight),1===t.length&&cfg.preselectSingleSuggestion===!0&&ms.combobox.children().filter(":last").addClass("ms-res-item-active"),0===t.length&&""!==ms.getRawValue()&&(self._updateHelper(cfg.noSuggestionText),ms.collapse())},_getEntriesFromStringArray:function(t){var e=[];return $.each(t,function(t,n){var i={};i[cfg.displayField]=i[cfg.valueField]=$.trim(n),e.push(i)}),e},_highlightSuggestion:function(t){var e=ms.input.val()!==cfg.emptyText?ms.input.val():"";return 0===e.length?t:t=cfg.matchCase===!0?t.replace(RegExp("("+e+")(?!([^<]+)?>)","g"),"<em>$1</em>"):t.replace(RegExp("("+e+")(?!([^<]+)?>)","gi"),"<em>$1</em>")},_moveSelectedRow:function(t){cfg.expanded||ms.expand();var e,n,i,o;e=ms.combobox.find(".ms-res-item"),n="down"===t?e.eq(0):e.filter(":last"),i=ms.combobox.find(".ms-res-item-active:first"),i.length>0&&("down"===t?(n=i.nextAll(".ms-res-item").first(),0===n.length&&(n=e.eq(0)),o=ms.combobox.scrollTop(),ms.combobox.scrollTop(0),n[0].offsetTop+n.outerHeight()>ms.combobox.height()&&ms.combobox.scrollTop(o+_comboItemHeight)):(n=i.prevAll(".ms-res-item").first(),0===n.length&&(n=e.filter(":last"),ms.combobox.scrollTop(_comboItemHeight*e.length)),n[0].offsetTop<ms.combobox.scrollTop()&&ms.combobox.scrollTop(ms.combobox.scrollTop()-_comboItemHeight))),e.removeClass("ms-res-item-active"),n.addClass("ms-res-item-active")},_processSuggestions:function(t){var e=null,n=t||cfg.data;if(null!==n){if("function"==typeof n&&(n=n.call(ms)),"string"==typeof n&&0>n.indexOf(",")){$(ms).trigger("beforeload",[ms]);var i=$.extend({query:ms.input.val()},cfg.dataUrlParams);return $.ajax({type:cfg.method,url:n,data:i,success:function(t){e="string"==typeof t?JSON.parse(t):t,self._processSuggestions(e),$(ms).trigger("load",[ms,e])},error:function(){throw"Could not reach server"}}),void 0}_cbData="string"==typeof n&&n.indexOf(",")>-1?self._getEntriesFromStringArray(n.split(",")):n.length>0&&"string"==typeof n[0]?self._getEntriesFromStringArray(n):n[cfg.resultsField]||n,self._displaySuggestions(self._sortAndTrim(_cbData))}},_render:function(t){$(ms).trigger("beforerender",[ms]);var e=$.isFunction(cfg.width)?cfg.width.call(t):cfg.width;switch(ms.container=$("<div/>",{id:cfg.id,"class":"ms-ctn "+cfg.cls+(cfg.disabled===!0?" ms-ctn-disabled":"")+(cfg.editable===!0?"":" ms-ctn-readonly"),style:cfg.style}).width(e),ms.container.focus($.proxy(handlers._onFocus,this)),ms.container.blur($.proxy(handlers._onBlur,this)),ms.container.keydown($.proxy(handlers._onKeyDown,this)),ms.container.keyup($.proxy(handlers._onKeyUp,this)),ms.input=$("<input/>",$.extend({id:"ms-input-"+$('input[id^="ms-input"]').length,type:"text","class":cfg.emptyTextCls+(cfg.editable===!0?"":" ms-input-readonly"),value:cfg.emptyText,readonly:!cfg.editable,disabled:cfg.disabled},cfg.inputCfg)).width(e-(cfg.hideTrigger?16:42)),ms.input.focus($.proxy(handlers._onInputFocus,this)),ms.input.click($.proxy(handlers._onInputClick,this)),cfg.hideTrigger===!1&&(ms.trigger=$("<div/>",{id:"ms-trigger-"+$('div[id^="ms-trigger"]').length,"class":"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),ms.trigger.click($.proxy(handlers._onTriggerClick,this)),ms.container.append(ms.trigger)),ms.combobox=$("<div/>",{id:"ms-res-ctn-"+$('div[id^="ms-res-ctn"]').length,"class":"ms-res-ctn "}).width(e).height(cfg.maxDropHeight),ms.combobox.on("click","div.ms-res-item",$.proxy(handlers._onComboItemSelected,this)),ms.combobox.on("mouseover","div.ms-res-item",$.proxy(handlers._onComboItemMouseOver,this)),ms.selectionContainer=$("<div/>",{id:"ms-sel-ctn-"+$('div[id^="ms-sel-ctn"]').length,"class":"ms-sel-ctn"}),ms.selectionContainer.click($.proxy(handlers._onFocus,this)),"inner"===cfg.selectionPosition?ms.selectionContainer.append(ms.input):ms.container.append(ms.input),ms.helper=$("<div/>",{"class":"ms-helper "+cfg.infoMsgCls}),self._updateHelper(),ms.container.append(ms.helper),$(t).replaceWith(ms.container),cfg.selectionPosition){case"bottom":ms.selectionContainer.insertAfter(ms.container),cfg.selectionStacked===!0&&(ms.selectionContainer.width(ms.container.width()),ms.selectionContainer.addClass("ms-stacked"));break;case"right":ms.selectionContainer.insertAfter(ms.container),ms.container.css("float","left");break;default:ms.container.append(ms.selectionContainer)}self._processSuggestions(),null!==cfg.value&&(ms.setValue(cfg.value),self._renderSelection()),$(ms).trigger("afterrender",[ms]),$("body").click(function(t){ms.container.hasClass("ms-ctn-bootstrap-focus")&&0===ms.container.has(t.target).length&&0>t.target.className.indexOf("ms-res-item")&&0>t.target.className.indexOf("ms-close-btn")&&ms.container[0]!==t.target&&handlers._onBlur()}),cfg.expanded===!0&&(cfg.expanded=!1,ms.expand())},_renderComboItems:function(t,e){var n=this,i="";$.each(t,function(t,o){var a=null!==cfg.renderer?cfg.renderer.call(n,o):o[cfg.displayField],s=$("<div/>",{"class":"ms-res-item "+(e?"ms-res-item-grouped ":"")+(1===t%2&&cfg.useZebraStyle===!0?"ms-res-odd":""),html:cfg.highlight===!0?self._highlightSuggestion(a):a,"data-json":JSON.stringify(o)});s.click($.proxy(handlers._onComboItemSelected,n)),s.mouseover($.proxy(handlers._onComboItemMouseOver,n)),i+=$("<div/>").append(s).html()}),ms.combobox.append(i),_comboItemHeight=ms.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function(){var t=this,e=0,n=0,i=[],o=cfg.resultAsString===!0&&!_hasFocus;ms.selectionContainer.find(".ms-sel-item").remove(),void 0!==ms._valueContainer&&ms._valueContainer.remove(),$.each(_selection,function(e,n){var a,s,r=null!==cfg.selectionRenderer?cfg.selectionRenderer.call(t,n):n[cfg.displayField];o===!0?a=$("<div/>",{"class":"ms-sel-item ms-sel-text "+cfg.selectionCls,html:r+(e===_selection.length-1?"":",")}).data("json",n):(a=$("<div/>",{"class":"ms-sel-item "+cfg.selectionCls,html:r}).data("json",n),cfg.disabled===!1&&(s=$("<span/>",{"class":"ms-close-btn"}).data("json",n).appendTo(a),s.click($.proxy(handlers._onTagTriggerClick,t)))),i.push(a)}),ms.selectionContainer.prepend(i),ms._valueContainer=$("<input/>",{type:"hidden",name:cfg.name,value:JSON.stringify(ms.getValue())}),ms._valueContainer.appendTo(ms.selectionContainer),"inner"===cfg.selectionPosition&&(ms.input.width(0),n=ms.input.offset().left-ms.selectionContainer.offset().left,e=ms.container.width()-n-42,ms.input.width(e),ms.container.height(ms.selectionContainer.height())),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):ms.helper.hide()},_selectItem:function(t){1===cfg.maxSelection&&(_selection=[]),ms.addToSelection(t.data("json")),t.removeClass("ms-res-item-active"),(cfg.expandOnFocus===!1||_selection.length===cfg.maxSelection)&&ms.collapse(),_hasFocus?_hasFocus&&(cfg.expandOnFocus||_ctrlDown)&&(self._processSuggestions(),_ctrlDown&&ms.expand()):ms.input.focus()},_sortAndTrim:function(t){var e=ms.getRawValue(),n=[],i=[],o=ms.getValue();return e.length>0?$.each(t,function(t,i){var o=i[cfg.displayField];(cfg.matchCase===!0&&o.indexOf(e)>-1||cfg.matchCase===!1&&o.toLowerCase().indexOf(e.toLowerCase())>-1)&&(cfg.strictSuggest===!1||0===o.toLowerCase().indexOf(e.toLowerCase()))&&n.push(i)}):n=t,$.each(n,function(t,e){-1===$.inArray(e[cfg.valueField],o)&&i.push(e)}),null!==cfg.sortOrder&&i.sort(function(t,e){return t[cfg.sortOrder]<e[cfg.sortOrder]?"asc"===cfg.sortDir?-1:1:t[cfg.sortOrder]>e[cfg.sortOrder]?"asc"===cfg.sortDir?1:-1:0}),cfg.maxSuggestions&&cfg.maxSuggestions>0&&(i=i.slice(0,cfg.maxSuggestions)),null!==cfg.groupBy&&(_groups={},$.each(i,function(t,e){void 0===_groups[e[cfg.groupBy]]?_groups[e[cfg.groupBy]]={title:e[cfg.groupBy],items:[e]}:_groups[e[cfg.groupBy]].items.push(e)})),i},_updateHelper:function(t){ms.helper.html(t),ms.helper.is(":visible")||ms.helper.fadeIn()}},handlers={_onBlur:function(){if(ms.container.removeClass("ms-ctn-bootstrap-focus"),ms.collapse(),_hasFocus=!1,""!==ms.getRawValue()&&cfg.allowFreeEntries===!0){var t={};t[cfg.displayField]=t[cfg.valueField]=ms.getRawValue(),ms.addToSelection(t)}self._renderSelection(),ms.isValid()===!1&&ms.container.addClass("ms-ctn-invalid"),""===ms.input.val()&&0===_selection.length?(ms.input.addClass(cfg.emptyTextCls),ms.input.val(cfg.emptyText)):""!==ms.input.val()&&cfg.allowFreeEntries===!1&&(ms.empty(),self._updateHelper("")),ms.input.is(":focus")&&$(ms).trigger("blur",[ms])},_onComboItemMouseOver:function(t){ms.combobox.children().removeClass("ms-res-item-active"),$(t.currentTarget).addClass("ms-res-item-active")},_onComboItemSelected:function(t){self._selectItem($(t.currentTarget))},_onFocus:function(){ms.input.focus()},_onInputClick:function(){ms.isDisabled()===!1&&_hasFocus&&cfg.toggleOnClick===!0&&(cfg.expanded?ms.collapse():ms.expand())},_onInputFocus:function(){if(ms.isDisabled()===!1&&!_hasFocus){_hasFocus=!0,ms.container.addClass("ms-ctn-bootstrap-focus"),ms.container.removeClass(cfg.invalidCls),ms.input.val()===cfg.emptyText&&ms.empty();var t=ms.getRawValue().length;cfg.expandOnFocus===!0&&ms.expand(),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):cfg.minChars>t&&self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-t)),self._renderSelection(),$(ms).trigger("focus",[ms])}},_onKeyDown:function(t){var e=ms.combobox.find(".ms-res-item-active:first"),n=ms.input.val()!==cfg.emptyText?ms.input.val():"";if($(ms).trigger("keydown",[ms,t]),9===t.keyCode&&(cfg.useTabKey===!1||cfg.useTabKey===!0&&0===e.length&&0===ms.input.val().length))return handlers._onBlur(),void 0;switch(t.keyCode){case 8:0===n.length&&ms.getSelectedItems().length>0&&"inner"===cfg.selectionPosition&&(_selection.pop(),self._renderSelection(),$(ms).trigger("selectionchange",[ms,ms.getSelectedItems()]),ms.input.focus(),t.preventDefault());break;case 9:case 188:case 13:t.preventDefault();break;case 17:_ctrlDown=!0;break;case 40:t.preventDefault(),self._moveSelectedRow("down");break;case 38:t.preventDefault(),self._moveSelectedRow("up");break;default:_selection.length===cfg.maxSelection&&t.preventDefault()}},_onKeyUp:function(t){var e,n=ms.getRawValue(),i=$.trim(ms.input.val()).length>0&&ms.input.val()!==cfg.emptyText&&(!cfg.maxEntryLength||$.trim(ms.input.val()).length<=cfg.maxEntryLength),o={};if($(ms).trigger("keyup",[ms,t]),clearTimeout(_timer),27===t.keyCode&&cfg.expanded&&ms.combobox.height(0),9===t.keyCode&&cfg.useTabKey===!1||t.keyCode>13&&32>t.keyCode)return 17===t.keyCode&&(_ctrlDown=!1),void 0;switch(t.keyCode){case 40:case 38:t.preventDefault();break;case 13:case 9:case 188:if(188!==t.keyCode||cfg.useCommaKey===!0){if(t.preventDefault(),cfg.expanded===!0&&(e=ms.combobox.find(".ms-res-item-active:first"),e.length>0))return self._selectItem(e),void 0;i===!0&&cfg.allowFreeEntries===!0&&(o[cfg.displayField]=o[cfg.valueField]=n,ms.addToSelection(o),ms.collapse(),ms.input.focus());break}default:_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):n.length<cfg.minChars?(self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-n.length)),cfg.expanded===!0&&ms.collapse()):cfg.maxEntryLength&&n.length>cfg.maxEntryLength?(self._updateHelper(cfg.maxEntryRenderer.call(this,n.length-cfg.maxEntryLength)),cfg.expanded===!0&&ms.collapse()):(ms.helper.hide(),cfg.minChars<=n.length&&(_timer=setTimeout(function(){cfg.expanded===!0?self._processSuggestions():ms.expand()},cfg.typeDelay)))}},_onTagTriggerClick:function(t){ms.removeFromSelection($(t.currentTarget).data("json"))},_onTriggerClick:function(){if(ms.isDisabled()===!1&&(cfg.expandOnFocus!==!0||_selection.length!==cfg.maxSelection))if($(ms).trigger("triggerclick",[ms]),cfg.expanded===!0)ms.collapse();else{var t=ms.getRawValue().length;t>=cfg.minChars?(ms.input.focus(),ms.expand()):self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-t))}}};null!==element&&self._render(element)};$.fn.magicSuggest=function(t){var e=$(this);return 1===e.size()&&e.data("magicSuggest")?e.data("magicSuggest"):(e.each(function(){var e=$(this);if(!e.data("magicSuggest")){"select"===this.nodeName.toLowerCase()&&(t.data=[],t.value=[],$.each(this.children,function(e,n){n.nodeName&&"option"===n.nodeName.toLowerCase()&&(t.data.push({id:n.value,name:n.text}),n.selected&&t.value.push(n.value))}));var n={};$.each(this.attributes,function(t,e){n[e.name]=e.value});var i=new MagicSuggest(this,$.extend(t,n));e.data("magicSuggest",i),i.container.data("magicSuggest",i)}}),1===e.size()?e.data("magicSuggest"):e)}}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define("notify",[],function(){return e(t,document)}):t.Notify=e(t,document)}(this,function(t){"use strict";function e(t,e){if(this.title="string"==typeof t?t:null,this.options={icon:"",body:"",tag:"",notifyShow:null,notifyClose:null,notifyClick:null,notifyError:null,permissionGranted:null,permissionDenied:null},this.permission=null,this.isSupported()){if(!this.title)throw Error("Notify(): first arg (title) must be a string.");if("object"==typeof e){for(var n in e)e.hasOwnProperty(n)&&(this.options[n]=e[n]);"function"==typeof this.options.notifyShow&&(this.onShowCallback=this.options.notifyShow),"function"==typeof this.options.notifyClose&&(this.onCloseCallback=this.options.notifyClose),"function"==typeof this.options.notifyClick&&(this.onClickCallback=this.options.notifyClick),"function"==typeof this.options.notifyError&&(this.onErrorCallback=this.options.notifyError),"function"==typeof this.options.permissionGranted&&(this.onPermissionGrantedCallback=this.options.permissionGranted),"function"==typeof this.options.permissionDenied&&(this.onPermissionDeniedCallback=this.options.permissionDenied)}}}return e.prototype.needsPermission=function(){return"Notification"in t&&"granted"===Notification.permission?!1:!0},e.prototype.requestPermission=function(){var e=this;t.Notification.requestPermission(function(t){switch(e.permission=t,e.permission){case"granted":e.onPermissionGranted();break;case"denied":e.onPermissionDenied()}})},e.prototype.show=function(){this.isSupported()&&(this.myNotify=new Notification(this.title,{body:this.options.body,tag:this.options.tag,icon:this.options.icon}),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1))},e.prototype.onShowNotification=function(){this.onShowCallback&&this.onShowCallback()},e.prototype.onCloseNotification=function(){this.onCloseCallback&&this.onCloseCallback(),this.destroy()},e.prototype.onClickNotification=function(){this.onClickCallback&&this.onClickCallback()},e.prototype.onErrorNotification=function(){this.onErrorCallback&&this.onErrorCallback(),this.destroy()},e.prototype.onPermissionGranted=function(){this.onPermissionGrantedCallback&&this.onPermissionGrantedCallback()},e.prototype.onPermissionDenied=function(){this.onPermissionDeniedCallback&&this.onPermissionDeniedCallback()},e.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},e.prototype.isSupported=function(){return"Notification"in t?!0:!1},e.prototype.handleEvent=function(t){switch(t.type){case"show":this.onShowNotification(t);break;case"close":this.onCloseNotification(t);break;case"click":this.onClickNotification(t);break;case"error":this.onErrorNotification(t)}},e}),function(t){"function"==typeof module?module.exports=t(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):this.NProgress=t(this.jQuery)}(function(t){function e(t,e,n){return e>t?e:t>n?n:t}function n(t){return 100*(-1+t)
}function i(t,e,i){var o;return o="translate3d"===a.positionUsing?{transform:"translate3d("+n(t)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+n(t)+"%,0)"}:{"margin-left":n(t)+"%"},o.transition="all "+e+"ms "+i,o}var o={};o.version="0.1.2";var a=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return o.configure=function(e){return t.extend(a,e),this},o.status=null,o.set=function(t){var n=o.isStarted();t=e(t,a.minimum,1),o.status=1===t?null:t;var s=o.render(!n),r=s.find('[role="bar"]'),l=a.speed,c=a.easing;return s[0].offsetWidth,s.queue(function(e){""===a.positionUsing&&(a.positionUsing=o.getPositioningCSS()),r.css(i(t,l,c)),1===t?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){o.remove(),e()},l)},l)):setTimeout(e,l)}),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var t=function(){setTimeout(function(){o.status&&(o.trickle(),t())},a.trickleSpeed)};return a.trickle&&t(),this},o.done=function(t){return t||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(t){var n=o.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),o.set(n)):o.start()},o.trickle=function(){return o.inc(Math.random()*a.trickleRate)},function(){var t=0,e=0;o.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&o.start(),t++,e++,n.always(function(){e--,0==e?(t=0,o.done()):o.set((t-e)/t)}),this):this}}(),o.render=function(e){if(o.isRendered())return t("#nprogress");t("html").addClass("nprogress-busy");var i=t("<div id='nprogress'>").html(a.template),s=e?"-100":n(o.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),a.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},o.remove=function(){t("html").removeClass("nprogress-busy"),t("#nprogress").remove()},o.isRendered=function(){return t("#nprogress").length>0},o.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"},o}),function(){var t,e,n,i,o,a,s,r,l,c,d,u,f,p,h,m,g,v,b,y,x,S,w,C,k,$,T,M,F,E,L,_,P=[].slice;g='<span class="odometer-value"></span>',p='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+g+"</span></span>",i='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+p+"</span></span>",s='<span class="odometer-formatting-mark"></span>',n="(,ddd).dd",r=/^\(?([^)]*)\)?(?:(.)(d+))?$/,l=30,a=2e3,t=20,c=2,o=.5,d=1e3/l,e=1e3/t,h="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",k=document.createElement("div").style,m=null!=k.transition||null!=k.webkitTransition||null!=k.mozTransition||null!=k.oTransition,w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,u=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.children[0]},S=function(t,e){return t.className=t.className.replace(RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},v=function(t,e){return S(t,e),t.className+=" "+e},$=function(t,e){var n;return null!=document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0),t.dispatchEvent(n)):void 0},x=function(){var t,e;return null!=(t=null!=(e=window.performance)?"function"==typeof e.now?e.now():void 0:void 0)?t:+new Date},C=function(t,e){return null==e&&(e=0),e?(t*=Math.pow(10,e),t+=.5,t=Math.floor(t),t/=Math.pow(10,e)):Math.round(t)},T=function(t){return 0>t?Math.ceil(t):Math.floor(t)},y=function(t){return t-C(t)},F=!1,(M=function(){var t,e,n,i,o;if(!F&&null!=window.jQuery){for(F=!0,i=["html","text"],o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(function(t){var e;return e=window.jQuery.fn[t],window.jQuery.fn[t]=function(t){var n;return null==t||null==(null!=(n=this[0])?n.odometer:void 0)?e.apply(this,arguments):this[0].odometer.update(t)}}(t));return o}})(),setTimeout(M,0),f=function(){function t(e){var n,i,o,s,r,l,u,f,p,h,m=this;if(this.options=e,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,f=t.options;for(i in f)s=f[i],null==this.options[i]&&(this.options[i]=s);null==(r=this.options).duration&&(r.duration=a),this.MAX_VALUES=0|this.options.duration/d/c,this.resetFormat(),this.value=this.cleanValue(null!=(p=this.options.value)?p:""),this.renderInside(),this.render();try{for(h=["innerHTML","innerText","textContent"],l=0,u=h.length;u>l;l++)o=h[l],null!=this.el[o]&&!function(t){return Object.defineProperty(m.el,t,{get:function(){var e;return"innerHTML"===t?m.inside.outerHTML:null!=(e=m.inside.innerText)?e:m.inside.textContent},set:function(t){return m.update(t)}})}(o)}catch(g){n=g,this.watchForMutations()}}return t.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},t.prototype.watchForMutations=function(){var t,e=this;if(null!=u)try{return null==this.observer&&(this.observer=new u(function(){var t;return t=e.el.innerText,e.renderInside(),e.render(e.value),e.update(t)})),this.watchMutations=!0,this.startWatchingMutations()}catch(n){t=n}},t.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},t.prototype.stopWatchingMutations=function(){var t;return null!=(t=this.observer)?t.disconnect():void 0},t.prototype.cleanValue=function(t){var e;return"string"==typeof t&&(t=t.replace(null!=(e=this.format.radix)?e:".","<radix>"),t=t.replace(/[.,]/g,""),t=t.replace("<radix>","."),t=parseFloat(t,10)||0),C(t,this.format.precision)},t.prototype.bindTransitionEnd=function(){var t,e,n,i,o,a,s=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,e=!1,o=h.split(" "),a=[],n=0,i=o.length;i>n;n++)t=o[n],a.push(this.el.addEventListener(t,function(){return e?!0:(e=!0,setTimeout(function(){return s.render(),e=!1,$(s.el,"odometerdone")},0),!0)},!1));return a}},t.prototype.resetFormat=function(){var t,e,i,o,a,s,l,c;if(t=null!=(l=this.options.format)?l:n,t||(t="d"),i=r.exec(t),!i)throw Error("Odometer: Unparsable digit format");return c=i.slice(1,4),s=c[0],a=c[1],e=c[2],o=(null!=e?e.length:void 0)||0,this.format={repeating:s,radix:a,precision:o}},t.prototype.render=function(t){var e,n,i,o,a,s,r,l,c,d,u,f;for(null==t&&(t=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",s=this.options.theme,e=this.el.className.split(" "),a=[],l=0,d=e.length;d>l;l++)n=e[l],n.length&&((o=/^odometer-theme-(.+)$/.exec(n))?s=o[1]:/^odometer(-|$)/.test(n)||a.push(n));for(a.push("odometer"),m||a.push("odometer-no-transitions"),s?a.push("odometer-theme-"+s):a.push("odometer-auto-theme"),this.el.className=a.join(" "),this.ribbons={},this.digits=[],r=!this.format.precision||!y(t)||!1,f=(""+t).split("").reverse(),c=0,u=f.length;u>c;c++)i=f[c],"."===i&&(r=!0),this.addDigit(i,r);return this.startWatchingMutations()},t.prototype.update=function(t){var e,n=this;return t=this.cleanValue(t),(e=t-this.value)?(S(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),e>0?v(this.el,"odometer-animating-up"):v(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(t),this.startWatchingMutations(),setTimeout(function(){return n.el.offsetHeight,v(n.el,"odometer-animating")},0),this.value=t):void 0},t.prototype.renderDigit=function(){return b(i)},t.prototype.insertDigit=function(t,e){return null!=e?this.inside.insertBefore(t,e):this.inside.children.length?this.inside.insertBefore(t,this.inside.children[0]):this.inside.appendChild(t)},t.prototype.addSpacer=function(t,e,n){var i;return i=b(s),i.innerHTML=t,n&&v(i,n),this.insertDigit(i,e)},t.prototype.addDigit=function(t,e){var n,i,o,a;if(null==e&&(e=!0),"-"===t)return this.addSpacer(t,null,"odometer-negation-mark");if("."===t)return this.addSpacer(null!=(a=this.format.radix)?a:".",null,"odometer-radix-mark");if(e)for(o=!1;;){if(!this.format.repeating.length){if(o)throw Error("Bad odometer format without digits");this.resetFormat(),o=!0}if(n=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===n)break;this.addSpacer(n)}return i=this.renderDigit(),i.querySelector(".odometer-value").innerHTML=t,this.digits.push(i),this.insertDigit(i)},t.prototype.animate=function(t){return m&&"count"!==this.options.animation?this.animateSlide(t):this.animateCount(t)},t.prototype.animateCount=function(t){var n,i,o,a,s,r=this;return(i=+t-this.value)?(a=o=x(),n=this.value,(s=function(){var l,c,d;return x()-a>r.options.duration?(r.value=t,r.render(),$(r.el,"odometerdone"),void 0):(l=x()-o,l>e&&(o=x(),d=l/r.options.duration,c=i*d,n+=c,r.render(Math.round(n))),null!=w?w(s):setTimeout(s,e))})()):void 0},t.prototype.getDigitCount=function(){var t,e,n,i,o,a;for(i=arguments.length>=1?P.call(arguments,0):[],t=o=0,a=i.length;a>o;t=++o)n=i[t],i[t]=Math.abs(n);return e=Math.max.apply(Math,i),Math.ceil(Math.log(e+1)/Math.log(10))},t.prototype.getFractionalDigitCount=function(){var t,e,n,i,o,a,s;for(o=arguments.length>=1?P.call(arguments,0):[],e=/^\-?\d*\.(\d*?)0*$/,t=a=0,s=o.length;s>a;t=++a)i=o[t],o[t]=""+i,n=e.exec(o[t]),o[t]=null==n?0:n[1].length;return Math.max.apply(Math,o)},t.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},t.prototype.animateSlide=function(t){var e,n,i,a,s,r,l,c,d,u,f,p,h,m,g,b,y,x,S,w,C,k,$,M,F,E,L;if(b=this.value,c=this.getFractionalDigitCount(b,t),c&&(t*=Math.pow(10,c),b*=Math.pow(10,c)),i=t-b){for(this.bindTransitionEnd(),a=this.getDigitCount(b,t),s=[],e=0,f=S=0;a>=0?a>S:S>a;f=a>=0?++S:--S){if(y=T(b/Math.pow(10,a-f-1)),l=T(t/Math.pow(10,a-f-1)),r=l-y,Math.abs(r)>this.MAX_VALUES){for(u=[],p=r/(this.MAX_VALUES+this.MAX_VALUES*e*o),n=y;r>0&&l>n||0>r&&n>l;)u.push(Math.round(n)),n+=p;u[u.length-1]!==l&&u.push(l),e++}else u=function(){L=[];for(var t=y;l>=y?l>=t:t>=l;l>=y?t++:t--)L.push(t);return L}.apply(this);for(f=w=0,k=u.length;k>w;f=++w)d=u[f],u[f]=Math.abs(d%10);s.push(u)}for(this.resetDigits(),E=s.reverse(),f=C=0,$=E.length;$>C;f=++C)for(u=E[f],this.digits[f]||this.addDigit(" ",f>=c),null==(x=this.ribbons)[f]&&(x[f]=this.digits[f].querySelector(".odometer-ribbon-inner")),this.ribbons[f].innerHTML="",0>i&&(u=u.reverse()),h=F=0,M=u.length;M>F;h=++F)d=u[h],g=document.createElement("div"),g.className="odometer-value",g.innerHTML=d,this.ribbons[f].appendChild(g),h===u.length-1&&v(g,"odometer-last-value"),0===h&&v(g,"odometer-first-value");return 0>y&&this.addDigit("-"),m=this.inside.querySelector(".odometer-radix-mark"),null!=m&&m.parent.removeChild(m),c?this.addSpacer(this.format.radix,this.digits[c-1],"odometer-radix-mark"):void 0}},t}(),f.options=null!=(L=window.odometerOptions)?L:{},setTimeout(function(){var t,e,n,i,o;if(window.odometerOptions){i=window.odometerOptions,o=[];for(t in i)e=i[t],o.push(null!=(n=f.options)[t]?(n=f.options)[t]:n[t]=e);return o}},0),f.init=function(){var t,e,n,i,o,a;if(null!=document.querySelectorAll){for(e=document.querySelectorAll(f.options.selector||".odometer"),a=[],n=0,i=e.length;i>n;n++)t=e[n],a.push(t.odometer=new f({el:t,value:null!=(o=t.innerText)?o:t.textContent}));return a}},null!=(null!=(_=document.documentElement)?_.doScroll:void 0)&&null!=document.createEventObject?(E=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&f.options.auto!==!1&&f.init(),null!=E?E.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return f.options.auto!==!1?f.init():void 0},!1),window.Odometer=f}.call(this),function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var e=window.StyleFix={link:function(t){try{if("stylesheet"!==t.rel||t.hasAttribute("data-noprefix"))return}catch(n){return}var i,o=t.href||t.getAttribute("data-href"),a=o.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(a)||[""])[0],r=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(a)||[""])[0],l=/^([^?]*)\??/.exec(o)[1],c=t.parentNode,d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&i()},i=function(){var n=d.responseText;if(n&&t.parentNode&&(!d.status||400>d.status||d.status>600)){if(n=e.fix(n,!0,t),a){n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(t,e,n){return/^([a-z]{3,10}:|#)/i.test(n)?t:/^\/\//.test(n)?'url("'+s+n+'")':/^\//.test(n)?'url("'+r+n+'")':/^\?/.test(n)?'url("'+l+n+'")':'url("'+a+n+'")'});var i=a.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}var o=document.createElement("style");o.textContent=n,o.media=t.media,o.disabled=t.disabled,o.setAttribute("data-href",t.getAttribute("href")),c.insertBefore(o,t),c.removeChild(t),o.media=t.media}};try{d.open("GET",o),d.send(null)}catch(n){"undefined"!=typeof XDomainRequest&&(d=new XDomainRequest,d.onerror=d.onprogress=function(){},d.onload=i,d.open("GET",o),d.send(null))}t.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var n=t.disabled;t.textContent=e.fix(t.textContent,!0,t),t.disabled=n}},styleAttribute:function(t){var n=t.getAttribute("style");n=e.fix(n,!1,t),t.setAttribute("style",n)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,n){(e.fixers=e.fixers||[]).splice(void 0===n?e.fixers.length:n,0,t)},fix:function(t,n,i){for(var o=0;e.fixers.length>o;o++)t=e.fixers[o](t,n,i)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}};(function(){setTimeout(function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(t){function e(t,e,i,o,a){if(t=n[t],t.length){var s=RegExp(e+"("+t.join("|")+")"+i,"gi");a=a.replace(s,o)}return a}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(t,i){var o=n.prefix;if(n.functions.indexOf("linear-gradient")>-1&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(t,e,n,i){return e+(n||"")+"linear-gradient("+(90-i)+"deg"})),t=e("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",t),t=e("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",t),t=e("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",t),n.properties.length){var a=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");t=e("valueProperties","\\b",":(.+?);",function(t){return t.replace(a,o+"$1")},t)}return i&&(t=e("selectors","","\\b",n.prefixSelector,t),t=e("atrules","@","\\b","@"+o+"$1",t)),t=t.replace(RegExp("-"+o,"g"),"-"),t=t.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(t){return(n.properties.indexOf(t)?n.prefix:"")+t},value:function(t){return t=e("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",t),t=e("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",t)},prefixSelector:function(t){return t.replace(/^:{1,2}/,function(t){return t+n.prefix})},prefixProperty:function(t,e){var i=n.prefix+t;return e?StyleFix.camelCase(i):i}};(function(){var t={},e=[],i=getComputedStyle(document.documentElement,null),o=document.createElement("div").style,a=function(n){if("-"===n.charAt(0)){e.push(n);var i=n.split("-"),o=i[1];for(t[o]=++t[o]||1;i.length>3;){i.pop();var a=i.join("-");s(a)&&-1===e.indexOf(a)&&e.push(a)}}},s=function(t){return StyleFix.camelCase(t)in o};if(i.length>0)for(var r=0;i.length>r;r++)a(i[r]);else for(var l in i)a(StyleFix.deCamelCase(l));var c={uses:0};for(var d in t){var u=t[d];u>c.uses&&(c={prefix:d,uses:u})}n.prefix="-"+c.prefix+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(var r=0;e.length>r;r++){var l=e[r];if(0===l.indexOf(n.prefix)){var f=l.slice(n.prefix.length);s(f)||n.properties.push(f)}}"Ms"==n.Prefix&&!("transform"in o)&&!("MsTransform"in o)&&"msTransform"in o&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function t(t,e){return o[e]="",o[e]=t,!!o[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};n.functions=[],n.keywords=[];var o=document.createElement("div").style;for(var a in e){var s=e[a],r=s.property,l=a+"("+s.params+")";!t(l,r)&&t(n.prefix+l,r)&&n.functions.push(a)}for(var c in i){var r=i[c];!t(c,r)&&t(n.prefix+c,r)&&n.keywords.push(c)}}(),function(){function e(t){return a.textContent=t+"{}",!!a.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},o={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var a=t.appendChild(document.createElement("style"));for(var s in i){var r=s+(i[s]?"("+i[s]+")":"");!e(r)&&e(n.prefixSelector(r))&&n.selectors.push(s)}for(var l in o){var r=l+" "+(o[l]||"");!e("@"+r)&&e("@"+n.prefix+r)&&n.atrules.push(l)}t.removeChild(a)}(),n.valueProperties=["transition","transition-property"],t.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,s="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[r]()}this.sliding=!0,a&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:a.slide;o||i.data("bs.carousel",o=new e(this,a)),"number"==typeof n?o.to(n):s?o[s]():a.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),o.carousel(a),(s=i.attr("data-slide-to"))&&o.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),r=s?"toggle":i.data(),l=i.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(r)})}(jQuery),+function(t){"use strict";function e(){t(i).remove(),t(o).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=n(o),s=a.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),s=a.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&a.find(o).focus(),i.click();var r=t("[role=menu] li:not(.divider):visible a",a);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&r.length-1>l&&l++,~l||(l=0),r.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",a.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);
a||o.data("bs.modal",a=new e(this,s)),"string"==typeof n?a[n](i):s.show&&a.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var s=o[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(i);a&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),r=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;i="bottom"==i&&s.top+s.height+l-u>p?"top":"top"==i&&0>s.top-u-l?"bottom":"right"==i&&s.right+r>f?"left":"left"==i&&h>s.left-r?"right":i,n.removeClass(d).addClass(i)}var m=this.getCalculatedOffset(i,s,r,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),t.top=t.top+s,t.left=t.left+r,i.offset(t).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==e&&c!=a&&(n=!0,t.top=t.top+a-c),/bottom|top/.test(e)){var d=0;0>t.left&&(d=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-o+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof n&&n;o||i.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof n&&n;o||i.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,i){var o,a=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),a=/^#\w/.test(o)&&t(o);return a&&a.length&&[[a[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,a=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=a.last()[0])&&this.activate(t);for(t=o.length;t--;)s!=a[t]&&e>=o[t]&&(!o[t+1]||o[t+1]>=e)&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(a),!a.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),s=i&&t.support.transition&&a.hasClass("fade");s?a.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,s=a.top,r=a.bottom;"object"!=typeof a&&(r=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof r&&(r=a.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),a="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),function(t){window.muffin={},muffin.displaceElt=function(t,e){var n=e.offset().top-t.offset().top;t.addClass("disappear"),e.attr("style","position: relative;top: -"+n+"px;")},muffin.envoyerCode=function(e){NProgress.start(),t.ajax({type:"GET",url:"Login/register/"+e}).done(function(n){"1"===(""+n)[0]?(NProgress.inc(),t.get("Home/loginnew/"+e,function(e){t("#input-login").attr("disabled","disabled"),t("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),e=t(e),e.addClass("loading"),t("div[data-role='container']").append(e),setTimeout(function(){t.smoothScroll({offset:t(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),e.addClass("complete"),muffin.displaceElt(t("[data-content='login'] header"),t("[data-content='login'] form"))},200)})):"-1"===(""+n).slice(0,2)?(NProgress.inc(),t.get("Home/loginExists/"+e,function(e){t("#input-login").attr("disabled","disabled"),t("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),e=t(e),e.addClass("loading"),t("div[data-role='container']").append(e),setTimeout(function(){t.smoothScroll({offset:t(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),e.addClass("complete"),muffin.displaceElt(t("[data-content='login'] header"),t("[data-content='login'] form"))},200)})):"-2"===(""+n).slice(0,2)&&(NProgress.done(),t("[data-content='login'] div[role='title'] > p").first().html("Vous devez être un étudiant de 42"),t("#input-login + button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span>'))})},muffin.changeName=function(e){t("[data-content='login']").addClass("disappear").queue("fx",function(){t(this).html("<h1 class='entered-login'><i>"+e+"</i></h1>").dequeue()}).addClass("appear")},muffin.verifierCode=function(e,n){t.ajax({type:"POST",data:{code:e,login:n},url:"Login/checkCode"}).done(function(e){"1"===(""+e)[0]?t.get("User/index",function(e){t("#input-code").attr("disabled","disabled"),t("#input-code + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),e=t(e),e.addClass("loading"),t("div[data-role='container']").children().slideUp(),t("div[data-role='container']").html(e);var n=t("#main-head-toolbar");0==n.children().length&&(n.html('<a class="btn" data-toggle="modal" data-target="#modal-notifications" class="btn" id="notif-aera"></a><a class="btn" data-toggle="modal" data-target="#modal-params"><span class="icon-spoon"></span></a><a class="btn" role="indicator">À jour</a>'),console.log("Toolbar updated !")),reloadHandlers(),NProgress.done(),e.addClass("complete")}):(t("#form-passphrase").parent().parent().find("div[role='title'] > p").first().html("Mot de passe incorrect"),t("#input-passphrase").attr("style","color: #C02942"),t("#form-passphrase").find("button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span> '))})},muffin.renvoyerCode=function(e){var n=t("#re-send-mail"),i=n.find("span").first();i.removeClass("icon-repeat").addClass("icon-time"),t.ajax({type:"GET",url:"Login/update/"+e}).done(function(t){NProgress.done(),"1"===(""+t)[0]?n.html("Mail envoyé ! <span class='icon-checkmark'></span>"):n.html("Une erreur s'est produite <span class='icon-warning-outline'></span>")})},muffin.autoSearchUser=function(e){var n=5,i=t("#search_user_results"),o=t("#search_comp_uid");""!=e&&void 0!=e?t.getJSON("Search/users/"+e,function(e){var a,s;i.parent().show(),i.empty();for(s in e)n>s&&(console.log(s),a=t("<li><a>"+e[s]+"</a></li>"),a.click(function(){o.val(t(this).text()),muffin.searchUSerData()}),i.append(a))}):(i.parent().hide(),i.empty())},muffin.searchUSerData=function(){var e=t("#search_comp_uid").val(),n=t("#btn_search_comp_uid"),i=n.find("span").first(),o=t("#status_search_comp_uid"),a="#modal-explore";e?(i.removeClass("icon-uniF488").addClass("icon-clock3"),t.ajax({type:"GET",url:"Search/user/"+e}).done(function(e){NProgress.done(),"0"===(""+e)[0]?(i.removeClass("icon-clock3").addClass("icon-multiply"),o.html("Il semblerait que l'uid n'existe pas, ou que ses compétences ne soient pas publiques.")):(i.removeClass("icon-clock3").addClass("icon-uniF488"),t(a).modal("hide"),t("#search_comp_uid").val(""),muffin.autoSearchUser(),e=t(e),e.addClass("loading"),t("div[data-role='form-container']").children().slideUp(),t("div[data-role='form-container']").html(e),setTimeout(function(){NProgress.done(),e.addClass("complete"),reloadHandlers()},200))})):o.html("Vous devez rentrer un uid")}}(jQuery),$(document).ready(function(){initalizeForm(),reloadHandlers(),window.clearInterval(window.intervalHandler),window.intervalHandler=setInterval(notifications,5e3),$.getJSON("https://api.github.com/repos/lambda2/Muffin/tags",function(t){var e=t[0].commit.sha;$.getJSON("https://api.github.com/repos/lambda2/Muffin/commits/"+e,function(e){var n=e,i=n.commit.committer.date.slice(0,10),o=n.stats.additions,a=n.stats.deletions,s="<span class='icon-flow-tree'></span> <span class='git-add'>+"+o+"</span>  <span class='git-del'>-"+a+"</span>";$("div[role='git-info']").html("<p>\n				<a href='https://github.com/lambda2/Muffin'><span class='icon-github'></span>\n				v"+t[0].name+" datant du "+i+"  ─  "+s+"</a> </p>")})})}),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,o=window.console=window.console||{};i--;)t=n[i],o[t]||(o[t]=e)}(),window.Muffin={},Muffin.goToUrl=goToUrl,Muffin.bindAjaxEvents=bindAjaxEvents,Muffin.addCheckHandler=addCheckHandler;var initalizeForm=function(){window.ioptions={target:"#form-result",beforeSubmit:showRequest,success:showResponse,url:"User/updatecompetence",type:"post"},$('div[data-role="form-container"] form').submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems()};Muffin.initalizeForm=initalizeForm;var initalizeAddForm=function(){var t={target:"#form-result",beforeSubmit:showAddRequest,success:showAddResponse,url:"User/addcompetence",type:"post"};$("#form-add-competence").submit(function(){console.log("initialized");var e=document.getElementById("form-add-competence");return e.checkValidity()&&$(this).ajaxSubmit(t),!1})};Muffin.initalizeAddForm=initalizeAddForm;var initializePanelMenu=function(){$("#panel-menu > li[data-index-toggle]").click(function(){var t=$(this).attr("data-index-toggle");$("#panel-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$(".items-panels > li[data-index!='"+t+"']").hide(),$(".items-panels > li[data-index='"+t+"']").show(),treatResize()})};Muffin.initializePanelMenu=initializePanelMenu;var initializeHelpMenu=function(){$("#exchange-panel > li[data-index]").hide(),$("#exchange-panel > li[data-index='1']").show(),$("#exchange-menu > li[data-index-toggle]").click(function(){var t=$(this).attr("data-index-toggle");$("#exchange-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$("#exchange-panel > li[data-index!='"+t+"']").hide(),$("#exchange-panel > li[data-index='"+t+"']").show(),treatResize()}),$("#load-expired-nhelp--button").click(function(){var t=$(this);t.html("Chargement..."),$.get("Echanges/oldneed",function(e){$("#exchange-panel li[data-index='2'] ul[data-role='liste-competences']").append(e),t.hide()})}),$("#load-expired-help--button").click(function(){var t=$(this);t.html("Chargement..."),$.get("Echanges/oldhelp",function(e){$("#exchange-panel li[data-index='1'] ul[data-role='liste-competences']").append(e),t.hide()})})};Muffin.initializeHelpMenu=initializeHelpMenu;var queryUserStatus=function(){$("[data-locate]").click(function(){$("[role='indicator']").html("Recuperation des postes...");var t=$(this);t.addClass("loading");var e=$(this).attr("data-login");$.ajax({url:"User/getstatus",type:"POST",data:{login:e},dataType:"json"}).done(function(e){void 0==e.error?(t.attr("style",""),t.addClass("online"),t.removeClass("offline"),t.html(e.last_host.replace(".42.fr",""))):(t.removeClass("online"),t.addClass("offline"))}),t.removeClass("loading"),$("[role='indicator']").html("A jour")})};Muffin.queryUserStatus=queryUserStatus;var markLastNotificationAsRead=function(){$.get("Notification/readLastNew",function(t){"0"!==t?console.log("Notification lue."):console.log("Aucune nouvelle notification a lire..."),window.intervalHandler=setInterval(notifications,1e4)})};Muffin.markLastNotificationAsRead=markLastNotificationAsRead;var checkNotifications=function(){var t=$("#notif-aera");$.get("Notification/getCount",function(e){"0"!==e&&(t.addClass("new"),$.get("Notification/getLastNew",function(t){if(window.clearInterval(window.intervalHandler),void 0!=t&&t.length>0){var e=new Notify("Muffin",{body:t,tag:t,notifyClose:markLastNotificationAsRead,notifyClick:markLastNotificationAsRead});e.needsPermission()&&e.requestPermission(),e.show()}})),t.html("<span class='icon-elipse'></span><span class='not-num'>"+e+"</span>")})};Muffin.checkNotifications=checkNotifications;var notifications=function(){checkNotifications();var t=$("#notif-aera");t.click(function(){$.get("Notification/get",function(e){$("#modal-notifications .modal-body").html(e),t.removeClass("new")})})};Muffin.notifications=notifications;var addClearItems=function(){$('div[data-role="form-container"] fieldset').each(function(){var t=$(this),e=t.find(".radio input").first();0===t.find(".clear-all").length&&t.append("<a class='clear-all' data-items='"+e.attr("name")+"'><span class='icon-multiply'></span></a>")}),$("div[data-role='form-container'] form fieldset a.clear-all").click(function(){var t=$(this),e=t.parent().find(".radio input[name='niveau']");$.ajax({url:"User/deletecompetence",type:"POST",data:{id_competence:t.parent().parent().find("input[name='id_competence']").val(),comp:t.attr("data-items")}}).done(function(){e.each(function(){$(this).is(":checked")&&$(this).removeAttr("checked")})})})};Muffin.addClearItems=addClearItems;var treatResize=function(){$("div[data-role='container']").height()>=$(window).height()?$(".footer-container").addClass("nofix"):$(".footer-container").removeClass("nofix")};Muffin.treatResize=treatResize;var afterUserUpdate=function(t){console.log("after"),"1"==t[0]?($('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Paramètres mis à jour"),$("#status_public_icon").removeClass("icon-clock3").addClass("icon-checkmark2"),$("#modal-params").modal("hide")):($("#status_public_icon").removeClass("icon-clock3").addClass("icon-multiply"),$("#status_update_uid").html(t)),Muffin.updateSemaphore=!1};Muffin.afterUserUpdate=afterUserUpdate,Muffin.updateSemaphore=!1;var initFormComportement=function(){$("#form_search_uid").submit(function(t){return t.stopImmediatePropagation(),window.muffin.searchUSerData(),!1}),$("#form_params").submit(function(t){if(t.stopImmediatePropagation(),0==Muffin.updateSemaphore){Muffin.updateSemaphore=!0;var e={target:"#form-result",beforeSubmit:function(){$("#status_public_icon").removeClass("icon-uniF488").removeClass("icon-multiply").removeClass("icon-checkmark2").addClass("icon-clock3")},success:afterUserUpdate,url:"User/update",type:"post"};console.log("update"),$(this).ajaxSubmit(e)}return!1})};Muffin.initFormComportement=initFormComportement;var mainHeadLink=function(){$("header > h1.title").click(function(){goToUrl("User/me")})};Muffin.mainHeadLink=mainHeadLink;var reloadHandlers=function(){NProgress.configure({showSpinner:!1}),$("a").smoothScroll(),treatResize(),$(window).resize(treatResize),bindAjaxEvents(),initalizeAddForm(),initFormComportement(),initializePanelMenu(),initializeHelpMenu(),notifications(),mainHeadLink();try{queryUserStatus()}catch(t){}$("[data-toggle='tooltip']").tooltip({container:"body",placement:"auto bottom"}),$("aside.side-menu > ul").affix({offset:{top:231,bottom:function(){return this.bottom=$(".footer-container").outerHeight(!0)}}})};Muffin.reloadHandlers=reloadHandlers,Muffin.charts={},Muffin.charts.prepareLegend=function(t,e){t.html("");for(var n=0;e.length>n;n++)t.append('<p><span style="color: '+e[n].color+';" class="icon-uniF52F"></span> <b>'+e[n].value+" </b> "+e[n].legend+"</p>")},Muffin.charts.drawTopTen=function(t,e){0!=e%5&&(e=e+5-e%5);var n=$("#chart-top-users").get(0).getContext("2d");new Chart(n).Bar(t,{scaleOverlay:!0,scaleOverride:!0,scaleSteps:5,scaleStepWidth:e/5,scaleStartValue:0})},Muffin.charts.drawInscrits=function(t){var e=t,n=function(){var t=$(".stats-inscrits-legend");t.addClass("complete").removeClass("loading"),$(".stats-big-number.loading").addClass("complete").removeClass("loading")};Muffin.charts.prepareLegend($(".stats-inscrits-legend"),e);var i=$("#chart-inscrits").get(0).getContext("2d");new Chart(i).Doughnut(t,{segmentStrokeColor:"#F7E4BE",animationEasing:"easeOutBounce"}),n()};