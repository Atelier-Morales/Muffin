
/*******************************************************************************    
                                                      
        sssyhddmmmddhys                        
      dNNNNNmss  sssyhmNddms                   
     dNNNNmhs         dNNNNNs           
   sNd sy     mNNmdy   sdNNNNs        Muffin - v1.1.4     
   Nd        dNNNNNy      ysNm        ---------------
  sNh           ssy         mN                        
   mNymdhy          shddmy hNd       Sorti du four le 2014-01-10
   sdNNNNNmsssssssssmNNNNNNNh             
     syyhddddddddddddddhhyss         Copyright (c) 2014 André Aubin
    sNNm shhh shhh shhd smNN                    
     dNNssNNN yNNN sNNN hNNy         Code source sous licence Apache 2      
     sNNy NNN yNNN sNNm dNN                    
      hNh mNN yNNN sNNd mNy             
          ydd smmm sdds                 

*******************************************************************************/function goToUrl(e){$.get(e,function(e){e=$(e),e.addClass("loading"),$("div[data-role='form-container']").children().slideUp(),$("div[data-role='form-container']").html(e),setTimeout(function(){NProgress.done(),e.addClass("complete"),reloadHandlers()},200)})}function bindAjaxEvents(){$("[data-load-target]").each(function(){var e=$(this).attr("data-load-target");$(this).click(function(){goToUrl(e)})})}function addCheckHandler(e){$("div[data-role='form-container'] form .radio input, div[data-role='form-container'] form input[type='checkbox']").change(function(){console.log("change"),$(this).parents("form").trigger("submit")});for(elt in e)$("input#"+e[elt]).attr("checked","checked")}function showRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Enregistrement..."),!0}function showResponse(){NProgress.done(),$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Enregistré.")}function showAddRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Ajout..."),$("#input-nom-comp + button").html("<span class='icon-time'></span>"),!0}function showAddResponse(e,t){$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Ajouté."),$("#input-nom-comp + button").html("<span class='icon-chevron-right'></span>"),console.log("responseText:",e),console.log("statusText:",t);var n=$(e);n.addClass("preparing");var i=$("div[data-role='form-container'] > ul.items-panels"),o=$("#form-add-competence .radio-group input:checked").val();"1"==o?o="3":"3"==o&&(o="1"),console.log("type = "+o),i.find("li[data-index='"+o+"']").append(n),addCheckHandler(window.toCheck),n.submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems(),setTimeout(function(){$.smoothScroll({offset:$(window).height()/2,scrollElement:null,scrollTarget:n}),NProgress.done(),n.addClass("complete").removeClass("preparing")},1e3)}var Chart=function(e){function t(e,t,n){return e=a((e-t.graphMin)/(t.steps*t.stepValue),1,0),n*t.steps*e}function n(e,t,n,i){function o(){l+=s;var c=e.animation?a(r(l),null,0):1;i.clearRect(0,0,d,u),e.scaleOverlay?(n(c),t()):(t(),n(c)),1>=l?b(o):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var s=e.animation?1/a(e.animationSteps,Number.MAX_VALUE,1):1,r=c[e.animationEasing],l=e.animation?0:1;"function"!=typeof t&&(t=function(){}),b(o)}function i(e,t,n,i,a,s){var r;for(e=Math.floor(Math.log(i-a)/Math.LN10),a=Math.floor(a/(1*Math.pow(10,e)))*Math.pow(10,e),i=Math.ceil(i/(1*Math.pow(10,e)))*Math.pow(10,e)-a,e=Math.pow(10,e),r=Math.round(i/e);n>r||r>t;)e=n>r?e/2:2*e,r=Math.round(i/e);return t=[],o(s,t,r,a,e),{steps:r,stepValue:e,graphMin:a,labels:t}}function o(e,t,n,i,o){if(e)for(var a=1;n+1>a;a++)t.push(r(e,{value:(i+o*a).toFixed(0!=o%1?(""+o).split(".")[1].length:0)}))}function a(e,t,n){return!isNaN(parseFloat(t))&&isFinite(t)&&e>t?t:!isNaN(parseFloat(n))&&isFinite(n)&&n>e?n:e}function s(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}function r(e,t){var n=/\W/.test(e)?Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):y[e]=y[e]||r(document.getElementById(e).innerHTML);return t?n(t):n}var l=this,c={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return 1>(e/=.5)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return 1>(e/=.5)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:1==(e/=1)?1:(n||(n=.3),Math.abs(1)>i?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:1==(e/=1)?1:(n||(n=.3),Math.abs(1)>i?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0==e?0:2==(e/=.5)?1:(n||(n=.3*1.5),Math.abs(1)>i?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):.5*i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-c.easeOutBounce(1-e)},easeOutBounce:function(e){return 1/2.75>(e/=1)?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*c.easeInBounce(2*e):.5*c.easeOutBounce(2*e-1)+.5}},d=e.canvas.width,u=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=d+"px",e.canvas.style.height=u+"px",e.canvas.height=u*window.devicePixelRatio,e.canvas.width=d*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,n){l.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.PolarArea.defaults,n):l.PolarArea.defaults;return new f(t,i,e)},this.Radar=function(t,n){l.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Radar.defaults,n):l.Radar.defaults;return new p(t,i,e)},this.Pie=function(t,n){l.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Pie.defaults,n):l.Pie.defaults;return new h(t,i,e)},this.Doughnut=function(t,n){l.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?s(l.Doughnut.defaults,n):l.Doughnut.defaults;return new m(t,i,e)},this.Line=function(t,n){l.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Line.defaults,n):l.Line.defaults;return new g(t,i,e)},this.Bar=function(t,n){l.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?s(l.Bar.defaults,n):l.Bar.defaults;return new v(t,i,e)};var f=function(e,a,s){var r,l,c,f,p,h,m,g,v;for(p=Math.min.apply(Math,[d,u])/2,p-=Math.max.apply(Math,[.5*a.scaleFontSize,.5*a.scaleLineWidth]),f=2*a.scaleFontSize,a.scaleShowLabelBackdrop&&(f+=2*a.scaleBackdropPaddingY,p-=1.5*a.scaleBackdropPaddingY),g=p,f=f?f:5,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;e.length>c;c++)e[c].value>r&&(r=e[c].value),l>e[c].value&&(l=e[c].value);c=Math.floor(g/(.66*f)),f=Math.floor(.5*(g/f)),v=a.scaleShowLabels?a.scaleLabel:null,a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(v,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(g,c,f,r,l,v),h=p/m.steps,n(a,function(){for(var e=0;m.steps>e;e++)if(a.scaleShowLine&&(s.beginPath(),s.arc(d/2,u/2,h*(e+1),0,2*Math.PI,!0),s.strokeStyle=a.scaleLineColor,s.lineWidth=a.scaleLineWidth,s.stroke()),a.scaleShowLabels){s.textAlign="center",s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily;var t=m.labels[e];if(a.scaleShowLabelBackdrop){var n=s.measureText(t).width;s.fillStyle=a.scaleBackdropColor,s.beginPath(),s.rect(Math.round(d/2-n/2-a.scaleBackdropPaddingX),Math.round(u/2-h*(e+1)-.5*a.scaleFontSize-a.scaleBackdropPaddingY),Math.round(n+2*a.scaleBackdropPaddingX),Math.round(a.scaleFontSize+2*a.scaleBackdropPaddingY)),s.fill()}s.textBaseline="middle",s.fillStyle=a.scaleFontColor,s.fillText(t,d/2,u/2-h*(e+1))}},function(n){var i=-Math.PI/2,o=2*Math.PI/e.length,r=1,l=1;for(a.animation&&(a.animateScale&&(r=n),a.animateRotate&&(l=n)),n=0;e.length>n;n++)s.beginPath(),s.arc(d/2,u/2,r*t(e[n].value,m,h),i,i+l*o,!1),s.lineTo(d/2,u/2),s.closePath(),s.fillStyle=e[n].color,s.fill(),a.segmentShowStroke&&(s.strokeStyle=a.segmentStrokeColor,s.lineWidth=a.segmentStrokeWidth,s.stroke()),i+=l*o},s)},p=function(e,s,r){var l,c,f,p,h,m,g,v,b;for(e.labels||(e.labels=[]),h=Math.min.apply(Math,[d,u])/2,p=2*s.scaleFontSize,l=v=0;e.labels.length>l;l++)r.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,c=r.measureText(e.labels[l]).width,c>v&&(v=c);for(h-=Math.max.apply(Math,[v,1.5*(s.pointLabelFontSize/2)]),h-=s.pointLabelFontSize,v=h=a(h,null,0),p=p?p:5,l=Number.MIN_VALUE,c=Number.MAX_VALUE,f=0;e.datasets.length>f;f++)for(b=0;e.datasets[f].data.length>b;b++)e.datasets[f].data[b]>l&&(l=e.datasets[f].data[b]),c>e.datasets[f].data[b]&&(c=e.datasets[f].data[b]);f=Math.floor(v/(.66*p)),p=Math.floor(.5*(v/p)),b=s.scaleShowLabels?s.scaleLabel:null,s.scaleOverride?(g={steps:s.scaleSteps,stepValue:s.scaleStepWidth,graphMin:s.scaleStartValue,labels:[]},o(b,g.labels,g.steps,s.scaleStartValue,s.scaleStepWidth)):g=i(v,f,p,l,c,b),m=h/g.steps,n(s,function(){var t=2*Math.PI/e.datasets[0].data.length;if(r.save(),r.translate(d/2,u/2),s.angleShowLineOut){r.strokeStyle=s.angleLineColor,r.lineWidth=s.angleLineWidth;for(var n=0;e.datasets[0].data.length>n;n++)r.rotate(t),r.beginPath(),r.moveTo(0,0),r.lineTo(0,-h),r.stroke()}for(n=0;g.steps>n;n++){if(r.beginPath(),s.scaleShowLine){r.strokeStyle=s.scaleLineColor,r.lineWidth=s.scaleLineWidth,r.moveTo(0,-m*(n+1));for(var i=0;e.datasets[0].data.length>i;i++)r.rotate(t),r.lineTo(0,-m*(n+1));r.closePath(),r.stroke()}s.scaleShowLabels&&(r.textAlign="center",r.font=s.scaleFontStyle+" "+s.scaleFontSize+"px "+s.scaleFontFamily,r.textBaseline="middle",s.scaleShowLabelBackdrop&&(i=r.measureText(g.labels[n]).width,r.fillStyle=s.scaleBackdropColor,r.beginPath(),r.rect(Math.round(-i/2-s.scaleBackdropPaddingX),Math.round(-m*(n+1)-.5*s.scaleFontSize-s.scaleBackdropPaddingY),Math.round(i+2*s.scaleBackdropPaddingX),Math.round(s.scaleFontSize+2*s.scaleBackdropPaddingY)),r.fill()),r.fillStyle=s.scaleFontColor,r.fillText(g.labels[n],0,-m*(n+1)))}for(n=0;e.labels.length>n;n++){r.font=s.pointLabelFontStyle+" "+s.pointLabelFontSize+"px "+s.pointLabelFontFamily,r.fillStyle=s.pointLabelFontColor;var i=Math.sin(t*n)*(h+s.pointLabelFontSize),o=Math.cos(t*n)*(h+s.pointLabelFontSize);r.textAlign=t*n==Math.PI||0==t*n?"center":t*n>Math.PI?"right":"left",r.textBaseline="middle",r.fillText(e.labels[n],i,-o)}r.restore()},function(n){var i=2*Math.PI/e.datasets[0].data.length;r.save(),r.translate(d/2,u/2);for(var o=0;e.datasets.length>o;o++){r.beginPath(),r.moveTo(0,-1*n*t(e.datasets[o].data[0],g,m));for(var a=1;e.datasets[o].data.length>a;a++)r.rotate(i),r.lineTo(0,-1*n*t(e.datasets[o].data[a],g,m));if(r.closePath(),r.fillStyle=e.datasets[o].fillColor,r.strokeStyle=e.datasets[o].strokeColor,r.lineWidth=s.datasetStrokeWidth,r.fill(),r.stroke(),s.pointDot)for(r.fillStyle=e.datasets[o].pointColor,r.strokeStyle=e.datasets[o].pointStrokeColor,r.lineWidth=s.pointDotStrokeWidth,a=0;e.datasets[o].data.length>a;a++)r.rotate(i),r.beginPath(),r.arc(0,-1*n*t(e.datasets[o].data[a],g,m),s.pointDotRadius,2*Math.PI,!1),r.fill(),r.stroke();r.rotate(i)}r.restore()},r)},h=function(e,t,i){for(var o=0,a=Math.min.apply(Math,[u/2,d/2])-5,s=0;e.length>s;s++)o+=e[s].value;n(t,null,function(n){var s=-Math.PI/2,r=1,l=1;for(t.animation&&(t.animateScale&&(r=n),t.animateRotate&&(l=n)),n=0;e.length>n;n++){var c=2*(l*e[n].value/o)*Math.PI;i.beginPath(),i.arc(d/2,u/2,r*a,s,s+c),i.lineTo(d/2,u/2),i.closePath(),i.fillStyle=e[n].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),s+=c}},i)},m=function(e,t,i){for(var o=0,a=Math.min.apply(Math,[u/2,d/2])-5,s=a*(t.percentageInnerCutout/100),r=0;e.length>r;r++)o+=e[r].value;n(t,null,function(n){var r=-Math.PI/2,l=1,c=1;for(t.animation&&(t.animateScale&&(l=n),t.animateRotate&&(c=n)),n=0;e.length>n;n++){var f=2*(c*e[n].value/o)*Math.PI;i.beginPath(),i.arc(d/2,u/2,l*a,r,r+f,!1),i.arc(d/2,u/2,l*s,r+f,r,!0),i.closePath(),i.fillStyle=e[n].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),r+=f}},i)},g=function(e,a,s){var r,l,c,f,p,h,m,g,v,b,y,x,S,w=0;for(p=u,s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,b=1,f=0;e.labels.length>f;f++)r=s.measureText(e.labels[f]).width,b=r>b?r:b;for(b>d/e.labels.length?(w=45,d/e.labels.length<Math.cos(w)*b?(w=90,p-=b):p-=Math.sin(w)*b):p-=a.scaleFontSize,f=a.scaleFontSize,p=p-5-f,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;e.datasets.length>c;c++)for(g=0;e.datasets[c].data.length>g;g++)e.datasets[c].data[g]>r&&(r=e.datasets[c].data[g]),l>e.datasets[c].data[g]&&(l=e.datasets[c].data[g]);if(c=Math.floor(p/(.66*f)),f=Math.floor(.5*(p/f)),g=a.scaleShowLabels?a.scaleLabel:"",a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(g,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(p,c,f,r,l,g),h=Math.floor(p/m.steps),f=1,a.scaleShowLabels){for(s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,r=0;m.labels.length>r;r++)l=s.measureText(m.labels[r]).width,f=l>f?l:f;f+=10}y=d-f-b,v=Math.floor(y/(e.labels.length-1)),x=d-b/2-y,S=p+a.scaleFontSize/2,n(a,function(){s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(d-b/2+5,S),s.lineTo(d-b/2-y-5,S),s.stroke(),w>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=a.scaleFontColor;for(var t=0;e.labels.length>t;t++)s.save(),w>0?(s.translate(x+t*v,S+a.scaleFontSize),s.rotate(-(w*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],x+t*v,S+a.scaleFontSize+3),s.beginPath(),s.moveTo(x+t*v,S+3),a.scaleShowGridLines&&t>0?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+t*v,5)):s.lineTo(x+t*v,S+3),s.stroke();for(s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(x,S+5),s.lineTo(x,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",t=0;m.steps>t;t++)s.beginPath(),s.moveTo(x-3,S-(t+1)*h),a.scaleShowGridLines?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+y+5,S-(t+1)*h)):s.lineTo(x-.5,S-(t+1)*h),s.stroke(),a.scaleShowLabels&&s.fillText(m.labels[t],x-8,S-(t+1)*h)},function(n){function i(i,o){return S-n*t(e.datasets[i].data[o],m,h)}for(var o=0;e.datasets.length>o;o++){s.strokeStyle=e.datasets[o].strokeColor,s.lineWidth=a.datasetStrokeWidth,s.beginPath(),s.moveTo(x,S-n*t(e.datasets[o].data[0],m,h));for(var r=1;e.datasets[o].data.length>r;r++)a.bezierCurve?s.bezierCurveTo(x+v*(r-.5),i(o,r-1),x+v*(r-.5),i(o,r),x+v*r,i(o,r)):s.lineTo(x+v*r,i(o,r));if(s.stroke(),a.datasetFill?(s.lineTo(x+v*(e.datasets[o].data.length-1),S),s.lineTo(x,S),s.closePath(),s.fillStyle=e.datasets[o].fillColor,s.fill()):s.closePath(),a.pointDot)for(s.fillStyle=e.datasets[o].pointColor,s.strokeStyle=e.datasets[o].pointStrokeColor,s.lineWidth=a.pointDotStrokeWidth,r=0;e.datasets[o].data.length>r;r++)s.beginPath(),s.arc(x+v*r,S-n*t(e.datasets[o].data[r],m,h),a.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}},s)},v=function(e,a,s){var r,l,c,f,p,h,m,g,v,b,y,x,S,w,C=0;for(p=u,s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,b=1,f=0;e.labels.length>f;f++)r=s.measureText(e.labels[f]).width,b=r>b?r:b;for(b>d/e.labels.length?(C=45,d/e.labels.length<Math.cos(C)*b?(C=90,p-=b):p-=Math.sin(C)*b):p-=a.scaleFontSize,f=a.scaleFontSize,p=p-5-f,r=Number.MIN_VALUE,l=Number.MAX_VALUE,c=0;e.datasets.length>c;c++)for(g=0;e.datasets[c].data.length>g;g++)e.datasets[c].data[g]>r&&(r=e.datasets[c].data[g]),l>e.datasets[c].data[g]&&(l=e.datasets[c].data[g]);if(c=Math.floor(p/(.66*f)),f=Math.floor(.5*(p/f)),g=a.scaleShowLabels?a.scaleLabel:"",a.scaleOverride?(m={steps:a.scaleSteps,stepValue:a.scaleStepWidth,graphMin:a.scaleStartValue,labels:[]},o(g,m.labels,m.steps,a.scaleStartValue,a.scaleStepWidth)):m=i(p,c,f,r,l,g),h=Math.floor(p/m.steps),f=1,a.scaleShowLabels){for(s.font=a.scaleFontStyle+" "+a.scaleFontSize+"px "+a.scaleFontFamily,r=0;m.labels.length>r;r++)l=s.measureText(m.labels[r]).width,f=l>f?l:f;f+=10}y=d-f-b,v=Math.floor(y/e.labels.length),w=(v-2*a.scaleGridLineWidth-2*a.barValueSpacing-(a.barDatasetSpacing*e.datasets.length-1)-(a.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,x=d-b/2-y,S=p+a.scaleFontSize/2,n(a,function(){s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(d-b/2+5,S),s.lineTo(d-b/2-y-5,S),s.stroke(),C>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=a.scaleFontColor;for(var t=0;e.labels.length>t;t++)s.save(),C>0?(s.translate(x+t*v,S+a.scaleFontSize),s.rotate(-(C*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],x+t*v+v/2,S+a.scaleFontSize+3),s.beginPath(),s.moveTo(x+(t+1)*v,S+3),s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+(t+1)*v,5),s.stroke();for(s.lineWidth=a.scaleLineWidth,s.strokeStyle=a.scaleLineColor,s.beginPath(),s.moveTo(x,S+5),s.lineTo(x,5),s.stroke(),s.textAlign="right",s.textBaseline="middle",t=0;m.steps>t;t++)s.beginPath(),s.moveTo(x-3,S-(t+1)*h),a.scaleShowGridLines?(s.lineWidth=a.scaleGridLineWidth,s.strokeStyle=a.scaleGridLineColor,s.lineTo(x+y+5,S-(t+1)*h)):s.lineTo(x-.5,S-(t+1)*h),s.stroke(),a.scaleShowLabels&&s.fillText(m.labels[t],x-8,S-(t+1)*h)},function(n){s.lineWidth=a.barStrokeWidth;for(var i=0;e.datasets.length>i;i++){s.fillStyle=e.datasets[i].fillColor,s.strokeStyle=e.datasets[i].strokeColor;for(var o=0;e.datasets[i].data.length>o;o++){var r=x+a.barValueSpacing+v*o+w*i+a.barDatasetSpacing*i+a.barStrokeWidth*i;s.beginPath(),s.moveTo(r,S),s.lineTo(r,S-n*t(e.datasets[i].data[o],m,h)+a.barStrokeWidth/2),s.lineTo(r+w,S-n*t(e.datasets[i].data[o],m,h)+a.barStrokeWidth/2),s.lineTo(r+w,S),a.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}},s)},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},y={}};(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var a=this;if(a.clk=n,"image"==n.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=i.offset();a.clk_x=t.pageX-s.left,a.clk_y=t.pageY-s.top}else a.clk_x=t.pageX-n.offsetLeft,a.clk_y=t.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,o,a=e.param(n,t.traditional).split("&"),s=a.length,r=[];for(i=0;s>i;i++)a[i]=a[i].replace(/\+/g," "),o=a[i].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}function s(i){for(var o=new FormData,a=0;i.length>a;a++)o.append(i[a].name,i[a].value);if(t.extraData){var s=n(t.extraData);for(a=0;s.length>a;a++)s[a]&&o.append(s[a][0],s[a][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(r.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(100*(i/o))),t.uploadProgress(e,i,o,n)},!1),n}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(e,n){n.data=t.formData?t.formData:o,c&&c.call(this,e,n)},e.ajax(r)}function r(n){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function s(){function t(){try{var e=o(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),r(T),w&&clearTimeout(w),w=void 0}}var n=u.attr2("target"),a=u.attr2("action");C.setAttribute("target",h),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),a!=f.url&&C.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(w=setTimeout(function(){S=!0,r($)},f.timeout));var s=[];try{if(f.extraData)for(var c in f.extraData)f.extraData.hasOwnProperty(c)&&(e.isPlainObject(f.extraData[c])&&f.extraData[c].hasOwnProperty("name")&&f.extraData[c].hasOwnProperty("value")?s.push(e('<input type="hidden" name="'+f.extraData[c].name+'">').val(f.extraData[c].value).appendTo(C)[0]):s.push(e('<input type="hidden" name="'+c+'">').val(f.extraData[c]).appendTo(C)[0]));f.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(t,15);try{C.submit()}catch(d){var p=document.createElement("form").submit;p.apply(C)}}finally{C.setAttribute("action",a),n?C.setAttribute("target",n):u.removeAttr("target"),e(s).remove()}}function r(t){if(!b.aborted&&!E){if(M=o(v),M||(i("cannot access response document"),t=T),t===$&&b)return b.abort("timeout"),k.reject(b,"timeout"),void 0;if(t==T&&b)return b.abort("server abort"),k.reject(b,"error","server abort"),void 0;if(M&&M.location.href!=f.iframeSrc||S){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var n,a="success";try{if(S)throw"timeout";var s="xml"==f.dataType||M.XMLDocument||e.isXMLDoc(M);if(i("isXml="+s),!s&&window.opera&&(null===M.body||!M.body.innerHTML)&&--L)return i("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var l=M.body?M.body:M.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=M.XMLDocument?M.XMLDocument:M,s&&(f.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(f.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||f.textarea){var u=M.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(d){var h=M.getElementsByTagName("pre")[0],m=M.getElementsByTagName("body")[0];h?b.responseText=h.textContent?h.textContent:h.innerText:m&&(b.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=D(b.responseText));try{_=O(b,c,f)}catch(y){a="parsererror",b.error=n=y||a}}catch(y){i("error caught: ",y),a="error",b.error=n=y||a}b.aborted&&(i("upload aborted"),a=null),b.status&&(a=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===a?(f.success&&f.success.call(f.context,_,"success",b),k.resolve(b.responseText,"success",b),p&&e.event.trigger("ajaxSuccess",[b,f])):a&&(void 0===n&&(n=b.statusText),f.error&&f.error.call(f.context,b,a,n),k.reject(b,"error",n),p&&e.event.trigger("ajaxError",[b,f,n])),p&&e.event.trigger("ajaxComplete",[b,f]),p&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,b,a),E=!0,f.timeout&&clearTimeout(w),setTimeout(function(){f.iframeTarget?g.attr("src",f.iframeSrc):g.remove(),b.responseXML=null},100)}}}var c,d,f,p,h,g,v,b,y,x,S,w,C=u[0],k=e.Deferred();if(k.abort=function(e){b.abort(e)},n)for(d=0;m.length>d;d++)c=e(m[d]),a?c.prop("disabled",!1):c.removeAttr("disabled");if(f=e.extend(!0,{},e.ajaxSettings,t),f.context=f.context||f,h="jqFormIO"+(new Date).getTime(),f.iframeTarget?(g=e(f.iframeTarget),x=g.attr2("name"),x?h=x:g.attr2("name",h)):(g=e('<iframe name="'+h+'" src="'+f.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",f.iframeSrc),b.error=n,f.error&&f.error.call(f.context,b,n,t),p&&e.event.trigger("ajaxError",[b,f,n]),f.complete&&f.complete.call(f.context,b,n)}},p=f.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[b,f]),f.beforeSend&&f.beforeSend.call(f.context,b,f)===!1)return f.global&&e.active--,k.reject(),k;if(b.aborted)return k.reject(),k;y=C.clk,y&&(x=y.name,x&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[x]=y.value,"image"==y.type&&(f.extraData[x+".x"]=C.clk_x,f.extraData[x+".y"]=C.clk_y)));var $=1,T=2,F=e("meta[name=csrf-token]").attr("content"),P=e("meta[name=csrf-param]").attr("content");P&&F&&(f.extraData=f.extraData||{},f.extraData[P]=F),f.forceSync?s():setTimeout(s,10);var _,M,E,L=50,D=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},A=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,n,i){var o=t.getResponseHeader("content-type")||"",a="xml"===n||!n&&o.indexOf("xml")>=0,s=a?t.responseXML:t.responseText;return a&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&o.indexOf("json")>=0?s=A(s):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(s)),s};return k}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),d="string"==typeof c?e.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var f={};if(this.trigger("form-pre-serialize",[this,t,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var h,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,h=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,p);h&&(v=v?v+"&"+h:h),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var b=[];if(t.resetForm&&b.push(function(){u.resetForm()}),t.clearForm&&b.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};b.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(y,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,n,i){for(var o=t.context||this,a=0,s=b.length;s>a;a++)b[a].apply(o,[e,n,i||u,u])},t.error){var x=t.error;t.error=function(e,n,i){var o=t.context||this;x.apply(o,[e,n,i,u])}}if(t.complete){var S=t.complete;t.complete=function(e,n){var i=t.context||this;S.apply(i,[e,n,u])}}var w=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),C=w.length>0,k="multipart/form-data",$=u.attr("enctype")==k||u.attr("encoding")==k,T=o.fileapi&&o.formdata;i("fileAPI :"+T);var F,P=(C||$)&&!T;t.iframe!==!1&&(t.iframe||P)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){F=r(g)}):F=r(g):F=(C||$)&&T?s(g):e.ajax(t),u.removeData("jqxhr").data("jqxhr",F);for(var _=0;m.length>_;_++)m[_]=null;return this.trigger("form-submit-notify",[this,t]),this
},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var a=this[0],s=t?a.getElementsByTagName("*"):a.elements;if(!s)return i;var r,l,c,d,u,f,p;for(r=0,f=s.length;f>r;r++)if(u=s[r],c=u.name,c&&!u.disabled)if(t&&a.clk&&"image"==u.type)a.clk==u&&(i.push({name:c,value:e(u).val(),type:u.type}),i.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}));else if(d=e.fieldValue(u,!0),d&&d.constructor==Array)for(n&&n.push(u),l=0,p=d.length;p>l;l++)i.push({name:c,value:d[l]});else if(o.fileapi&&"file"==u.type){n&&n.push(u);var h=u.files;if(h.length)for(l=0;h.length>l;l++)i.push({name:c,value:h[l],type:u.type});else i.push({name:c,value:"",type:u.type})}else null!==d&&void 0!==d&&(n&&n.push(u),i.push({name:c,value:d,type:u.type,required:u.required}));if(!t&&a.clk){var m=e(a.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(i.push({name:c,value:m.val()}),i.push({name:c+".x",value:a.clk_x},{name:c+".y",value:a.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var a=0,s=o.length;s>a;a++)n.push({name:i,value:o[a]});else null!==o&&void 0!==o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;o>i;i++){var a=this[i],s=e.fieldValue(a,t);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(n,s):n.push(s))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,a=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==a&&-1==t.selectedIndex))return null;if("select"==a){var s=t.selectedIndex;if(0>s)return null;for(var r=[],l=t.options,c="select-one"==o,d=c?s+1:l.length,u=c?s:0;d>u;u++){var f=l[u];if(f.selected){var p=f.value;if(p||(p=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return p;r.push(p)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1})("undefined"!=typeof jQuery?jQuery:window.Zepto),function(e){e.fn.makeForms=function(t){var n,i,o,a,s,r,l,c,d={},u={};t=e.extend({components:{},groupSize:1,selectMinSize:18,position:"before",templates:{}},t),t.templates=e.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"<div data-role='group'>{{group}}</div>",item_group:"<div class='item-group'>{{items}}</div>",label:'<label for="{{id}}">{{label}}</label>',radio:'<label for="{{id}}"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}</label>',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},t.templates);var f=function(e,t){var n,i;n=e;for(i in t)-1!==n.search("{{"+i+"}}")&&t.hasOwnProperty(i)&&(n=n.replace("{{"+i+"}}",t[i]),n=f(n,t));return n},p=function(e){var t,n;t=0;for(n in e)t+=1;return t},h=function(e){var n,i;return e.hasOwnProperty("type")?n=e.type:(i=p(e.choices),n=1>=i?"text":t.selectMinSize>i?"radio":"option"),n},m=function(e,n,i,o){var a,s="";for(a in e){var r,l,c,d,u,p;"group"!==a&&(r=e[a],p=r.hasOwnProperty("type")?t.templates[r.type]:w,l=n+"_"+o+"_"+a,c=t.templates.label,d="option"!==i&&"radio"!==i?f(c,{label:r.label,id:l}):"",r.hasOwnProperty("value")||(r.value=o+"_"+a),u=f(p,{name:n,id:l,value:r.value,label:r.label}),r.hasOwnProperty("before")&&(u=r.before+u),r.hasOwnProperty("after")&&(u+=r.after),s=s+d+u)}return s},g=function(n,i){var o,a,s=[];for(o in n[i]){var r=n[i][o].slice(1);for(a in t.components[r].choices)s.push("#"+r+"_"+a);e(s.join(", ")).show()}return s},v=function(e,t){var n=0;if(e.hasOwnProperty("enable")){t in d==!1&&(d["#"+t]=[]);for(n=0;e.enable.length>n;n++)d["#"+t].push("#"+e.enable[n])}if(e.hasOwnProperty("disable")){t in u==!1&&(u["#"+t]=[]);for(n=0;e.disable.length>n;n++)u["#"+t].push("#"+e.disable[n])}},b=function(e,n,i,o){var a,s=!1;for(a in e){var r,l,c,d,u,p;if(r=e[a],s=r.group,s!==!0)p=r.hasOwnProperty("type")?t.templates[r.type]:w,l=n+"_"+a,c=t.templates.label,d="option"!==o&&"radio"!==o?f(c,{label:r.label,id:l}):"",v(r,l),r.hasOwnProperty("value")||(r.value=a),u=f(p,{name:n,id:l,value:r.value,label:r.label}),r.hasOwnProperty("before")&&(u=r.before+u),r.hasOwnProperty("after")&&(u+=r.after),k=k+d+u;else if(s===!0){var h="",g=m(r,n,o,a);h+=g,k+=f(t.templates.item_group,{items:h});var b=n+"_"+a+"_all";v(r,b)}}return k};a=[],s=[],r=p(t.components),o=e(this),i=0;for(n in t.components){var y,x,S,w,C,k;k="",C="",c="",y=n,x=t.components[n].label,S=h(t.components[n]),w=t.templates[S],c=t.templates.group,t.components[n].hasOwnProperty("title")&&(t.components[n].hasOwnProperty("beforeTitle")&&(C+=t.components[n].beforeTitle),C+=f(t.templates.title,{title:t.components[n].title}),t.components[n].hasOwnProperty("afterTitle")&&(C+=t.components[n].afterTitle),a.push(C)),i+=1,b(t.components[n].choices,y,x,S),"option"===S&&(k=f(t.templates.select,{name:y,id:y,options:k})),a.push(k),k="",0===t.groupSize||0!==i%t.groupSize&&i!==r||(l=f(c,{group:a.join("\n")}),s.push(l),t.groupSize>0&&(a=[]))}0===t.groupSize&&(l=f(c,{group:a.join("\n")}),s.push(l)),"before"===t.position?o.html(s.join("\n")+o.html()):"after"===t.position?o.html(o.html()+s.join("\n")):o.html(s.join("\n"));var $,T,F;for($ in d)F=g(d,$),e(F.join(", ")).parents("div[data-role='group']").hide(),e($).click(function(){e(F.join(", ")).parents("div[data-role='group']").show()});for(T in u)F=g(u,T),e(T).click(function(){e(F.join(", ")).parents("div[data-role='group']").hide()});return this}}(jQuery),function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.12",i={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},o=function(t){var n=[],i=!1,o=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[o]()>0?n.push(this):(t[o](1),i=t[o]()>0,i&&n.push(this),t[o](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=o.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=o.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n){n=n||{};var i=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var a=this,s=e(this),r=i.exclude,l=i.excludeWithin,c=0,d=0,u=!0,f={},p=location.hostname===a.hostname||!a.hostname,h=i.scrollTarget||(e.smoothScroll.filterPath(a.pathname)||o)===o,m=t(a.hash);if(i.scrollTarget||p&&h&&m){for(;u&&r.length>c;)s.is(t(r[c++]))&&(u=!1);for(;u&&l.length>d;)s.closest(l[d++]).length&&(u=!1)}else u=!1;u&&(i.preventDefault&&n.preventDefault(),e.extend(f,i,{scrollTarget:i.scrollTarget||m,link:a}),e.smoothScroll(f))}),this}}),e.smoothScroll=function(t,n){var i,o,a,s,r=0,l="offset",c="scrollTop",d={},u={};"number"==typeof t?(i=e.fn.smoothScroll.defaults,a=t):(i=e.extend({},e.fn.smoothScroll.defaults,t||{}),i.scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative"))),i=e.extend({link:null},i),c="left"==i.direction?"scrollLeft":c,i.scrollElement?(o=i.scrollElement,/^(?:HTML|BODY)$/.test(o[0].nodeName)||(r=o[c]())):o=e("html, body").firstScrollable(i.direction),i.beforeScroll.call(o,i),a="number"==typeof t?t:n||e(i.scrollTarget)[l]()&&e(i.scrollTarget)[l]()[i.direction]||0,d[c]=a+r+i.offset,s=i.speed,"auto"===s&&(s=d[c]||o.scrollTop(),s/=i.autoCoefficent),u={duration:s,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(u.step=i.step),o.length?o.stop().animate(d,u):i.afterScroll.call(i.link,i)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=i}(jQuery),function(){var e,t,n,i,o,a,s,r,l,c;window.console&&window.console.log&&(a=function(){var e;return e=[],s(arguments).forEach(function(t){return"string"==typeof t?e=e.concat(l(t)):e.push(t)}),c.apply(window,e)},c=function(){return console.log.apply(console,s(arguments))},s=function(e){return Array.prototype.slice.call(e)},e=[{regex:/\*([^\*)]+)\*/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_)]+)\_/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`)]+)\`/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=\"([^\")]+)\"\]([^\[)]+)\[c\]/,replacer:function(e,t,n){return"%c"+n+"%c"},styles:function(e){return[e[1],""]}}],n=function(t){var n;return n=!1,e.forEach(function(e){return e.regex.test(t)?n=!0:void 0}),n},t=function(t){var n;return n=[],e.forEach(function(e){var i;return i=t.match(e.regex),i?n.push({format:e,match:i}):void 0}),n.sort(function(e,t){return e.match.index-t.match.index})},l=function(e){var i,o,a;for(a=[];n(e);)o=t(e),i=o[0],e=e.replace(i.format.regex,i.format.replacer),a=a.concat(i.format.styles(i.match));return[e].concat(a)},o=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i=function(){return/MSIE/.test(navigator.userAgent)},r=function(){var e;return e=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),e?537.38>=parseInt(e[1],10)+parseInt(e[2],10)/100:!1},window.log=o()&&!r()||i()?c:a,window.log.l=c)}.call(this),function($){"use strict";var MagicSuggest=function(element,options){var ms=this,defaults={allowFreeEntries:!0,cls:"",data:null,dataUrlParams:{},disabled:!1,displayField:"name",editable:!0,emptyText:function(){return cfg.editable?"Taggez votre compétence":"Click here"},emptyTextCls:"ms-empty-text",expanded:!1,expandOnFocus:function(){return cfg.editable?!1:!0},groupBy:null,hideTrigger:!1,highlight:!0,id:function(){return"ms-ctn-"+$('div[id^="ms-ctn"]').length},infoMsgCls:"",inputCfg:{},invalidCls:"ms-ctn-invalid",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function(e){return"Please reduce your entry by "+e+" character"+(e>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function(e){return"You cannot choose more than "+e+" item"+(e>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function(e){return"Please type "+e+" more character"+(e>1?"s":"")},name:null,noSuggestionText:"Ce tag n'existe pas encore",preselectSingleSuggestion:!0,renderer:null,required:!1,resultAsString:!1,resultsField:"results",selectionCls:"",selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!0,value:null,valueField:"id",width:function(){return $(this).width()}},conf=$.extend({},options),cfg=$.extend(!0,{},defaults,conf);$.isFunction(cfg.emptyText)&&(cfg.emptyText=cfg.emptyText.call(this)),$.isFunction(cfg.expandOnFocus)&&(cfg.expandOnFocus=cfg.expandOnFocus.call(this)),$.isFunction(cfg.id)&&(cfg.id=cfg.id.call(this)),this.addToSelection=function(e,t){if(!cfg.maxSelection||_selection.length<cfg.maxSelection){$.isArray(e)||(e=[e]);var n=!1;$.each(e,function(e,t){-1===$.inArray(t[cfg.valueField],ms.getValue())&&(_selection.push(t),n=!0)}),n===!0&&(self._renderSelection(),this.empty(),t!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]))}},this.clear=function(e){this.removeFromSelection(_selection.slice(0),e)},this.collapse=function(){cfg.expanded===!0&&(this.combobox.detach(),cfg.expanded=!1,$(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),cfg.disabled=!0,ms.input.attr("disabled",!0)},this.empty=function(){this.input.removeClass(cfg.emptyTextCls),this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),cfg.disabled=!1,ms.input.attr("disabled",!1)},this.expand=function(){!cfg.expanded&&(this.input.val().length>=cfg.minChars||this.combobox.children().size()>0)&&(this.combobox.appendTo(this.container),self._processSuggestions(),cfg.expanded=!0,$(this).trigger("expand",[this]))},this.isDisabled=function(){return cfg.disabled},this.isValid=function(){return cfg.required===!1||_selection.length>0},this.getDataUrlParams=function(){return cfg.dataUrlParams},this.getName=function(){return cfg.name},this.getSelectedItems=function(){return _selection},this.getRawValue=function(){return ms.input.val()!==cfg.emptyText?ms.input.val():""},this.getValue=function(){return $.map(_selection,function(e){return e[cfg.valueField]})},this.removeFromSelection=function(e,t){$.isArray(e)||(e=[e]);var n=!1;$.each(e,function(e,t){var i=$.inArray(t[cfg.valueField],ms.getValue());i>-1&&(_selection.splice(i,1),n=!0)}),n===!0&&(self._renderSelection(),t!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]),cfg.expandOnFocus&&ms.expand(),cfg.expanded&&self._processSuggestions())},this.setData=function(e){cfg.data=e,self._processSuggestions()},this.setName=function(e){cfg.name=e,ms._valueContainer&&(ms._valueContainer.name=e)},this.setValue=function(data){var values=data,items=[];$.isArray(data)||("string"==typeof data?data.indexOf("[")>-1?values=eval(data):data.indexOf(",")>-1&&(values=data.split(",")):values=[data]),$.each(_cbData,function(e,t){$.inArray(t[cfg.valueField],values)>-1&&items.push(t)}),items.length>0&&this.addToSelection(items)},this.setDataUrlParams=function(e){cfg.dataUrlParams=$.extend({},e)};var _selection=[],_comboItemHeight=0,_timer,_hasFocus=!1,_groups=null,_cbData=[],_ctrlDown=!1,self={_displaySuggestions:function(e){ms.combobox.empty();var t=0,n=0;if(null===_groups)self._renderComboItems(e),t=_comboItemHeight*e.length;else{for(var i in _groups)n+=1,$("<div/>",{"class":"ms-res-group",html:i}).appendTo(ms.combobox),self._renderComboItems(_groups[i].items,!0);t=_comboItemHeight*(e.length+n)}ms.combobox.height()>t||cfg.maxDropHeight>=t?ms.combobox.height(t):t>=ms.combobox.height()&&t>cfg.maxDropHeight&&ms.combobox.height(cfg.maxDropHeight),1===e.length&&cfg.preselectSingleSuggestion===!0&&ms.combobox.children().filter(":last").addClass("ms-res-item-active"),0===e.length&&""!==ms.getRawValue()&&(self._updateHelper(cfg.noSuggestionText),ms.collapse())},_getEntriesFromStringArray:function(e){var t=[];return $.each(e,function(e,n){var i={};i[cfg.displayField]=i[cfg.valueField]=$.trim(n),t.push(i)}),t},_highlightSuggestion:function(e){var t=ms.input.val()!==cfg.emptyText?ms.input.val():"";return 0===t.length?e:e=cfg.matchCase===!0?e.replace(RegExp("("+t+")(?!([^<]+)?>)","g"),"<em>$1</em>"):e.replace(RegExp("("+t+")(?!([^<]+)?>)","gi"),"<em>$1</em>")},_moveSelectedRow:function(e){cfg.expanded||ms.expand();var t,n,i,o;t=ms.combobox.find(".ms-res-item"),n="down"===e?t.eq(0):t.filter(":last"),i=ms.combobox.find(".ms-res-item-active:first"),i.length>0&&("down"===e?(n=i.nextAll(".ms-res-item").first(),0===n.length&&(n=t.eq(0)),o=ms.combobox.scrollTop(),ms.combobox.scrollTop(0),n[0].offsetTop+n.outerHeight()>ms.combobox.height()&&ms.combobox.scrollTop(o+_comboItemHeight)):(n=i.prevAll(".ms-res-item").first(),0===n.length&&(n=t.filter(":last"),ms.combobox.scrollTop(_comboItemHeight*t.length)),n[0].offsetTop<ms.combobox.scrollTop()&&ms.combobox.scrollTop(ms.combobox.scrollTop()-_comboItemHeight))),t.removeClass("ms-res-item-active"),n.addClass("ms-res-item-active")},_processSuggestions:function(e){var t=null,n=e||cfg.data;if(null!==n){if("function"==typeof n&&(n=n.call(ms)),"string"==typeof n&&0>n.indexOf(",")){$(ms).trigger("beforeload",[ms]);var i=$.extend({query:ms.input.val()},cfg.dataUrlParams);return $.ajax({type:cfg.method,url:n,data:i,success:function(e){t="string"==typeof e?JSON.parse(e):e,self._processSuggestions(t),$(ms).trigger("load",[ms,t])},error:function(){throw"Could not reach server"}}),void 0}_cbData="string"==typeof n&&n.indexOf(",")>-1?self._getEntriesFromStringArray(n.split(",")):n.length>0&&"string"==typeof n[0]?self._getEntriesFromStringArray(n):n[cfg.resultsField]||n,self._displaySuggestions(self._sortAndTrim(_cbData))}},_render:function(e){$(ms).trigger("beforerender",[ms]);var t=$.isFunction(cfg.width)?cfg.width.call(e):cfg.width;switch(ms.container=$("<div/>",{id:cfg.id,"class":"ms-ctn "+cfg.cls+(cfg.disabled===!0?" ms-ctn-disabled":"")+(cfg.editable===!0?"":" ms-ctn-readonly"),style:cfg.style}).width(t),ms.container.focus($.proxy(handlers._onFocus,this)),ms.container.blur($.proxy(handlers._onBlur,this)),ms.container.keydown($.proxy(handlers._onKeyDown,this)),ms.container.keyup($.proxy(handlers._onKeyUp,this)),ms.input=$("<input/>",$.extend({id:"ms-input-"+$('input[id^="ms-input"]').length,type:"text","class":cfg.emptyTextCls+(cfg.editable===!0?"":" ms-input-readonly"),value:cfg.emptyText,readonly:!cfg.editable,disabled:cfg.disabled},cfg.inputCfg)).width(t-(cfg.hideTrigger?16:42)),ms.input.focus($.proxy(handlers._onInputFocus,this)),ms.input.click($.proxy(handlers._onInputClick,this)),cfg.hideTrigger===!1&&(ms.trigger=$("<div/>",{id:"ms-trigger-"+$('div[id^="ms-trigger"]').length,"class":"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),ms.trigger.click($.proxy(handlers._onTriggerClick,this)),ms.container.append(ms.trigger)),ms.combobox=$("<div/>",{id:"ms-res-ctn-"+$('div[id^="ms-res-ctn"]').length,"class":"ms-res-ctn "}).width(t).height(cfg.maxDropHeight),ms.combobox.on("click","div.ms-res-item",$.proxy(handlers._onComboItemSelected,this)),ms.combobox.on("mouseover","div.ms-res-item",$.proxy(handlers._onComboItemMouseOver,this)),ms.selectionContainer=$("<div/>",{id:"ms-sel-ctn-"+$('div[id^="ms-sel-ctn"]').length,"class":"ms-sel-ctn"}),ms.selectionContainer.click($.proxy(handlers._onFocus,this)),"inner"===cfg.selectionPosition?ms.selectionContainer.append(ms.input):ms.container.append(ms.input),ms.helper=$("<div/>",{"class":"ms-helper "+cfg.infoMsgCls}),self._updateHelper(),ms.container.append(ms.helper),$(e).replaceWith(ms.container),cfg.selectionPosition){case"bottom":ms.selectionContainer.insertAfter(ms.container),cfg.selectionStacked===!0&&(ms.selectionContainer.width(ms.container.width()),ms.selectionContainer.addClass("ms-stacked"));break;case"right":ms.selectionContainer.insertAfter(ms.container),ms.container.css("float","left");break;default:ms.container.append(ms.selectionContainer)}self._processSuggestions(),null!==cfg.value&&(ms.setValue(cfg.value),self._renderSelection()),$(ms).trigger("afterrender",[ms]),$("body").click(function(e){ms.container.hasClass("ms-ctn-bootstrap-focus")&&0===ms.container.has(e.target).length&&0>e.target.className.indexOf("ms-res-item")&&0>e.target.className.indexOf("ms-close-btn")&&ms.container[0]!==e.target&&handlers._onBlur()}),cfg.expanded===!0&&(cfg.expanded=!1,ms.expand())},_renderComboItems:function(e,t){var n=this,i="";$.each(e,function(e,o){var a=null!==cfg.renderer?cfg.renderer.call(n,o):o[cfg.displayField],s=$("<div/>",{"class":"ms-res-item "+(t?"ms-res-item-grouped ":"")+(1===e%2&&cfg.useZebraStyle===!0?"ms-res-odd":""),html:cfg.highlight===!0?self._highlightSuggestion(a):a,"data-json":JSON.stringify(o)});s.click($.proxy(handlers._onComboItemSelected,n)),s.mouseover($.proxy(handlers._onComboItemMouseOver,n)),i+=$("<div/>").append(s).html()}),ms.combobox.append(i),_comboItemHeight=ms.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function(){var e=this,t=0,n=0,i=[],o=cfg.resultAsString===!0&&!_hasFocus;ms.selectionContainer.find(".ms-sel-item").remove(),void 0!==ms._valueContainer&&ms._valueContainer.remove(),$.each(_selection,function(t,n){var a,s,r=null!==cfg.selectionRenderer?cfg.selectionRenderer.call(e,n):n[cfg.displayField];o===!0?a=$("<div/>",{"class":"ms-sel-item ms-sel-text "+cfg.selectionCls,html:r+(t===_selection.length-1?"":",")}).data("json",n):(a=$("<div/>",{"class":"ms-sel-item "+cfg.selectionCls,html:r}).data("json",n),cfg.disabled===!1&&(s=$("<span/>",{"class":"ms-close-btn"}).data("json",n).appendTo(a),s.click($.proxy(handlers._onTagTriggerClick,e)))),i.push(a)}),ms.selectionContainer.prepend(i),ms._valueContainer=$("<input/>",{type:"hidden",name:cfg.name,value:JSON.stringify(ms.getValue())}),ms._valueContainer.appendTo(ms.selectionContainer),"inner"===cfg.selectionPosition&&(ms.input.width(0),n=ms.input.offset().left-ms.selectionContainer.offset().left,t=ms.container.width()-n-42,ms.input.width(t),ms.container.height(ms.selectionContainer.height())),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):ms.helper.hide()},_selectItem:function(e){1===cfg.maxSelection&&(_selection=[]),ms.addToSelection(e.data("json")),e.removeClass("ms-res-item-active"),(cfg.expandOnFocus===!1||_selection.length===cfg.maxSelection)&&ms.collapse(),_hasFocus?_hasFocus&&(cfg.expandOnFocus||_ctrlDown)&&(self._processSuggestions(),_ctrlDown&&ms.expand()):ms.input.focus()},_sortAndTrim:function(e){var t=ms.getRawValue(),n=[],i=[],o=ms.getValue();return t.length>0?$.each(e,function(e,i){var o=i[cfg.displayField];(cfg.matchCase===!0&&o.indexOf(t)>-1||cfg.matchCase===!1&&o.toLowerCase().indexOf(t.toLowerCase())>-1)&&(cfg.strictSuggest===!1||0===o.toLowerCase().indexOf(t.toLowerCase()))&&n.push(i)}):n=e,$.each(n,function(e,t){-1===$.inArray(t[cfg.valueField],o)&&i.push(t)}),null!==cfg.sortOrder&&i.sort(function(e,t){return e[cfg.sortOrder]<t[cfg.sortOrder]?"asc"===cfg.sortDir?-1:1:e[cfg.sortOrder]>t[cfg.sortOrder]?"asc"===cfg.sortDir?1:-1:0}),cfg.maxSuggestions&&cfg.maxSuggestions>0&&(i=i.slice(0,cfg.maxSuggestions)),null!==cfg.groupBy&&(_groups={},$.each(i,function(e,t){void 0===_groups[t[cfg.groupBy]]?_groups[t[cfg.groupBy]]={title:t[cfg.groupBy],items:[t]}:_groups[t[cfg.groupBy]].items.push(t)})),i},_updateHelper:function(e){ms.helper.html(e),ms.helper.is(":visible")||ms.helper.fadeIn()}},handlers={_onBlur:function(){if(ms.container.removeClass("ms-ctn-bootstrap-focus"),ms.collapse(),_hasFocus=!1,""!==ms.getRawValue()&&cfg.allowFreeEntries===!0){var e={};e[cfg.displayField]=e[cfg.valueField]=ms.getRawValue(),ms.addToSelection(e)}self._renderSelection(),ms.isValid()===!1&&ms.container.addClass("ms-ctn-invalid"),""===ms.input.val()&&0===_selection.length?(ms.input.addClass(cfg.emptyTextCls),ms.input.val(cfg.emptyText)):""!==ms.input.val()&&cfg.allowFreeEntries===!1&&(ms.empty(),self._updateHelper("")),ms.input.is(":focus")&&$(ms).trigger("blur",[ms])},_onComboItemMouseOver:function(e){ms.combobox.children().removeClass("ms-res-item-active"),$(e.currentTarget).addClass("ms-res-item-active")},_onComboItemSelected:function(e){self._selectItem($(e.currentTarget))},_onFocus:function(){ms.input.focus()},_onInputClick:function(){ms.isDisabled()===!1&&_hasFocus&&cfg.toggleOnClick===!0&&(cfg.expanded?ms.collapse():ms.expand())},_onInputFocus:function(){if(ms.isDisabled()===!1&&!_hasFocus){_hasFocus=!0,ms.container.addClass("ms-ctn-bootstrap-focus"),ms.container.removeClass(cfg.invalidCls),ms.input.val()===cfg.emptyText&&ms.empty();var e=ms.getRawValue().length;cfg.expandOnFocus===!0&&ms.expand(),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):cfg.minChars>e&&self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-e)),self._renderSelection(),$(ms).trigger("focus",[ms])}},_onKeyDown:function(e){var t=ms.combobox.find(".ms-res-item-active:first"),n=ms.input.val()!==cfg.emptyText?ms.input.val():"";if($(ms).trigger("keydown",[ms,e]),9===e.keyCode&&(cfg.useTabKey===!1||cfg.useTabKey===!0&&0===t.length&&0===ms.input.val().length))return handlers._onBlur(),void 0;switch(e.keyCode){case 8:0===n.length&&ms.getSelectedItems().length>0&&"inner"===cfg.selectionPosition&&(_selection.pop(),self._renderSelection(),$(ms).trigger("selectionchange",[ms,ms.getSelectedItems()]),ms.input.focus(),e.preventDefault());break;case 9:case 188:case 13:e.preventDefault();break;case 17:_ctrlDown=!0;break;case 40:e.preventDefault(),self._moveSelectedRow("down");break;case 38:e.preventDefault(),self._moveSelectedRow("up");break;default:_selection.length===cfg.maxSelection&&e.preventDefault()}},_onKeyUp:function(e){var t,n=ms.getRawValue(),i=$.trim(ms.input.val()).length>0&&ms.input.val()!==cfg.emptyText&&(!cfg.maxEntryLength||$.trim(ms.input.val()).length<=cfg.maxEntryLength),o={};if($(ms).trigger("keyup",[ms,e]),clearTimeout(_timer),27===e.keyCode&&cfg.expanded&&ms.combobox.height(0),9===e.keyCode&&cfg.useTabKey===!1||e.keyCode>13&&32>e.keyCode)return 17===e.keyCode&&(_ctrlDown=!1),void 0;switch(e.keyCode){case 40:case 38:e.preventDefault();break;case 13:case 9:case 188:if(188!==e.keyCode||cfg.useCommaKey===!0){if(e.preventDefault(),cfg.expanded===!0&&(t=ms.combobox.find(".ms-res-item-active:first"),t.length>0))return self._selectItem(t),void 0;i===!0&&cfg.allowFreeEntries===!0&&(o[cfg.displayField]=o[cfg.valueField]=n,ms.addToSelection(o),ms.collapse(),ms.input.focus());break}default:_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):n.length<cfg.minChars?(self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-n.length)),cfg.expanded===!0&&ms.collapse()):cfg.maxEntryLength&&n.length>cfg.maxEntryLength?(self._updateHelper(cfg.maxEntryRenderer.call(this,n.length-cfg.maxEntryLength)),cfg.expanded===!0&&ms.collapse()):(ms.helper.hide(),cfg.minChars<=n.length&&(_timer=setTimeout(function(){cfg.expanded===!0?self._processSuggestions():ms.expand()},cfg.typeDelay)))}},_onTagTriggerClick:function(e){ms.removeFromSelection($(e.currentTarget).data("json"))},_onTriggerClick:function(){if(ms.isDisabled()===!1&&(cfg.expandOnFocus!==!0||_selection.length!==cfg.maxSelection))if($(ms).trigger("triggerclick",[ms]),cfg.expanded===!0)ms.collapse();else{var e=ms.getRawValue().length;e>=cfg.minChars?(ms.input.focus(),ms.expand()):self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-e))}}};null!==element&&self._render(element)};$.fn.magicSuggest=function(e){var t=$(this);return 1===t.size()&&t.data("magicSuggest")?t.data("magicSuggest"):(t.each(function(){var t=$(this);if(!t.data("magicSuggest")){"select"===this.nodeName.toLowerCase()&&(e.data=[],e.value=[],$.each(this.children,function(t,n){n.nodeName&&"option"===n.nodeName.toLowerCase()&&(e.data.push({id:n.value,name:n.text}),n.selected&&e.value.push(n.value))}));var n={};$.each(this.attributes,function(e,t){n[t.name]=t.value});var i=new MagicSuggest(this,$.extend(e,n));t.data("magicSuggest",i),i.container.data("magicSuggest",i)}}),1===t.size()?t.data("magicSuggest"):t)}}(jQuery),function(e,t){"use strict";"function"==typeof define&&define.amd?define("notify",[],function(){return t(e,document)}):e.Notify=t(e,document)}(this,function(e){"use strict";function t(e,t){if(this.title="string"==typeof e?e:null,this.options={icon:"",body:"",tag:"",notifyShow:null,notifyClose:null,notifyClick:null,notifyError:null,permissionGranted:null,permissionDenied:null},this.permission=null,this.isSupported()){if(!this.title)throw Error("Notify(): first arg (title) must be a string.");if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&(this.options[n]=t[n]);"function"==typeof this.options.notifyShow&&(this.onShowCallback=this.options.notifyShow),"function"==typeof this.options.notifyClose&&(this.onCloseCallback=this.options.notifyClose),"function"==typeof this.options.notifyClick&&(this.onClickCallback=this.options.notifyClick),"function"==typeof this.options.notifyError&&(this.onErrorCallback=this.options.notifyError),"function"==typeof this.options.permissionGranted&&(this.onPermissionGrantedCallback=this.options.permissionGranted),"function"==typeof this.options.permissionDenied&&(this.onPermissionDeniedCallback=this.options.permissionDenied)}}}return t.prototype.needsPermission=function(){return"Notification"in e&&"granted"===Notification.permission?!1:!0},t.prototype.requestPermission=function(){var t=this;e.Notification.requestPermission(function(e){switch(t.permission=e,t.permission){case"granted":t.onPermissionGranted();break;case"denied":t.onPermissionDenied()}})},t.prototype.show=function(){this.isSupported()&&(this.myNotify=new Notification(this.title,{body:this.options.body,tag:this.options.tag,icon:this.options.icon}),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1))},t.prototype.onShowNotification=function(){this.onShowCallback&&this.onShowCallback()},t.prototype.onCloseNotification=function(){this.onCloseCallback&&this.onCloseCallback(),this.destroy()},t.prototype.onClickNotification=function(){this.onClickCallback&&this.onClickCallback()},t.prototype.onErrorNotification=function(){this.onErrorCallback&&this.onErrorCallback(),this.destroy()},t.prototype.onPermissionGranted=function(){this.onPermissionGrantedCallback&&this.onPermissionGrantedCallback()},t.prototype.onPermissionDenied=function(){this.onPermissionDeniedCallback&&this.onPermissionDeniedCallback()},t.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},t.prototype.isSupported=function(){return"Notification"in e?!0:!1},t.prototype.handleEvent=function(e){switch(e.type){case"show":this.onShowNotification(e);break;case"close":this.onCloseNotification(e);break;case"click":this.onClickNotification(e);break;case"error":this.onErrorNotification(e)}},t}),function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)
}):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,n){return t>e?t:e>n?n:e}function n(e){return 100*(-1+e)}function i(e,t,i){var o;return o="translate3d"===a.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},o.transition="all "+t+"ms "+i,o}var o={};o.version="0.1.2";var a=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return o.configure=function(t){return e.extend(a,t),this},o.status=null,o.set=function(e){var n=o.isStarted();e=t(e,a.minimum,1),o.status=1===e?null:e;var s=o.render(!n),r=s.find('[role="bar"]'),l=a.speed,c=a.easing;return s[0].offsetWidth,s.queue(function(t){""===a.positionUsing&&(a.positionUsing=o.getPositioningCSS()),r.css(i(e,l,c)),1===e?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){o.remove(),t()},l)},l)):setTimeout(t,l)}),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var e=function(){setTimeout(function(){o.status&&(o.trickle(),e())},a.trickleSpeed)};return a.trickle&&e(),this},o.done=function(e){return e||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(e){var n=o.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),o.set(n)):o.start()},o.trickle=function(){return o.inc(Math.random()*a.trickleRate)},function(){var e=0,t=0;o.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&o.start(),e++,t++,n.always(function(){t--,0==t?(e=0,o.done()):o.set((e-t)/e)}),this):this}}(),o.render=function(t){if(o.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var i=e("<div id='nprogress'>").html(a.template),s=t?"-100":n(o.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),a.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},o.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},o.isRendered=function(){return e("#nprogress").length>0},o.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},o}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(n){return}var i,o=e.href||e.getAttribute("data-href"),a=o.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(a)||[""])[0],r=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(a)||[""])[0],l=/^([^?]*)\??/.exec(o)[1],c=e.parentNode,d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&i()},i=function(){var n=d.responseText;if(n&&e.parentNode&&(!d.status||400>d.status||d.status>600)){if(n=t.fix(n,!0,e),a){n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,n){return/^([a-z]{3,10}:|#)/i.test(n)?e:/^\/\//.test(n)?'url("'+s+n+'")':/^\//.test(n)?'url("'+r+n+'")':/^\?/.test(n)?'url("'+l+n+'")':'url("'+a+n+'")'});var i=a.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}var o=document.createElement("style");o.textContent=n,o.media=e.media,o.disabled=e.disabled,o.setAttribute("data-href",e.getAttribute("href")),c.insertBefore(o,e),c.removeChild(e),o.media=e.media}};try{d.open("GET",o),d.send(null)}catch(n){"undefined"!=typeof XDomainRequest&&(d=new XDomainRequest,d.onerror=d.onprogress=function(){},d.onload=i,d.open("GET",o),d.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var n=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=n}},styleAttribute:function(e){var n=e.getAttribute("style");n=t.fix(n,!1,e),e.setAttribute("style",n)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,n){(t.fixers=t.fixers||[]).splice(void 0===n?t.fixers.length:n,0,e)},fix:function(e,n,i){for(var o=0;t.fixers.length>o;o++)e=t.fixers[o](e,n,i)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};(function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(e){function t(e,t,i,o,a){if(e=n[e],e.length){var s=RegExp(t+"("+e.join("|")+")"+i,"gi");a=a.replace(s,o)}return a}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(e,i){var o=n.prefix;if(n.functions.indexOf("linear-gradient")>-1&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,n,i){return t+(n||"")+"linear-gradient("+(90-i)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",e),n.properties.length){var a=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(a,o+"$1")},e)}return i&&(e=t("selectors","","\\b",n.prefixSelector,e),e=t("atrules","@","\\b","@"+o+"$1",e)),e=e.replace(RegExp("-"+o,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(e){return(n.properties.indexOf(e)?n.prefix:"")+e},value:function(e){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+n.prefix})},prefixProperty:function(e,t){var i=n.prefix+e;return t?StyleFix.camelCase(i):i}};(function(){var e={},t=[],i=getComputedStyle(document.documentElement,null),o=document.createElement("div").style,a=function(n){if("-"===n.charAt(0)){t.push(n);var i=n.split("-"),o=i[1];for(e[o]=++e[o]||1;i.length>3;){i.pop();var a=i.join("-");s(a)&&-1===t.indexOf(a)&&t.push(a)}}},s=function(e){return StyleFix.camelCase(e)in o};if(i.length>0)for(var r=0;i.length>r;r++)a(i[r]);else for(var l in i)a(StyleFix.deCamelCase(l));var c={uses:0};for(var d in e){var u=e[d];u>c.uses&&(c={prefix:d,uses:u})}n.prefix="-"+c.prefix+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(var r=0;t.length>r;r++){var l=t[r];if(0===l.indexOf(n.prefix)){var f=l.slice(n.prefix.length);s(f)||n.properties.push(f)}}"Ms"==n.Prefix&&!("transform"in o)&&!("MsTransform"in o)&&"msTransform"in o&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function e(e,t){return o[t]="",o[t]=e,!!o[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};n.functions=[],n.keywords=[];var o=document.createElement("div").style;for(var a in t){var s=t[a],r=s.property,l=a+"("+s.params+")";!e(l,r)&&e(n.prefix+l,r)&&n.functions.push(a)}for(var c in i){var r=i[c];!e(c,r)&&e(n.prefix+c,r)&&n.keywords.push(c)}}(),function(){function t(e){return a.textContent=e+"{}",!!a.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},o={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var a=e.appendChild(document.createElement("style"));for(var s in i){var r=s+(i[s]?"("+i[s]+")":"");!t(r)&&t(n.prefixSelector(r))&&n.selectors.push(s)}for(var l in o){var r=l+" "+(o[l]||"");!t("@"+r)&&t("@"+n.prefix+r)&&n.atrules.push(l)}e.removeChild(a)}(),n.valueProperties=["transition","transition-property"],e.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one(e.support.transition.end,function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){a.trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]'),t=!0;if(e.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("bs.button"),a="object"==typeof n&&n;o||i.data("bs.button",o=new t(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,i=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),o=n||i[t](),a=this.interval,s="next"==t?"left":"right",r="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[r]()}this.sliding=!0,a&&this.pause();var c=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(e.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),a=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:a.slide;o||i.data("bs.carousel",o=new t(this,a)),"number"==typeof n?o.to(n):s?o[s]():a.interval&&o.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i=e(this),o=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),o.carousel(a),(s=i.attr("data-slide-to"))&&o.data("bs.carousel").to(s),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),a=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),o=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(o),s=a.data("bs.collapse"),r=s?"toggle":i.data(),l=i.attr("data-parent"),c=l&&e(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(r)})}(jQuery),+function(e){"use strict";function t(){e(i).remove(),e(o).each(function(t){var i=n(e(this));i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var a=n(o),s=a.hasClass("open");if(t(),!s){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),a.trigger(i=e.Event("show.bs.dropdown")),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),s=a.hasClass("open");if(!s||s&&27==t.keyCode)return 27==t.which&&a.find(o).focus(),i.click();var r=e("[role=menu] li:not(.divider):visible a",a);if(r.length){var l=r.index(r.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&r.length-1>l&&l++,~l||(l=0),r.eq(l).focus()}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",a.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var o=e(this),a=o.data("bs.modal"),s=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);a||o.data("bs.modal",a=new t(this,s)),"string"==typeof n?a[n](i):s.show&&a.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),o=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),n.data());t.preventDefault(),o.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var s=o[a];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(i);a&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),r=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,f="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;i="bottom"==i&&s.top+s.height+l-u>p?"top":"top"==i&&0>s.top-u-l?"bottom":"right"==i&&s.right+r>f?"left":"left"==i&&h>s.left-r?"right":i,n.removeClass(d).addClass(i)}var m=this.getCalculatedOffset(i,s,r,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),e.top=e.top+s,e.left=e.left+r,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=a&&(n=!0,e.top=e.top+a-c),/bottom|top/.test(t)){var d=0;0>e.left&&(d=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-o+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&i.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.$element.trigger("hidden.bs."+this.type),this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),a="object"==typeof n&&n;o||i.data("bs.tooltip",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("bs.popover"),a="object"==typeof n&&n;o||i.data("bs.popover",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(n,i){var o,a=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||(o=e(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this;this.$body.find(this.selector).map(function(){var i=e(this),o=i.data("target")||i.attr("href"),a=/^#\w/.test(o)&&e(o);return a&&a.length&&[[a[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])
})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,a=this.targets,s=this.activeTarget;if(t>=i)return s!=(e=a.last()[0])&&this.activate(e);for(e=o.length;e--;)s!=a[e]&&t>=o[e]&&(!o[e+1]||o[e+1]>=t)&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(a),!a.isDefaultPrevented()){var s=e(i);this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},t.prototype.activate=function(t,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),s=i&&e.support.transition&&a.hasClass("fade");s?a.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,s=a.top,r=a.bottom;"object"!=typeof a&&(r=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof r&&(r=a.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(t.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("bs.affix"),a="object"==typeof n&&n;o||i.data("bs.affix",o=new t(this,a)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),function(e){window.muffin={},muffin.displaceElt=function(e,t){var n=t.offset().top-e.offset().top;e.addClass("disappear"),t.attr("style","position: relative;top: -"+n+"px;")},muffin.envoyerCode=function(t){NProgress.start(),e.ajax({type:"GET",url:"Login/register/"+t}).done(function(n){"1"===(""+n)[0]?(NProgress.inc(),e.get("Home/loginnew/"+t,function(t){e("#input-login").attr("disabled","disabled"),e("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").append(t),setTimeout(function(){e.smoothScroll({offset:e(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),t.addClass("complete"),muffin.displaceElt(e("[data-content='login'] header"),e("[data-content='login'] form"))},200)})):"-1"===(""+n).slice(0,2)?(NProgress.inc(),e.get("Home/loginExists/"+t,function(t){e("#input-login").attr("disabled","disabled"),e("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").append(t),setTimeout(function(){e.smoothScroll({offset:e(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),t.addClass("complete"),muffin.displaceElt(e("[data-content='login'] header"),e("[data-content='login'] form"))},200)})):"-2"===(""+n).slice(0,2)&&(NProgress.done(),e("[data-content='login'] div[role='title'] > p").first().html("Vous devez être un étudiant de 42"),e("#input-login + button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span>'))})},muffin.changeName=function(t){e("[data-content='login']").addClass("disappear").queue("fx",function(){e(this).html("<h1 class='entered-login'><i>"+t+"</i></h1>").dequeue()}).addClass("appear")},muffin.verifierCode=function(t,n){e.ajax({type:"POST",data:{code:t,login:n},url:"Login/checkCode"}).done(function(t){"1"===(""+t)[0]?e.get("User/index",function(t){e("#input-code").attr("disabled","disabled"),e("#input-code + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").children().slideUp(),e("div[data-role='container']").html(t),reloadHandlers(),setTimeout(function(){NProgress.done(),t.addClass("complete")},200)}):(e("#form-passphrase").parent().parent().find("div[role='title'] > p").first().html("Mot de passe incorrect"),e("#input-passphrase").attr("style","color: #C02942"),e("#form-passphrase").find("button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span> '))})},muffin.renvoyerCode=function(t){var n=e("#re-send-mail"),i=n.find("span").first();i.removeClass("icon-repeat").addClass("icon-time"),e.ajax({type:"GET",url:"Login/update/"+t}).done(function(e){NProgress.done(),"1"===(""+e)[0]?n.html("Mail envoyé ! <span class='icon-checkmark'></span>"):n.html("Une erreur s'est produite <span class='icon-warning-outline'></span>")})},muffin.autoSearchUser=function(t){var n=5,i=e("#search_user_results"),o=e("#search_comp_uid");""!=t&&void 0!=t?e.getJSON("Search/users/"+t,function(t){var a,s;i.parent().show(),i.empty();for(s in t)n>s&&(console.log(s),a=e("<li><a>"+t[s]+"</a></li>"),a.click(function(){o.val(e(this).text()),muffin.searchUSerData()}),i.append(a))}):(i.parent().hide(),i.empty())},muffin.searchUSerData=function(){var t=e("#search_comp_uid").val(),n=e("#btn_search_comp_uid"),i=n.find("span").first(),o=e("#status_search_comp_uid"),a="#modal-explore";t?(i.removeClass("icon-uniF488").addClass("icon-clock3"),e.ajax({type:"GET",url:"Search/user/"+t}).done(function(t){NProgress.done(),"0"===(""+t)[0]?(i.removeClass("icon-clock3").addClass("icon-multiply"),o.html("Il semblerait que l'uid n'existe pas, ou que ses compétences ne soient pas publiques.")):(i.removeClass("icon-clock3").addClass("icon-uniF488"),e(a).modal("hide"),e("#search_comp_uid").val(""),muffin.autoSearchUser(),t=e(t),t.addClass("loading"),e("div[data-role='form-container']").children().slideUp(),e("div[data-role='form-container']").html(t),setTimeout(function(){NProgress.done(),t.addClass("complete"),reloadHandlers()},200))})):o.html("Vous devez rentrer un uid")}}(jQuery),$(document).ready(function(){initalizeForm(),reloadHandlers(),$.bind("ajaxComplete",function(){reloadHandlers()}),$.getJSON("https://api.github.com/repos/lambda2/Muffin/tags",function(e){var t=e[0].commit.sha;$.getJSON("https://api.github.com/repos/lambda2/Muffin/commits/"+t,function(t){var n=t,i=n.commit.committer.date.slice(0,10),o=n.stats.additions,a=n.stats.deletions,s="<span class='icon-flow-tree'></span> <span class='git-add'>+"+o+"</span>  <span class='git-del'>-"+a+"</span>";$("div[role='git-info']").html("<p>\n				<a href='https://github.com/lambda2/Muffin'><span class='icon-github'></span>\n				v"+e[0].name+" datant du "+i+"  ─  "+s+"</a> </p>")})})}),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,o=window.console=window.console||{};i--;)e=n[i],o[e]||(o[e]=t)}(),window.Muffin={},Muffin.goToUrl=goToUrl,Muffin.bindAjaxEvents=bindAjaxEvents,Muffin.addCheckHandler=addCheckHandler;var initalizeForm=function(){window.ioptions={target:"#form-result",beforeSubmit:showRequest,success:showResponse,url:"User/updatecompetence",type:"post"},$('div[data-role="form-container"] form').submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems()};Muffin.initalizeForm=initalizeForm;var initalizeAddForm=function(){var e={target:"#form-result",beforeSubmit:showAddRequest,success:showAddResponse,url:"User/addcompetence",type:"post"};$("#form-add-competence").submit(function(){console.log("initialized");var t=document.getElementById("form-add-competence");return t.checkValidity()&&$(this).ajaxSubmit(e),!1})};Muffin.initalizeAddForm=initalizeAddForm;var initializePanelMenu=function(){$("#panel-menu > li[data-index-toggle]").click(function(){var e=$(this).attr("data-index-toggle");$("#panel-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$(".items-panels > li[data-index!='"+e+"']").hide(),$(".items-panels > li[data-index='"+e+"']").show(),treatResize()})};Muffin.initializePanelMenu=initializePanelMenu;var initializeHelpMenu=function(){$("#exchange-panel > li[data-index]").hide(),$("#exchange-panel > li[data-index='1']").show(),$("#exchange-menu > li[data-index-toggle]").click(function(){var e=$(this).attr("data-index-toggle");$("#exchange-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$("#exchange-panel > li[data-index!='"+e+"']").hide(),$("#exchange-panel > li[data-index='"+e+"']").show(),treatResize()}),$("#load-expired-nhelp--button").click(function(){var e=$(this);e.html("Chargement..."),$.get("Echanges/oldneed",function(t){$("#exchange-panel li[data-index='2'] ul[data-role='liste-competences']").append(t),e.hide()})}),$("#load-expired-help--button").click(function(){var e=$(this);e.html("Chargement..."),$.get("Echanges/oldhelp",function(t){$("#exchange-panel li[data-index='1'] ul[data-role='liste-competences']").append(t),e.hide()})})};Muffin.initializeHelpMenu=initializeHelpMenu;var queryUserStatus=function(){$("[data-locate]").click(function(){$("[role='indicator']").html("Recuperation des postes...");var e=$(this);e.addClass("loading");var t=$(this).attr("data-login");$.ajax({url:"User/getstatus",type:"POST",data:{login:t},dataType:"json"}).done(function(t){void 0==t.error?(e.attr("style",""),e.addClass("online"),e.removeClass("offline"),e.html(t.last_host.replace(".42.fr",""))):(e.removeClass("online"),e.addClass("offline"))}),e.removeClass("loading"),$("[role='indicator']").html("A jour")})};Muffin.queryUserStatus=queryUserStatus;var markLastNotificationAsRead=function(){$.get("Notification/readLastNew",function(e){"0"!==e?console.log("Notification lue."):console.log("Aucune nouvelle notification a lire..."),window.intervalHandler=setInterval(notifications,1e4)})};Muffin.markLastNotificationAsRead=markLastNotificationAsRead;var checkNotifications=function(){var e=$("#notif-aera");$.get("Notification/getCount",function(t){"0"!==t&&(e.addClass("new"),$.get("Notification/getLastNew",function(e){if(window.clearInterval(window.intervalHandler),void 0!=e&&e.length>0){var t=new Notify("Muffin",{body:e,tag:e,notifyClose:markLastNotificationAsRead,notifyClick:markLastNotificationAsRead});t.needsPermission()&&t.requestPermission(),t.show()}})),e.html("<span class='icon-elipse'></span><span class='not-num'>"+t+"</span>")})};Muffin.checkNotifications=checkNotifications;var notifications=function(){checkNotifications();var e=$("#notif-aera");e.click(function(){$.get("Notification/get",function(t){$("#modal-notifications .modal-body").html(t),e.removeClass("new")})})};Muffin.notifications=notifications;var addClearItems=function(){$('div[data-role="form-container"] fieldset').each(function(){var e=$(this),t=e.find(".radio input").first();0===e.find(".clear-all").length&&e.append("<a class='clear-all' data-items='"+t.attr("name")+"'><span class='icon-multiply'></span></a>")}),$("div[data-role='form-container'] form fieldset a.clear-all").click(function(){var e=$(this),t=e.parent().find(".radio input[name='niveau']");$.ajax({url:"User/deletecompetence",type:"POST",data:{id_competence:e.parent().parent().find("input[name='id_competence']").val(),comp:e.attr("data-items")}}).done(function(){t.each(function(){$(this).is(":checked")&&$(this).removeAttr("checked")})})})};Muffin.addClearItems=addClearItems;var treatResize=function(){$("div[data-role='container']").height()>=$(window).height()?$(".footer-container").addClass("nofix"):$(".footer-container").removeClass("nofix")};Muffin.treatResize=treatResize;var afterUserUpdate=function(e){console.log("after"),"1"==e[0]?($('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Paramètres mis à jour"),$("#status_public_icon").removeClass("icon-clock3").addClass("icon-checkmark2"),$("#modal-params").modal("hide")):($("#status_public_icon").removeClass("icon-clock3").addClass("icon-multiply"),$("#status_update_uid").html(e))};Muffin.afterUserUpdate=afterUserUpdate;var initFormComportement=function(){$("#form_search_uid").submit(function(e){return e.stopImmediatePropagation(),window.muffin.searchUSerData(),!1}),$("#form_params").submit(function(){var e={target:"#form-result",beforeSubmit:function(){$("#status_public_icon").removeClass("icon-uniF488").removeClass("icon-multiply").removeClass("icon-checkmark2").addClass("icon-clock3")},success:afterUserUpdate,url:"User/update",type:"post"};return console.log("update"),$(this).ajaxSubmit(e),!1})};Muffin.initFormComportement=initFormComportement;var mainHeadLink=function(){$("header > h1.title").click(function(){goToUrl("User/me")})};Muffin.mainHeadLink=mainHeadLink;var reloadHandlers=function(){NProgress.configure({showSpinner:!1}),$("a").smoothScroll(),treatResize(),$(window).resize(treatResize),bindAjaxEvents(),initFormComportement(),initializePanelMenu(),initializeHelpMenu(),notifications(),mainHeadLink(),window.clearInterval(window.intervalHandler),window.intervalHandler=setInterval(notifications,5e3);try{queryUserStatus()}catch(e){}$("[data-toggle='tooltip']").tooltip({container:"body",placement:"auto bottom"}),$("aside.side-menu > ul").affix({offset:{top:231,bottom:function(){return this.bottom=$(".footer-container").outerHeight(!0)}}})};Muffin.reloadHandlers=reloadHandlers,Muffin.charts={},Muffin.charts.prepareLegend=function(e,t){e.html("");for(var n=0;t.length>n;n++)e.append('<p><span style="color: '+t[n].color+';" class="icon-uniF52F"></span> <b>'+t[n].value+" </b> "+t[n].legend+"</p>")},Muffin.charts.drawCharts=function(e){var t=e,n=function(){var e=$(".stats-inscrits-legend");e.addClass("complete").removeClass("loading")};Muffin.charts.prepareLegend($(".stats-inscrits-legend"),t);var i=$("#chart-inscrits").get(0).getContext("2d");new Chart(i).Doughnut(e,{segmentStrokeColor:"#F7E4BE",animationEasing:"easeOutBounce",onAnimationComplete:n})};