
/*******************************************************************************    
                                                      
        sssyhddmmmddhys                        
      dNNNNNmss  sssyhmNddms                   
     dNNNNmhs         dNNNNNs           
   sNd sy     mNNmdy   sdNNNNs        Muffin - v1.1.4     
   Nd        dNNNNNy      ysNm        ---------------
  sNh           ssy         mN                        
<<<<<<< HEAD
   mNymdhy          shddmy hNd       Sorti du four le 2013-11-26
   sdNNNNNmsssssssssmNNNNNNNh             
     syyhddddddddddddddhhyss         Copyright (c) 2013 André Aubin
=======
   mNymdhy          shddmy hNd       Sorti du four le 2014-01-05
   sdNNNNNmsssssssssmNNNNNNNh             
     syyhddddddddddddddhhyss         Copyright (c) 2014 André Aubin
>>>>>>> moon-integration
    sNNm shhh shhh shhd smNN                    
     dNNssNNN yNNN sNNN hNNy         Code source sous licence Apache 2      
     sNNy NNN yNNN sNNm dNN                    
      hNh mNN yNNN sNNd mNy             
          ydd smmm sdds                 

<<<<<<< HEAD
*******************************************************************************/function addCheckHandler(t){$(".radio input").change(function(){console.log("change !"),window.formChanged=!0});for(elt in t)$("input#"+t[elt]).attr("checked","checked")}function showRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Enregistrement..."),!0}function showResponse(){NProgress.done(),$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Enregistré.")}function showAddRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Ajout..."),$("#input-nom-comp + button").html("<span class='icon-time'></span>"),!0}function showAddResponse(t,e){$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Ajouté."),$("#input-nom-comp + button").html("<span class='icon-chevron-right'></span>"),console.log("responseText:",t),console.log("statusText:",e);var n=$(t);n.addClass("preparing"),$("#form-competences > div").first().append(n),addCheckHandler(window.toCheck),setTimeout(function(){$.smoothScroll({offset:$(window).height()/2,scrollElement:null,scrollTarget:n}),NProgress.done(),n.addClass("complete").removeClass("preparing")},1e3)}(function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,o=t(n);if(!o.is("[type=submit],[type=image]")){var i=o.closest("[type=submit]");if(0===i.length)return;n=i[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!==e.offsetX)r.clk_x=e.offsetX,r.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=o.offset();r.clk_x=e.pageX-s.left,r.clk_y=e.pageY-s.top}else r.clk_x=e.pageX-n.offsetLeft,r.clk_y=e.pageY-n.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function o(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var i={};i.fileapi=void 0!==t("<input type='file'/>").get(0).files,i.formdata=void 0!==window.FormData;var r=!!t.fn.prop;t.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){var o,i,r=t.param(n,e.traditional).split("&"),s=r.length,a=[];for(o=0;s>o;o++)r[o]=r[o].replace(/\+/g," "),i=r[o].split("="),a.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return a}function s(o){for(var i=new FormData,r=0;o.length>r;r++)i.append(o[r].name,o[r].value);if(e.extraData){var s=n(e.extraData);for(r=0;s.length>r;r++)s[r]&&i.append(s[r][0],s[r][1])}e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(a.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,o=t.loaded||t.position,i=t.total;t.lengthComputable&&(n=Math.ceil(100*(o/i))),e.uploadProgress(t,o,i,n)},!1),n}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(t,n){n.data=e.formData?e.formData:i,c&&c.call(this,t,n)},t.ajax(a)}function a(n){function i(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(n){o("cannot get iframe.contentWindow document: "+n)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){o("cannot get iframe.contentDocument: "+n),e=t.document}return e}function s(){function e(){try{var t=i(g).readyState;o("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){o("Server abort: ",n," (",n.name,")"),a(S),$&&clearTimeout($),$=void 0}}var n=p.attr2("target"),r=p.attr2("action");C.setAttribute("target",h),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),r!=d.url&&C.setAttribute("action",d.url),d.skipEncodingOverride||l&&!/post/i.test(l)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&($=setTimeout(function(){w=!0,a(k)},d.timeout));var s=[];try{if(d.extraData)for(var c in d.extraData)d.extraData.hasOwnProperty(c)&&(t.isPlainObject(d.extraData[c])&&d.extraData[c].hasOwnProperty("name")&&d.extraData[c].hasOwnProperty("value")?s.push(t('<input type="hidden" name="'+d.extraData[c].name+'">').val(d.extraData[c].value).appendTo(C)[0]):s.push(t('<input type="hidden" name="'+c+'">').val(d.extraData[c]).appendTo(C)[0]));d.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",a):g.addEventListener("load",a,!1),setTimeout(e,15);try{C.submit()}catch(u){var f=document.createElement("form").submit;f.apply(C)}}finally{C.setAttribute("action",r),n?C.setAttribute("target",n):p.removeAttr("target"),t(s).remove()}}function a(e){if(!y.aborted&&!P){if(A=i(g),A||(o("cannot access response document"),e=S),e===k&&y)return y.abort("timeout"),T.reject(y,"timeout"),void 0;if(e==S&&y)return y.abort("server abort"),T.reject(y,"error","server abort"),void 0;if(A&&A.location.href!=d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",a):g.removeEventListener("load",a,!1);var n,r="success";try{if(w)throw"timeout";var s="xml"==d.dataType||A.XMLDocument||t.isXMLDoc(A);if(o("isXml="+s),!s&&window.opera&&(null===A.body||!A.body.innerHTML)&&--F)return o("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var l=A.body?A.body:A.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=A.XMLDocument?A.XMLDocument:A,s&&(d.dataType="xml"),y.getResponseHeader=function(t){var e={"content-type":d.dataType};return e[t.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var p=A.getElementsByTagName("textarea")[0];if(p)y.responseText=p.value,y.status=Number(p.getAttribute("status"))||y.status,y.statusText=p.getAttribute("statusText")||y.statusText;else if(u){var h=A.getElementsByTagName("pre")[0],m=A.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=L(y.responseText));try{D=M(y,c,d)}catch(b){r="parsererror",y.error=n=b||r}}catch(b){o("error caught: ",b),r="error",y.error=n=b||r}y.aborted&&(o("upload aborted"),r=null),y.status&&(r=y.status>=200&&300>y.status||304===y.status?"success":"error"),"success"===r?(d.success&&d.success.call(d.context,D,"success",y),T.resolve(y.responseText,"success",y),f&&t.event.trigger("ajaxSuccess",[y,d])):r&&(void 0===n&&(n=y.statusText),d.error&&d.error.call(d.context,y,r,n),T.reject(y,"error",n),f&&t.event.trigger("ajaxError",[y,d,n])),f&&t.event.trigger("ajaxComplete",[y,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,y,r),P=!0,d.timeout&&clearTimeout($),setTimeout(function(){d.iframeTarget?v.attr("src",d.iframeSrc):v.remove(),y.responseXML=null},100)}}}var c,u,d,f,h,v,g,y,b,x,w,$,C=p[0],T=t.Deferred();if(T.abort=function(t){y.abort(t)},n)for(u=0;m.length>u;u++)c=t(m[u]),r?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,h="jqFormIO"+(new Date).getTime(),d.iframeTarget?(v=t(d.iframeTarget),x=v.attr2("name"),x?h=x:v.attr2("name",h)):(v=t('<iframe name="'+h+'" src="'+d.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";o("aborting upload... "+n),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(i){}v.attr("src",d.iframeSrc),y.error=n,d.error&&d.error.call(d.context,y,n,e),f&&t.event.trigger("ajaxError",[y,d,n]),d.complete&&d.complete.call(d.context,y,n)}},f=d.global,f&&0===t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[y,d]),d.beforeSend&&d.beforeSend.call(d.context,y,d)===!1)return d.global&&t.active--,T.reject(),T;if(y.aborted)return T.reject(),T;b=C.clk,b&&(x=b.name,x&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[x]=b.value,"image"==b.type&&(d.extraData[x+".x"]=C.clk_x,d.extraData[x+".y"]=C.clk_y)));var k=1,S=2,E=t("meta[name=csrf-token]").attr("content"),j=t("meta[name=csrf-param]").attr("content");j&&E&&(d.extraData=d.extraData||{},d.extraData[j]=E),d.forceSync?s():setTimeout(s,10);var D,A,P,F=50,L=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},O=t.parseJSON||function(t){return window.eval("("+t+")")},M=function(e,n,o){var i=e.getResponseHeader("content-type")||"",r="xml"===n||!n&&i.indexOf("xml")>=0,s=r?e.responseXML:e.responseText;return r&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),o&&o.dataFilter&&(s=o.dataFilter(s,n)),"string"==typeof s&&("json"===n||!n&&i.indexOf("json")>=0?s=O(s):("script"===n||!n&&i.indexOf("javascript")>=0)&&t.globalEval(s)),s};return T}if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,p=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),u="string"==typeof c?t.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var d={};if(this.trigger("form-pre-serialize",[this,e,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=e.traditional;void 0===f&&(f=t.ajaxSettings.traditional);var h,m=[],v=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,h=t.param(e.data,f)),e.beforeSubmit&&e.beforeSubmit(v,this,e)===!1)return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,e,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=t.param(v,f);h&&(g=g?g+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+g,e.data=null):e.data=g;var y=[];if(e.resetForm&&y.push(function(){p.resetForm()}),e.clearForm&&y.push(function(){p.clearForm(e.includeHidden)}),!e.dataType&&e.target){var b=e.success||function(){};y.push(function(n){var o=e.replaceTarget?"replaceWith":"html";t(e.target)[o](n).each(b,arguments)})}else e.success&&y.push(e.success);if(e.success=function(t,n,o){for(var i=e.context||this,r=0,s=y.length;s>r;r++)y[r].apply(i,[t,n,o||p,p])},e.error){var x=e.error;e.error=function(t,n,o){var i=e.context||this;x.apply(i,[t,n,o,p])}}if(e.complete){var w=e.complete;e.complete=function(t,n){var o=e.context||this;w.apply(o,[t,n,p])}}var $=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),C=$.length>0,T="multipart/form-data",k=p.attr("enctype")==T||p.attr("encoding")==T,S=i.fileapi&&i.formdata;o("fileAPI :"+S);var E,j=(C||k)&&!S;e.iframe!==!1&&(e.iframe||j)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){E=a(v)}):E=a(v):E=(C||k)&&S?s(v):t.ajax(e),p.removeData("jqxhr").data("jqxhr",E);for(var D=0;m.length>D;D++)m[D]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&t.isFunction(t.fn.on),!i.delegation&&0===this.length){var r={s:this.selector,c:this.context};return!t.isReady&&r.s?(o("DOM not ready, queuing ajaxForm"),t(function(){t(r.s,r.c).ajaxForm(i)}),this):(o("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return i.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,i,e).on("click.form-plugin",this.selector,i,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,e).bind("click.form-plugin",i,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var o=[];if(0===this.length)return o;var r=this[0],s=e?r.getElementsByTagName("*"):r.elements;if(!s)return o;var a,l,c,u,p,d,f;for(a=0,d=s.length;d>a;a++)if(p=s[a],c=p.name,c&&!p.disabled)if(e&&r.clk&&"image"==p.type)r.clk==p&&(o.push({name:c,value:t(p).val(),type:p.type}),o.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}));else if(u=t.fieldValue(p,!0),u&&u.constructor==Array)for(n&&n.push(p),l=0,f=u.length;f>l;l++)o.push({name:c,value:u[l]});else if(i.fileapi&&"file"==p.type){n&&n.push(p);var h=p.files;if(h.length)for(l=0;h.length>l;l++)o.push({name:c,value:h[l],type:p.type});else o.push({name:c,value:"",type:p.type})}else null!==u&&void 0!==u&&(n&&n.push(p),o.push({name:c,value:u,type:p.type,required:p.required}));if(!e&&r.clk){var m=t(r.clk),v=m[0];c=v.name,c&&!v.disabled&&"image"==v.type&&(o.push({name:c,value:m.val()}),o.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}))}return o},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var o=this.name;if(o){var i=t.fieldValue(this,e);if(i&&i.constructor==Array)for(var r=0,s=i.length;s>r;r++)n.push({name:o,value:i[r]});else null!==i&&void 0!==i&&n.push({name:this.name,value:i})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],o=0,i=this.length;i>o;o++){var r=this[o],s=t.fieldValue(r,e);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(n,s):n.push(s))}return n},t.fieldValue=function(e,n){var o=e.name,i=e.type,r=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!o||e.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!e.checked||("submit"==i||"image"==i)&&e.form&&e.form.clk!=e||"select"==r&&-1==e.selectedIndex))return null;if("select"==r){var s=e.selectedIndex;if(0>s)return null;for(var a=[],l=e.options,c="select-one"==i,u=c?s+1:l.length,p=c?s:0;u>p;p++){var d=l[p];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return f;a.push(f)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var o=this.type,i=this.tagName.toLowerCase();n.test(o)||"textarea"==i?this.value="":"checkbox"==o||"radio"==o?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==o?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(o)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var o=t(this).parent("select");e&&o[0]&&"select-one"==o[0].type&&o.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1})("undefined"!=typeof jQuery?jQuery:window.Zepto),function(t){t.fn.makeForms=function(e){var n,o,i,r,s,a,l,c,u={},p={};e=t.extend({components:{},groupSize:1,selectMinSize:18,position:"before",templates:{}},e),e.templates=t.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"<div data-role='group'>{{group}}</div>",item_group:"<div class='item-group'>{{items}}</div>",label:'<label for="{{id}}">{{label}}</label>',radio:'<label for="{{id}}"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}</label>',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},e.templates);var d=function(t,e){var n,o;n=t;for(o in e)-1!==n.search("{{"+o+"}}")&&e.hasOwnProperty(o)&&(n=n.replace("{{"+o+"}}",e[o]),n=d(n,e));return n},f=function(t){var e,n;e=0;for(n in t)e+=1;return e},h=function(t){var n,o;return t.hasOwnProperty("type")?n=t.type:(o=f(t.choices),n=1>=o?"text":e.selectMinSize>o?"radio":"option"),n},m=function(t,n,o,i){var r,s="";for(r in t){var a,l,c,u,p,f;"group"!==r&&(a=t[r],f=a.hasOwnProperty("type")?e.templates[a.type]:$,l=n+"_"+i+"_"+r,c=e.templates.label,u="option"!==o&&"radio"!==o?d(c,{label:a.label,id:l}):"",a.hasOwnProperty("value")||(a.value=i+"_"+r),p=d(f,{name:n,id:l,value:a.value,label:a.label}),a.hasOwnProperty("before")&&(p=a.before+p),a.hasOwnProperty("after")&&(p+=a.after),s=s+u+p)}return s},v=function(n,o){var i,r,s=[];for(i in n[o]){var a=n[o][i].slice(1);for(r in e.components[a].choices)s.push("#"+a+"_"+r);t(s.join(", ")).show()}return s},g=function(t,e){var n=0;if(t.hasOwnProperty("enable")){e in u==!1&&(u["#"+e]=[]);for(n=0;t.enable.length>n;n++)u["#"+e].push("#"+t.enable[n])}if(t.hasOwnProperty("disable")){e in p==!1&&(p["#"+e]=[]);for(n=0;t.disable.length>n;n++)p["#"+e].push("#"+t.disable[n])}},y=function(t,n,o,i){var r,s=!1;for(r in t){var a,l,c,u,p,f;if(a=t[r],s=a.group,s!==!0)f=a.hasOwnProperty("type")?e.templates[a.type]:$,l=n+"_"+r,c=e.templates.label,u="option"!==i&&"radio"!==i?d(c,{label:a.label,id:l}):"",g(a,l),a.hasOwnProperty("value")||(a.value=r),p=d(f,{name:n,id:l,value:a.value,label:a.label}),a.hasOwnProperty("before")&&(p=a.before+p),a.hasOwnProperty("after")&&(p+=a.after),T=T+u+p;else if(s===!0){var h="",v=m(a,n,i,r);h+=v,T+=d(e.templates.item_group,{items:h});var y=n+"_"+r+"_all";g(a,y)}}return T};r=[],s=[],a=f(e.components),i=t(this),o=0;for(n in e.components){var b,x,w,$,C,T;T="",C="",c="",b=n,x=e.components[n].label,w=h(e.components[n]),$=e.templates[w],c=e.templates.group,e.components[n].hasOwnProperty("title")&&(e.components[n].hasOwnProperty("beforeTitle")&&(C+=e.components[n].beforeTitle),C+=d(e.templates.title,{title:e.components[n].title}),e.components[n].hasOwnProperty("afterTitle")&&(C+=e.components[n].afterTitle),r.push(C)),o+=1,y(e.components[n].choices,b,x,w),"option"===w&&(T=d(e.templates.select,{name:b,id:b,options:T})),r.push(T),T="",0===e.groupSize||0!==o%e.groupSize&&o!==a||(l=d(c,{group:r.join("\n")}),s.push(l),e.groupSize>0&&(r=[]))}0===e.groupSize&&(l=d(c,{group:r.join("\n")}),s.push(l)),"before"===e.position?i.html(s.join("\n")+i.html()):"after"===e.position?i.html(i.html()+s.join("\n")):i.html(s.join("\n"));var k,S,E;for(k in u)E=v(u,k),t(E.join(", ")).parents("div[data-role='group']").hide(),t(k).click(function(){t(E.join(", ")).parents("div[data-role='group']").show()});for(S in p)E=v(p,S),t(S).click(function(){t(E.join(", ")).parents("div[data-role='group']").hide()});return this}}(jQuery),function(t){function e(t){return t.replace(/(:|\.)/g,"\\$1")}var n="1.4.12",o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},i=function(e){var n=[],o=!1,i=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var e=t(this);e[i]()>0?n.push(this):(e[i](1),o=e[i]()>0,o&&n.push(this),e[i](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===e.el&&n.length>1&&(n=[n[0]]),n};t.fn.extend({scrollable:function(t){var e=i.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=i.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(n){n=n||{};var o=t.extend({},t.fn.smoothScroll.defaults,n),i=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var r=this,s=t(this),a=o.exclude,l=o.excludeWithin,c=0,u=0,p=!0,d={},f=location.hostname===r.hostname||!r.hostname,h=o.scrollTarget||(t.smoothScroll.filterPath(r.pathname)||i)===i,m=e(r.hash);if(o.scrollTarget||f&&h&&m){for(;p&&a.length>c;)s.is(e(a[c++]))&&(p=!1);for(;p&&l.length>u;)s.closest(l[u++]).length&&(p=!1)}else p=!1;p&&(o.preventDefault&&n.preventDefault(),t.extend(d,o,{scrollTarget:o.scrollTarget||m,link:r}),t.smoothScroll(d))}),this}}),t.smoothScroll=function(e,n){var o,i,r,s,a=0,l="offset",c="scrollTop",u={},p={};"number"==typeof e?(o=t.fn.smoothScroll.defaults,r=e):(o=t.extend({},t.fn.smoothScroll.defaults,e||{}),o.scrollElement&&(l="position","static"==o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),o=t.extend({link:null},o),c="left"==o.direction?"scrollLeft":c,o.scrollElement?(i=o.scrollElement,/^(?:HTML|BODY)$/.test(i[0].nodeName)||(a=i[c]())):i=t("html, body").firstScrollable(o.direction),o.beforeScroll.call(i,o),r="number"==typeof e?e:n||t(o.scrollTarget)[l]()&&t(o.scrollTarget)[l]()[o.direction]||0,u[c]=r+a+o.offset,s=o.speed,"auto"===s&&(s=u[c]||i.scrollTop(),s/=o.autoCoefficent),p={duration:s,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(p.step=o.step),i.length?i.stop().animate(u,p):o.afterScroll.call(o.link,o)},t.smoothScroll.version=n,t.smoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults=o}(jQuery),function(){var t,e,n,o,i,r,s,a,l,c;window.console&&window.console.log&&(r=function(){var t;return t=[],s(arguments).forEach(function(e){return"string"==typeof e?t=t.concat(l(e)):t.push(e)}),c.apply(window,t)},c=function(){return console.log.apply(console,s(arguments))},s=function(t){return Array.prototype.slice.call(t)},t=[{regex:/\*([^\*)]+)\*/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_)]+)\_/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`)]+)\`/,replacer:function(t,e){return"%c"+e+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=\"([^\")]+)\"\]([^\[)]+)\[c\]/,replacer:function(t,e,n){return"%c"+n+"%c"},styles:function(t){return[t[1],""]}}],n=function(e){var n;return n=!1,t.forEach(function(t){return t.regex.test(e)?n=!0:void 0}),n},e=function(e){var n;return n=[],t.forEach(function(t){var o;return o=e.match(t.regex),o?n.push({format:t,match:o}):void 0}),n.sort(function(t,e){return t.match.index-e.match.index})},l=function(t){var o,i,r;for(r=[];n(t);)i=e(t),o=i[0],t=t.replace(o.format.regex,o.format.replacer),r=r.concat(o.format.styles(o.match));return[t].concat(r)},i=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},o=function(){return/MSIE/.test(navigator.userAgent)},a=function(){var t;return t=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),t?537.38>=parseInt(t[1],10)+parseInt(t[2],10)/100:!1},window.log=i()&&!a()||o()?c:r,window.log.l=c)}.call(this),function(t){"function"==typeof module?module.exports=t(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):this.NProgress=t(this.jQuery)}(function(t){function e(t,e,n){return e>t?e:t>n?n:t}function n(t){return 100*(-1+t)}function o(t,e,o){var i;return i="translate3d"===r.positionUsing?{transform:"translate3d("+n(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+n(t)+"%,0)"}:{"margin-left":n(t)+"%"},i.transition="all "+e+"ms "+o,i}var i={};i.version="0.1.2";var r=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return i.configure=function(e){return t.extend(r,e),this},i.status=null,i.set=function(t){var n=i.isStarted();t=e(t,r.minimum,1),i.status=1===t?null:t;var s=i.render(!n),a=s.find('[role="bar"]'),l=r.speed,c=r.easing;return s[0].offsetWidth,s.queue(function(e){""===r.positionUsing&&(r.positionUsing=i.getPositioningCSS()),a.css(o(t,l,c)),1===t?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){i.remove(),e()},l)},l)):setTimeout(e,l)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var t=function(){setTimeout(function(){i.status&&(i.trickle(),t())},r.trickleSpeed)};return r.trickle&&t(),this},i.done=function(t){return t||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(t){var n=i.status;return n?("number"!=typeof t&&(t=(1-n)*e(Math.random()*n,.1,.95)),n=e(n+t,0,.994),i.set(n)):i.start()},i.trickle=function(){return i.inc(Math.random()*r.trickleRate)},function(){var t=0,e=0;i.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&i.start(),t++,e++,n.always(function(){e--,0==e?(t=0,i.done()):i.set((t-e)/t)}),this):this}}(),i.render=function(e){if(i.isRendered())return t("#nprogress");t("html").addClass("nprogress-busy");var o=t("<div id='nprogress'>").html(r.template),s=e?"-100":n(i.status||0);return o.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),r.showSpinner||o.find('[role="spinner"]').remove(),o.appendTo(document.body),o},i.remove=function(){t("html").removeClass("nprogress-busy"),t("#nprogress").remove()},i.isRendered=function(){return t("#nprogress").length>0},i.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"},i}),function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var e=window.StyleFix={link:function(t){try{if("stylesheet"!==t.rel||t.hasAttribute("data-noprefix"))return}catch(n){return}var o,i=t.href||t.getAttribute("data-href"),r=i.replace(/[^\/]+$/,""),s=(/^[a-z]{3,10}:/.exec(r)||[""])[0],a=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],l=/^([^?]*)\??/.exec(i)[1],c=t.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&o()},o=function(){var n=u.responseText;if(n&&t.parentNode&&(!u.status||400>u.status||u.status>600)){if(n=e.fix(n,!0,t),r){n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(t,e,n){return/^([a-z]{3,10}:|#)/i.test(n)?t:/^\/\//.test(n)?'url("'+s+n+'")':/^\//.test(n)?'url("'+a+n+'")':/^\?/.test(n)?'url("'+l+n+'")':'url("'+r+n+'")'});var o=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+o,"gi"),"$1")}var i=document.createElement("style");i.textContent=n,i.media=t.media,i.disabled=t.disabled,i.setAttribute("data-href",t.getAttribute("href")),c.insertBefore(i,t),c.removeChild(t),i.media=t.media}};try{u.open("GET",i),u.send(null)}catch(n){"undefined"!=typeof XDomainRequest&&(u=new XDomainRequest,u.onerror=u.onprogress=function(){},u.onload=o,u.open("GET",i),u.send(null))}t.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var n=t.disabled;t.textContent=e.fix(t.textContent,!0,t),t.disabled=n}},styleAttribute:function(t){var n=t.getAttribute("style");n=e.fix(n,!1,t),t.setAttribute("style",n)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,n){(e.fixers=e.fixers||[]).splice(void 0===n?e.fixers.length:n,0,t)},fix:function(t,n,o){for(var i=0;e.fixers.length>i;i++)t=e.fixers[i](t,n,o)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}};(function(){setTimeout(function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(t){function e(t,e,o,i,r){if(t=n[t],t.length){var s=RegExp(e+"("+t.join("|")+")"+o,"gi");r=r.replace(s,i)}return r}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(t,o){var i=n.prefix;if(n.functions.indexOf("linear-gradient")>-1&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(t,e,n,o){return e+(n||"")+"linear-gradient("+(90-o)+"deg"})),t=e("functions","(\\s|:|,)","\\s*\\(","$1"+i+"$2(",t),t=e("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+i+"$2$3",t),t=e("properties","(^|\\{|\\s|;)","\\s*:","$1"+i+"$2:",t),n.properties.length){var r=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");t=e("valueProperties","\\b",":(.+?);",function(t){return t.replace(r,i+"$1")},t)}return o&&(t=e("selectors","","\\b",n.prefixSelector,t),t=e("atrules","@","\\b","@"+i+"$1",t)),t=t.replace(RegExp("-"+i,"g"),"-"),t=t.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(t){return(n.properties.indexOf(t)?n.prefix:"")+t},value:function(t){return t=e("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",t),t=e("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",t)},prefixSelector:function(t){return t.replace(/^:{1,2}/,function(t){return t+n.prefix})},prefixProperty:function(t,e){var o=n.prefix+t;return e?StyleFix.camelCase(o):o}};(function(){var t={},e=[],o=getComputedStyle(document.documentElement,null),i=document.createElement("div").style,r=function(n){if("-"===n.charAt(0)){e.push(n);var o=n.split("-"),i=o[1];for(t[i]=++t[i]||1;o.length>3;){o.pop();var r=o.join("-");s(r)&&-1===e.indexOf(r)&&e.push(r)}}},s=function(t){return StyleFix.camelCase(t)in i};if(o.length>0)for(var a=0;o.length>a;a++)r(o[a]);else for(var l in o)r(StyleFix.deCamelCase(l));var c={uses:0};for(var u in t){var p=t[u];p>c.uses&&(c={prefix:u,uses:p})}n.prefix="-"+c.prefix+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(var a=0;e.length>a;a++){var l=e[a];if(0===l.indexOf(n.prefix)){var d=l.slice(n.prefix.length);s(d)||n.properties.push(d)}}"Ms"==n.Prefix&&!("transform"in i)&&!("MsTransform"in i)&&"msTransform"in i&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function t(t,e){return i[e]="",i[e]=t,!!i[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var o={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};n.functions=[],n.keywords=[];var i=document.createElement("div").style;for(var r in e){var s=e[r],a=s.property,l=r+"("+s.params+")";!t(l,a)&&t(n.prefix+l,a)&&n.functions.push(r)}for(var c in o){var a=o[c];!t(c,a)&&t(n.prefix+c,a)&&n.keywords.push(c)}}(),function(){function e(t){return r.textContent=t+"{}",!!r.sheet.cssRules.length}var o={":read-only":null,":read-write":null,":any-link":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var r=t.appendChild(document.createElement("style"));for(var s in o){var a=s+(o[s]?"("+o[s]+")":"");!e(a)&&e(n.prefixSelector(a))&&n.selectors.push(s)
}for(var l in i){var a=l+" "+(i[l]||"");!e("@"+a)&&e("@"+n.prefix+a)&&n.atrules.push(l)}t.removeChild(r)}(),n.valueProperties=["transition","transition-property"],t.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(o).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed.bs.alert").remove()}var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t(i);e&&e.preventDefault(),r.length||(r=o.hasClass("alert")?o:o.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),i=o.data("bs.alert");i||o.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(o)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,o){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,o)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,o=n.is("input")?"val":"html",i=n.data();t+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var o=t(this),i=o.data("bs.button"),r="object"==typeof n&&n;i||o.data("bs.button",i=new e(this,r)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,o=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),i=n||o[e](),r=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}this.sliding=!0,r&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:i[0],direction:s});if(!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,o.addClass(s),i.addClass(s),o.one(t.support.transition.end,function(){i.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var o=t(this),i=o.data("bs.carousel"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n),s="string"==typeof n?n:r.slide;i||o.data("bs.carousel",i=new e(this,r)),"number"==typeof n?i.to(n):s?i[s]():r.interval&&i.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,o=t(this),i=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},i.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),i.carousel(r),(s=o.attr("data-slide-to"))&&i.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,o){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var o=n.data("bs.collapse");if(o&&o.transitioning)return;n.collapse("hide"),o||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[i](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350),void 0):o.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var o=t(this),i=o.data("bs.collapse"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);i||o.data("bs.collapse",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,o=t(this),i=o.attr("data-target")||e.preventDefault()||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(i),s=r.data("bs.collapse"),a=s?"toggle":o.data(),l=o.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(o).addClass("collapsed"),o[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(a)})}(jQuery),+function(t){"use strict";function e(){t(o).remove(),t(i).each(function(e){var o=n(t(this));o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}var o=".dropdown-backdrop",i="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(o){var i=t(this);if(!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),r.trigger(o=t.Event("show.bs.dropdown")),o.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(i).focus(),o.click();var a=t("[role=menu] li:not(.divider):visible a",r);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&a.length-1>l&&l++,~l||(l=0),a.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),o=n.data("dropdown");o||n.data("dropdown",o=new r(this)),"string"==typeof e&&o[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,r.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,o){return this.each(function(){var i=t(this),r=i.data("bs.modal"),s=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.modal",r=new e(this,s)),"string"==typeof n?r[n](o):s.show&&r.show(o)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),o=n.attr("href"),i=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),n.data());e.preventDefault(),i.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,o){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,o){n[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,r=i.test(o);r&&(o=o.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(r){var c=this.$element.parent(),u=o,p=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;o="bottom"==o&&s.top+s.height+l-p>f?"top":"top"==o&&0>s.top-p-l?"bottom":"right"==o&&s.right+a>d?"left":"left"==o&&h>s.left-a?"right":o,n.removeClass(u).addClass(o)}var m=this.getCalculatedOffset(o,s,a,l);this.applyPlacement(m,o),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,o=this.tip(),i=o[0].offsetWidth,r=o[0].offsetHeight,s=parseInt(o.css("margin-top"),10),a=parseInt(o.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,o.offset(t).addClass("in");var l=o[0].offsetWidth,c=o[0].offsetHeight;if("top"==e&&c!=r&&(n=!0,t.top=t.top+r-c),/bottom|top/.test(e)){var u=0;0>t.left&&(u=-2*t.left,t.left=0,o.offset(t),l=o[0].offsetWidth,c=o[0].offsetHeight),this.replaceArrow(u-i+l,l,"left")}else this.replaceArrow(c-r,c,"top");n&&o.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&o.detach()}var n=this,o=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var o=t(this),i=o.data("bs.tooltip"),r="object"==typeof n&&n;i||o.data("bs.tooltip",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var o=t(this),i=o.data("bs.popover"),r="object"==typeof n&&n;i||o.data("bs.popover",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,o){var i,r=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(i=t(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var o=t(this),i=o.data("target")||o.attr("href"),r=/^#\w/.test(i)&&t(i);return r&&r.length&&[[r[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=n-this.$scrollElement.height(),i=this.offsets,r=this.targets,s=this.activeTarget;if(e>=o)return s!=(t=r.last()[0])&&this.activate(t);for(t=i.length;t--;)s!=r[t]&&e>=i[t]&&(!i[t+1]||i[t+1]>=e)&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(n).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var o=t(this),i=o.data("bs.scrollspy"),r="object"==typeof n&&n;i||o.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(o);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},e.prototype.activate=function(e,n,o){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var r=n.find("> .active"),s=o&&t.support.transition&&r.hasClass("fade");s?r.one(t.support.transition.end,i).emulateTransitionEnd(150):i(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var o=t(this),i=o.data("bs.tab");i||o.data("bs.tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),o=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,s=r.top,a=r.bottom;"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof a&&(a=r.bottom());var l=null!=this.unpin&&o+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=o?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?i.top-o:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var o=t(this),i=o.data("bs.affix"),r="object"==typeof n&&n;i||o.data("bs.affix",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),function(t){window.muffin={},window.muffin.niveaux=function(t){var e;return e=null===t||void 0===t||""===t?{low:{label:""},med:{label:""},high:{label:""}}:{low:{enable:t,label:""},med:{enable:t,label:""},high:{enable:t,label:""}}},muffin.displaceElt=function(t,e){var n=e.offset().top-t.offset().top;t.addClass("disappear"),e.attr("style","position: relative;top: -"+n+"px;")},muffin.envoyerCode=function(e){NProgress.start(),t.ajax({type:"GET",url:"Login/register/"+e}).done(function(n){"1"===(""+n)[0]?(NProgress.inc(),t.get("Home/loginnew/"+e,function(e){t("#input-login").attr("disabled","disabled"),t("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),e=t(e),e.addClass("loading"),t("div[data-role='container']").append(e),setTimeout(function(){t.smoothScroll({offset:t(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),e.addClass("complete"),muffin.displaceElt(t("[data-content='login'] header"),t("[data-content='login'] form"))},200)})):"-1"===(""+n).slice(0,2)?(NProgress.inc(),t.get("Home/loginExists/"+e,function(e){t("#input-login").attr("disabled","disabled"),t("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),e=t(e),e.addClass("loading"),t("div[data-role='container']").append(e),setTimeout(function(){t.smoothScroll({offset:t(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),e.addClass("complete"),muffin.displaceElt(t("[data-content='login'] header"),t("[data-content='login'] form"))},200)})):"-2"===(""+n).slice(0,2)&&(NProgress.done(),t("[data-content='login'] div[role='title'] > p").first().html("Vous devez être un étudiant de 42"),t("#input-login + button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span>'))})},muffin.changeName=function(e){t("[data-content='login']").addClass("disappear").queue("fx",function(){t(this).html("<h1 class='entered-login'><i>"+e+"</i></h1>").dequeue()}).addClass("appear")},muffin.verifierCode=function(e,n){t.ajax({type:"POST",data:{code:e,login:n},url:"Login/checkCode"}).done(function(e){"1"===(""+e)[0]?t.get("User/index",function(e){t("#input-code").attr("disabled","disabled"),t("#input-code + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>");var e=t(e);e.addClass("loading"),t("div[data-role='container']").children().slideUp(),t("div[data-role='container']").html(e),setTimeout(function(){NProgress.done(),e.addClass("complete")},200)}):(t("#form-passphrase").parent().parent().find("div[role='title'] > p").first().html("Mot de passe incorrect"),t("#input-passphrase").attr("style","color: #C02942"),t("#form-passphrase").find("button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span> '))})},muffin.renvoyerCode=function(e){var n=t("#re-send-mail"),o=n.find("span").first();o.removeClass("icon-repeat").addClass("icon-time"),t.ajax({type:"GET",url:"Login/update/"+e}).done(function(t){NProgress.done(),"1"===(""+t)[0]?n.html("Mail envoyé ! <span class='icon-checkmark'></span>"):n.html("Une erreur s'est produite <span class='icon-warning-outline'></span>")})}}(jQuery),$(document).ready(function(){initalizeForm(),$("input").change(function(){console.log("change !")}),NProgress.configure({showSpinner:!1}),$("a").smoothScroll(),treatResize(),$(window).resize(treatResize),$.getJSON("https://api.github.com/repos/lambda2/Muffin/tags",function(t){console.log(t);var e=t[0].commit.sha;$.getJSON("https://api.github.com/repos/lambda2/Muffin/commits/"+e,function(e){var n=e,o=n.commit.committer.date.slice(0,10),i=n.stats.additions,r=n.stats.deletions;n.stats.additions;var s="<span class='icon-flow-tree'></span> <span class='git-add'>+"+i+"</span>  <span class='git-del'>-"+r+"</span>";$("div[role='git-info']").html("<p>\n				<a href='https://github.com/lambda2/Muffin'><span class='icon-github'></span>\n				v"+t[0].name+" datant du "+o+"  ─  "+s+"</a> </p>")})})}),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,i=window.console=window.console||{};o--;)t=n[o],i[t]||(i[t]=e)
}(),window.formChanged=!1;var saveToDatabase=function(){window.formChanged&&$("#form-competences").trigger("submit"),window.formChanged=!1},initalizeForm=function(){var t={target:"#form-result",beforeSubmit:showRequest,success:showResponse,url:"User/updatecompetence",type:"post"};$("#form-competences").submit(function(){return $(this).ajaxSubmit(t),!1}),addClearItems(),setInterval(saveToDatabase,5e3)},initalizeAddForm=function(){var t={target:"#form-result",beforeSubmit:showAddRequest,success:showAddResponse,url:"User/addcompetence",type:"post"};$("#form-add-competence").submit(function(){return console.log("initialized"),$(this).ajaxSubmit(t),!1})},addClearItems=function(){$("#form-competences fieldset").each(function(){var t=$(this),e=t.find(".radio input").first();0==t.find(".clear-all").length&&t.append("<a class='clear-all' data-items='"+e.attr("name")+"'><span class='icon-remove-circle'></span></a>"),0==t.find(".want-to-learn").length&&t.append("<a class='want-to-learn' data-items='"+e.attr("name")+"'><span class='icon-student'></span></a>"),0==t.find(".want-to-teach").length&&t.append("<a class='want-to-teach' data-items='"+e.attr("name")+"'><span class='icon-love'></span></a>")}),$("#form-competences fieldset a.clear-all").click(function(){var t=$(this),e=t.parent().find("input[name='"+t.attr("data-items")+"']");$.ajax({url:"User/deletecompetence",type:"POST",data:{login:$("#form-login").val(),code:$("#form-code").val(),comp:t.attr("data-items")}}).done(function(){e.each(function(){$(this).is(":checked")&&$(this).removeAttr("checked")})})})},createFormCompetences=function(){console.log("form competences"),$("#form-competences div").makeForms({components:window.items,groupSize:1,templates:{title:"<h4>{{title}}</h4>",group:"<fieldset>{{group}}</fieldset>",label:'<label for="{{id}}">{{label}}</label>',radio:'<div class="radio"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}<label for="{{id}}"></label></div>',input:'<input class="form-control" type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',text:'<input class="form-control" type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select class="form-control" id="{{id}}" name="{{name}}">\n	<option id="{{id}}" value="">Aucun</option>{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'}})},treatResize=function(){$("div[data-role='container']").height()>=$(window).height()?$(".footer-container").addClass("nofix"):$(".footer-container").removeClass("nofix")};window.createFormCompetences=createFormCompetences;
=======
*******************************************************************************/function bindAjaxEvents(){$("[data-load-target]").each(function(){var e=$(this).attr("data-load-target");$(this).click(function(){$.get(e,function(e){e=$(e),e.addClass("loading"),$("div[data-role='form-container']").children().slideUp(),$("div[data-role='form-container']").html(e),setTimeout(function(){NProgress.done(),e.addClass("complete"),reloadHandlers()},200)})})})}function addCheckHandler(e){$("div[data-role='form-container'] form .radio input, div[data-role='form-container'] form input[type='checkbox']").change(function(){console.log("change"),$(this).parents("form").trigger("submit")});for(elt in e)$("input#"+e[elt]).attr("checked","checked")}function showRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Enregistrement..."),!0}function showResponse(){NProgress.done(),$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Enregistré.")}function showAddRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Ajout..."),$("#input-nom-comp + button").html("<span class='icon-time'></span>"),!0}function showAddResponse(e,t){$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Ajouté."),$("#input-nom-comp + button").html("<span class='icon-chevron-right'></span>"),console.log("responseText:",e),console.log("statusText:",t);var n=$(e);n.addClass("preparing");var i=$("div[data-role='form-container'] > ul.items-panels"),o=$("#form-add-competence .radio-group input:checked").val();"1"==o?o="3":"3"==o&&(o="1"),console.log("type = "+o),i.find("li[data-index='"+o+"']").append(n),addCheckHandler(window.toCheck),n.submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems(),setTimeout(function(){$.smoothScroll({offset:$(window).height()/2,scrollElement:null,scrollTarget:n}),NProgress.done(),n.addClass("complete").removeClass("preparing")},1e3)}(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=i.offset();s.clk_x=t.pageX-r.left,s.clk_y=t.pageY-r.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,o,s=e.param(n,t.traditional).split("&"),r=s.length,a=[];for(i=0;r>i;i++)s[i]=s[i].replace(/\+/g," "),o=s[i].split("="),a.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return a}function r(i){for(var o=new FormData,s=0;i.length>s;s++)o.append(i[s].name,i[s].value);if(t.extraData){var r=n(t.extraData);for(s=0;r.length>s;s++)r[s]&&o.append(r[s][0],r[s][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(a.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(100*(i/o))),t.uploadProgress(e,i,o,n)},!1),n}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(e,n){n.data=t.formData?t.formData:o,c&&c.call(this,e,n)},e.ajax(a)}function a(n){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function r(){function t(){try{var e=o(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),a(k),C&&clearTimeout(C),C=void 0}}var n=d.attr2("target"),s=d.attr2("action");w.setAttribute("target",h),(!l||/post/i.test(l))&&w.setAttribute("method","POST"),s!=p.url&&w.setAttribute("action",p.url),p.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(C=setTimeout(function(){$=!0,a(T)},p.timeout));var r=[];try{if(p.extraData)for(var c in p.extraData)p.extraData.hasOwnProperty(c)&&(e.isPlainObject(p.extraData[c])&&p.extraData[c].hasOwnProperty("name")&&p.extraData[c].hasOwnProperty("value")?r.push(e('<input type="hidden" name="'+p.extraData[c].name+'">').val(p.extraData[c].value).appendTo(w)[0]):r.push(e('<input type="hidden" name="'+c+'">').val(p.extraData[c]).appendTo(w)[0]));p.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",a):v.addEventListener("load",a,!1),setTimeout(t,15);try{w.submit()}catch(u){var f=document.createElement("form").submit;f.apply(w)}}finally{w.setAttribute("action",s),n?w.setAttribute("target",n):d.removeAttr("target"),e(r).remove()}}function a(t){if(!y.aborted&&!F){if(j=o(v),j||(i("cannot access response document"),t=k),t===T&&y)return y.abort("timeout"),S.reject(y,"timeout"),void 0;if(t==k&&y)return y.abort("server abort"),S.reject(y,"error","server abort"),void 0;if(j&&j.location.href!=p.iframeSrc||$){v.detachEvent?v.detachEvent("onload",a):v.removeEventListener("load",a,!1);var n,s="success";try{if($)throw"timeout";var r="xml"==p.dataType||j.XMLDocument||e.isXMLDoc(j);if(i("isXml="+r),!r&&window.opera&&(null===j.body||!j.body.innerHTML)&&--A)return i("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var l=j.body?j.body:j.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=j.XMLDocument?j.XMLDocument:j,r&&(p.dataType="xml"),y.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||p.textarea){var d=j.getElementsByTagName("textarea")[0];if(d)y.responseText=d.value,y.status=Number(d.getAttribute("status"))||y.status,y.statusText=d.getAttribute("statusText")||y.statusText;else if(u){var h=j.getElementsByTagName("pre")[0],m=j.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=P(y.responseText));try{D=L(y,c,p)}catch(b){s="parsererror",y.error=n=b||s}}catch(b){i("error caught: ",b),s="error",y.error=n=b||s}y.aborted&&(i("upload aborted"),s=null),y.status&&(s=y.status>=200&&300>y.status||304===y.status?"success":"error"),"success"===s?(p.success&&p.success.call(p.context,D,"success",y),S.resolve(y.responseText,"success",y),f&&e.event.trigger("ajaxSuccess",[y,p])):s&&(void 0===n&&(n=y.statusText),p.error&&p.error.call(p.context,y,s,n),S.reject(y,"error",n),f&&e.event.trigger("ajaxError",[y,p,n])),f&&e.event.trigger("ajaxComplete",[y,p]),f&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,y,s),F=!0,p.timeout&&clearTimeout(C),setTimeout(function(){p.iframeTarget?g.attr("src",p.iframeSrc):g.remove(),y.responseXML=null},100)}}}var c,u,p,f,h,g,v,y,b,x,$,C,w=d[0],S=e.Deferred();if(S.abort=function(e){y.abort(e)},n)for(u=0;m.length>u;u++)c=e(m[u]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,h="jqFormIO"+(new Date).getTime(),p.iframeTarget?(g=e(p.iframeTarget),x=g.attr2("name"),x?h=x:g.attr2("name",h)):(g=e('<iframe name="'+h+'" src="'+p.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",p.iframeSrc),y.error=n,p.error&&p.error.call(p.context,y,n,t),f&&e.event.trigger("ajaxError",[y,p,n]),p.complete&&p.complete.call(p.context,y,n)}},f=p.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[y,p]),p.beforeSend&&p.beforeSend.call(p.context,y,p)===!1)return p.global&&e.active--,S.reject(),S;if(y.aborted)return S.reject(),S;b=w.clk,b&&(x=b.name,x&&!b.disabled&&(p.extraData=p.extraData||{},p.extraData[x]=b.value,"image"==b.type&&(p.extraData[x+".x"]=w.clk_x,p.extraData[x+".y"]=w.clk_y)));var T=1,k=2,_=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&_&&(p.extraData=p.extraData||{},p.extraData[E]=_),p.forceSync?r():setTimeout(r,10);var D,j,F,A=50,P=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},O=e.parseJSON||function(e){return window.eval("("+e+")")},L=function(t,n,i){var o=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&o.indexOf("xml")>=0,r=s?t.responseXML:t.responseText;return s&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(r=i.dataFilter(r,n)),"string"==typeof r&&("json"===n||!n&&o.indexOf("json")>=0?r=O(r):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(r)),r};return S}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var h,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,h=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);h&&(v=v?v+"&"+h:h),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var y=[];if(t.resetForm&&y.push(function(){d.resetForm()}),t.clearForm&&y.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};y.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(b,arguments)})}else t.success&&y.push(t.success);if(t.success=function(e,n,i){for(var o=t.context||this,s=0,r=y.length;r>s;s++)y[s].apply(o,[e,n,i||d,d])},t.error){var x=t.error;t.error=function(e,n,i){var o=t.context||this;x.apply(o,[e,n,i,d])}}if(t.complete){var $=t.complete;t.complete=function(e,n){var i=t.context||this;$.apply(i,[e,n,d])}}var C=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=C.length>0,S="multipart/form-data",T=d.attr("enctype")==S||d.attr("encoding")==S,k=o.fileapi&&o.formdata;i("fileAPI :"+k);var _,E=(w||T)&&!k;t.iframe!==!1&&(t.iframe||E)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){_=a(g)}):_=a(g):_=(w||T)&&k?r(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",_);for(var D=0;m.length>D;D++)m[D]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var s=this[0],r=t?s.getElementsByTagName("*"):s.elements;if(!r)return i;var a,l,c,u,d,p,f;for(a=0,p=r.length;p>a;a++)if(d=r[a],c=d.name,c&&!d.disabled)if(t&&s.clk&&"image"==d.type)s.clk==d&&(i.push({name:c,value:e(d).val(),type:d.type}),i.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}));else if(u=e.fieldValue(d,!0),u&&u.constructor==Array)for(n&&n.push(d),l=0,f=u.length;f>l;l++)i.push({name:c,value:u[l]});else if(o.fileapi&&"file"==d.type){n&&n.push(d);var h=d.files;if(h.length)for(l=0;h.length>l;l++)i.push({name:c,value:h[l],type:d.type});else i.push({name:c,value:"",type:d.type})}else null!==u&&void 0!==u&&(n&&n.push(d),i.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&s.clk){var m=e(s.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(i.push({name:c,value:m.val()}),i.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var s=0,r=o.length;r>s;s++)n.push({name:i,value:o[s]});else null!==o&&void 0!==o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;o>i;i++){var s=this[i],r=e.fieldValue(s,t);null===r||void 0===r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(n,r):n.push(r))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var r=t.selectedIndex;if(0>r)return null;for(var a=[],l=t.options,c="select-one"==o,u=c?r+1:l.length,d=c?r:0;u>d;d++){var p=l[d];if(p.selected){var f=p.value;if(f||(f=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return f;a.push(f)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1})("undefined"!=typeof jQuery?jQuery:window.Zepto),function(e){e.fn.makeForms=function(t){var n,i,o,s,r,a,l,c,u={},d={};t=e.extend({components:{},groupSize:1,selectMinSize:18,position:"before",templates:{}},t),t.templates=e.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"<div data-role='group'>{{group}}</div>",item_group:"<div class='item-group'>{{items}}</div>",label:'<label for="{{id}}">{{label}}</label>',radio:'<label for="{{id}}"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}</label>',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},t.templates);var p=function(e,t){var n,i;n=e;for(i in t)-1!==n.search("{{"+i+"}}")&&t.hasOwnProperty(i)&&(n=n.replace("{{"+i+"}}",t[i]),n=p(n,t));return n},f=function(e){var t,n;t=0;for(n in e)t+=1;return t},h=function(e){var n,i;return e.hasOwnProperty("type")?n=e.type:(i=f(e.choices),n=1>=i?"text":t.selectMinSize>i?"radio":"option"),n},m=function(e,n,i,o){var s,r="";for(s in e){var a,l,c,u,d,f;"group"!==s&&(a=e[s],f=a.hasOwnProperty("type")?t.templates[a.type]:C,l=n+"_"+o+"_"+s,c=t.templates.label,u="option"!==i&&"radio"!==i?p(c,{label:a.label,id:l}):"",a.hasOwnProperty("value")||(a.value=o+"_"+s),d=p(f,{name:n,id:l,value:a.value,label:a.label}),a.hasOwnProperty("before")&&(d=a.before+d),a.hasOwnProperty("after")&&(d+=a.after),r=r+u+d)}return r},g=function(n,i){var o,s,r=[];for(o in n[i]){var a=n[i][o].slice(1);for(s in t.components[a].choices)r.push("#"+a+"_"+s);e(r.join(", ")).show()}return r},v=function(e,t){var n=0;if(e.hasOwnProperty("enable")){t in u==!1&&(u["#"+t]=[]);for(n=0;e.enable.length>n;n++)u["#"+t].push("#"+e.enable[n])}if(e.hasOwnProperty("disable")){t in d==!1&&(d["#"+t]=[]);for(n=0;e.disable.length>n;n++)d["#"+t].push("#"+e.disable[n])}},y=function(e,n,i,o){var s,r=!1;for(s in e){var a,l,c,u,d,f;if(a=e[s],r=a.group,r!==!0)f=a.hasOwnProperty("type")?t.templates[a.type]:C,l=n+"_"+s,c=t.templates.label,u="option"!==o&&"radio"!==o?p(c,{label:a.label,id:l}):"",v(a,l),a.hasOwnProperty("value")||(a.value=s),d=p(f,{name:n,id:l,value:a.value,label:a.label}),a.hasOwnProperty("before")&&(d=a.before+d),a.hasOwnProperty("after")&&(d+=a.after),S=S+u+d;else if(r===!0){var h="",g=m(a,n,o,s);h+=g,S+=p(t.templates.item_group,{items:h});var y=n+"_"+s+"_all";v(a,y)}}return S};s=[],r=[],a=f(t.components),o=e(this),i=0;for(n in t.components){var b,x,$,C,w,S;S="",w="",c="",b=n,x=t.components[n].label,$=h(t.components[n]),C=t.templates[$],c=t.templates.group,t.components[n].hasOwnProperty("title")&&(t.components[n].hasOwnProperty("beforeTitle")&&(w+=t.components[n].beforeTitle),w+=p(t.templates.title,{title:t.components[n].title}),t.components[n].hasOwnProperty("afterTitle")&&(w+=t.components[n].afterTitle),s.push(w)),i+=1,y(t.components[n].choices,b,x,$),"option"===$&&(S=p(t.templates.select,{name:b,id:b,options:S})),s.push(S),S="",0===t.groupSize||0!==i%t.groupSize&&i!==a||(l=p(c,{group:s.join("\n")}),r.push(l),t.groupSize>0&&(s=[]))}0===t.groupSize&&(l=p(c,{group:s.join("\n")}),r.push(l)),"before"===t.position?o.html(r.join("\n")+o.html()):"after"===t.position?o.html(o.html()+r.join("\n")):o.html(r.join("\n"));var T,k,_;for(T in u)_=g(u,T),e(_.join(", ")).parents("div[data-role='group']").hide(),e(T).click(function(){e(_.join(", ")).parents("div[data-role='group']").show()});for(k in d)_=g(d,k),e(k).click(function(){e(_.join(", ")).parents("div[data-role='group']").hide()});return this}}(jQuery),function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.12",i={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},o=function(t){var n=[],i=!1,o=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[o]()>0?n.push(this):(t[o](1),i=t[o]()>0,i&&n.push(this),t[o](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=o.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=o.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n){n=n||{};var i=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var s=this,r=e(this),a=i.exclude,l=i.excludeWithin,c=0,u=0,d=!0,p={},f=location.hostname===s.hostname||!s.hostname,h=i.scrollTarget||(e.smoothScroll.filterPath(s.pathname)||o)===o,m=t(s.hash);if(i.scrollTarget||f&&h&&m){for(;d&&a.length>c;)r.is(t(a[c++]))&&(d=!1);for(;d&&l.length>u;)r.closest(l[u++]).length&&(d=!1)}else d=!1;d&&(i.preventDefault&&n.preventDefault(),e.extend(p,i,{scrollTarget:i.scrollTarget||m,link:s}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,n){var i,o,s,r,a=0,l="offset",c="scrollTop",u={},d={};"number"==typeof t?(i=e.fn.smoothScroll.defaults,s=t):(i=e.extend({},e.fn.smoothScroll.defaults,t||{}),i.scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative"))),i=e.extend({link:null},i),c="left"==i.direction?"scrollLeft":c,i.scrollElement?(o=i.scrollElement,/^(?:HTML|BODY)$/.test(o[0].nodeName)||(a=o[c]())):o=e("html, body").firstScrollable(i.direction),i.beforeScroll.call(o,i),s="number"==typeof t?t:n||e(i.scrollTarget)[l]()&&e(i.scrollTarget)[l]()[i.direction]||0,u[c]=s+a+i.offset,r=i.speed,"auto"===r&&(r=u[c]||o.scrollTop(),r/=i.autoCoefficent),d={duration:r,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(d.step=i.step),o.length?o.stop().animate(u,d):i.afterScroll.call(i.link,i)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=i}(jQuery),function(){var e,t,n,i,o,s,r,a,l,c;window.console&&window.console.log&&(s=function(){var e;return e=[],r(arguments).forEach(function(t){return"string"==typeof t?e=e.concat(l(t)):e.push(t)}),c.apply(window,e)},c=function(){return console.log.apply(console,r(arguments))},r=function(e){return Array.prototype.slice.call(e)},e=[{regex:/\*([^\*)]+)\*/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/\_([^\_)]+)\_/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/\`([^\`)]+)\`/,replacer:function(e,t){return"%c"+t+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c\=\"([^\")]+)\"\]([^\[)]+)\[c\]/,replacer:function(e,t,n){return"%c"+n+"%c"},styles:function(e){return[e[1],""]}}],n=function(t){var n;return n=!1,e.forEach(function(e){return e.regex.test(t)?n=!0:void 0}),n},t=function(t){var n;return n=[],e.forEach(function(e){var i;return i=t.match(e.regex),i?n.push({format:e,match:i}):void 0}),n.sort(function(e,t){return e.match.index-t.match.index})},l=function(e){var i,o,s;for(s=[];n(e);)o=t(e),i=o[0],e=e.replace(i.format.regex,i.format.replacer),s=s.concat(i.format.styles(i.match));return[e].concat(s)},o=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i=function(){return/MSIE/.test(navigator.userAgent)},a=function(){var e;return e=navigator.userAgent.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/),e?537.38>=parseInt(e[1],10)+parseInt(e[2],10)/100:!1},window.log=o()&&!a()||i()?c:s,window.log.l=c)}.call(this),function($){"use strict";var MagicSuggest=function(element,options){var ms=this,defaults={allowFreeEntries:!0,cls:"",data:null,dataUrlParams:{},disabled:!1,displayField:"name",editable:!0,emptyText:function(){return cfg.editable?"Taggez votre compétence":"Click here"},emptyTextCls:"ms-empty-text",expanded:!1,expandOnFocus:function(){return cfg.editable?!1:!0},groupBy:null,hideTrigger:!1,highlight:!0,id:function(){return"ms-ctn-"+$('div[id^="ms-ctn"]').length},infoMsgCls:"",inputCfg:{},invalidCls:"ms-ctn-invalid",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function(e){return"Please reduce your entry by "+e+" character"+(e>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function(e){return"You cannot choose more than "+e+" item"+(e>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function(e){return"Please type "+e+" more character"+(e>1?"s":"")},name:null,noSuggestionText:"Ce tag n'existe pas encore",preselectSingleSuggestion:!0,renderer:null,required:!1,resultAsString:!1,resultsField:"results",selectionCls:"",selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!0,value:null,valueField:"id",width:function(){return $(this).width()}},conf=$.extend({},options),cfg=$.extend(!0,{},defaults,conf);$.isFunction(cfg.emptyText)&&(cfg.emptyText=cfg.emptyText.call(this)),$.isFunction(cfg.expandOnFocus)&&(cfg.expandOnFocus=cfg.expandOnFocus.call(this)),$.isFunction(cfg.id)&&(cfg.id=cfg.id.call(this)),this.addToSelection=function(e,t){if(!cfg.maxSelection||_selection.length<cfg.maxSelection){$.isArray(e)||(e=[e]);var n=!1;$.each(e,function(e,t){-1===$.inArray(t[cfg.valueField],ms.getValue())&&(_selection.push(t),n=!0)}),n===!0&&(self._renderSelection(),this.empty(),t!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]))}},this.clear=function(e){this.removeFromSelection(_selection.slice(0),e)},this.collapse=function(){cfg.expanded===!0&&(this.combobox.detach(),cfg.expanded=!1,$(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),cfg.disabled=!0,ms.input.attr("disabled",!0)},this.empty=function(){this.input.removeClass(cfg.emptyTextCls),this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),cfg.disabled=!1,ms.input.attr("disabled",!1)},this.expand=function(){!cfg.expanded&&(this.input.val().length>=cfg.minChars||this.combobox.children().size()>0)&&(this.combobox.appendTo(this.container),self._processSuggestions(),cfg.expanded=!0,$(this).trigger("expand",[this]))},this.isDisabled=function(){return cfg.disabled},this.isValid=function(){return cfg.required===!1||_selection.length>0},this.getDataUrlParams=function(){return cfg.dataUrlParams},this.getName=function(){return cfg.name},this.getSelectedItems=function(){return _selection},this.getRawValue=function(){return ms.input.val()!==cfg.emptyText?ms.input.val():""},this.getValue=function(){return $.map(_selection,function(e){return e[cfg.valueField]})},this.removeFromSelection=function(e,t){$.isArray(e)||(e=[e]);var n=!1;$.each(e,function(e,t){var i=$.inArray(t[cfg.valueField],ms.getValue());i>-1&&(_selection.splice(i,1),n=!0)}),n===!0&&(self._renderSelection(),t!==!0&&$(this).trigger("selectionchange",[this,this.getSelectedItems()]),cfg.expandOnFocus&&ms.expand(),cfg.expanded&&self._processSuggestions())},this.setData=function(e){cfg.data=e,self._processSuggestions()},this.setName=function(e){cfg.name=e,ms._valueContainer&&(ms._valueContainer.name=e)},this.setValue=function(data){var values=data,items=[];$.isArray(data)||("string"==typeof data?data.indexOf("[")>-1?values=eval(data):data.indexOf(",")>-1&&(values=data.split(",")):values=[data]),$.each(_cbData,function(e,t){$.inArray(t[cfg.valueField],values)>-1&&items.push(t)}),items.length>0&&this.addToSelection(items)},this.setDataUrlParams=function(e){cfg.dataUrlParams=$.extend({},e)};var _selection=[],_comboItemHeight=0,_timer,_hasFocus=!1,_groups=null,_cbData=[],_ctrlDown=!1,self={_displaySuggestions:function(e){ms.combobox.empty();var t=0,n=0;if(null===_groups)self._renderComboItems(e),t=_comboItemHeight*e.length;else{for(var i in _groups)n+=1,$("<div/>",{"class":"ms-res-group",html:i}).appendTo(ms.combobox),self._renderComboItems(_groups[i].items,!0);t=_comboItemHeight*(e.length+n)}ms.combobox.height()>t||cfg.maxDropHeight>=t?ms.combobox.height(t):t>=ms.combobox.height()&&t>cfg.maxDropHeight&&ms.combobox.height(cfg.maxDropHeight),1===e.length&&cfg.preselectSingleSuggestion===!0&&ms.combobox.children().filter(":last").addClass("ms-res-item-active"),0===e.length&&""!==ms.getRawValue()&&(self._updateHelper(cfg.noSuggestionText),ms.collapse())},_getEntriesFromStringArray:function(e){var t=[];return $.each(e,function(e,n){var i={};i[cfg.displayField]=i[cfg.valueField]=$.trim(n),t.push(i)}),t},_highlightSuggestion:function(e){var t=ms.input.val()!==cfg.emptyText?ms.input.val():"";return 0===t.length?e:e=cfg.matchCase===!0?e.replace(RegExp("("+t+")(?!([^<]+)?>)","g"),"<em>$1</em>"):e.replace(RegExp("("+t+")(?!([^<]+)?>)","gi"),"<em>$1</em>")},_moveSelectedRow:function(e){cfg.expanded||ms.expand();var t,n,i,o;t=ms.combobox.find(".ms-res-item"),n="down"===e?t.eq(0):t.filter(":last"),i=ms.combobox.find(".ms-res-item-active:first"),i.length>0&&("down"===e?(n=i.nextAll(".ms-res-item").first(),0===n.length&&(n=t.eq(0)),o=ms.combobox.scrollTop(),ms.combobox.scrollTop(0),n[0].offsetTop+n.outerHeight()>ms.combobox.height()&&ms.combobox.scrollTop(o+_comboItemHeight)):(n=i.prevAll(".ms-res-item").first(),0===n.length&&(n=t.filter(":last"),ms.combobox.scrollTop(_comboItemHeight*t.length)),n[0].offsetTop<ms.combobox.scrollTop()&&ms.combobox.scrollTop(ms.combobox.scrollTop()-_comboItemHeight))),t.removeClass("ms-res-item-active"),n.addClass("ms-res-item-active")},_processSuggestions:function(e){var t=null,n=e||cfg.data;if(null!==n){if("function"==typeof n&&(n=n.call(ms)),"string"==typeof n&&0>n.indexOf(",")){$(ms).trigger("beforeload",[ms]);var i=$.extend({query:ms.input.val()},cfg.dataUrlParams);return $.ajax({type:cfg.method,url:n,data:i,success:function(e){t="string"==typeof e?JSON.parse(e):e,self._processSuggestions(t),$(ms).trigger("load",[ms,t])},error:function(){throw"Could not reach server"}}),void 0}_cbData="string"==typeof n&&n.indexOf(",")>-1?self._getEntriesFromStringArray(n.split(",")):n.length>0&&"string"==typeof n[0]?self._getEntriesFromStringArray(n):n[cfg.resultsField]||n,self._displaySuggestions(self._sortAndTrim(_cbData))}},_render:function(e){$(ms).trigger("beforerender",[ms]);var t=$.isFunction(cfg.width)?cfg.width.call(e):cfg.width;switch(ms.container=$("<div/>",{id:cfg.id,"class":"ms-ctn "+cfg.cls+(cfg.disabled===!0?" ms-ctn-disabled":"")+(cfg.editable===!0?"":" ms-ctn-readonly"),style:cfg.style}).width(t),ms.container.focus($.proxy(handlers._onFocus,this)),ms.container.blur($.proxy(handlers._onBlur,this)),ms.container.keydown($.proxy(handlers._onKeyDown,this)),ms.container.keyup($.proxy(handlers._onKeyUp,this)),ms.input=$("<input/>",$.extend({id:"ms-input-"+$('input[id^="ms-input"]').length,type:"text","class":cfg.emptyTextCls+(cfg.editable===!0?"":" ms-input-readonly"),value:cfg.emptyText,readonly:!cfg.editable,disabled:cfg.disabled},cfg.inputCfg)).width(t-(cfg.hideTrigger?16:42)),ms.input.focus($.proxy(handlers._onInputFocus,this)),ms.input.click($.proxy(handlers._onInputClick,this)),cfg.hideTrigger===!1&&(ms.trigger=$("<div/>",{id:"ms-trigger-"+$('div[id^="ms-trigger"]').length,"class":"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),ms.trigger.click($.proxy(handlers._onTriggerClick,this)),ms.container.append(ms.trigger)),ms.combobox=$("<div/>",{id:"ms-res-ctn-"+$('div[id^="ms-res-ctn"]').length,"class":"ms-res-ctn "}).width(t).height(cfg.maxDropHeight),ms.combobox.on("click","div.ms-res-item",$.proxy(handlers._onComboItemSelected,this)),ms.combobox.on("mouseover","div.ms-res-item",$.proxy(handlers._onComboItemMouseOver,this)),ms.selectionContainer=$("<div/>",{id:"ms-sel-ctn-"+$('div[id^="ms-sel-ctn"]').length,"class":"ms-sel-ctn"}),ms.selectionContainer.click($.proxy(handlers._onFocus,this)),"inner"===cfg.selectionPosition?ms.selectionContainer.append(ms.input):ms.container.append(ms.input),ms.helper=$("<div/>",{"class":"ms-helper "+cfg.infoMsgCls}),self._updateHelper(),ms.container.append(ms.helper),$(e).replaceWith(ms.container),cfg.selectionPosition){case"bottom":ms.selectionContainer.insertAfter(ms.container),cfg.selectionStacked===!0&&(ms.selectionContainer.width(ms.container.width()),ms.selectionContainer.addClass("ms-stacked"));
break;case"right":ms.selectionContainer.insertAfter(ms.container),ms.container.css("float","left");break;default:ms.container.append(ms.selectionContainer)}self._processSuggestions(),null!==cfg.value&&(ms.setValue(cfg.value),self._renderSelection()),$(ms).trigger("afterrender",[ms]),$("body").click(function(e){ms.container.hasClass("ms-ctn-bootstrap-focus")&&0===ms.container.has(e.target).length&&0>e.target.className.indexOf("ms-res-item")&&0>e.target.className.indexOf("ms-close-btn")&&ms.container[0]!==e.target&&handlers._onBlur()}),cfg.expanded===!0&&(cfg.expanded=!1,ms.expand())},_renderComboItems:function(e,t){var n=this,i="";$.each(e,function(e,o){var s=null!==cfg.renderer?cfg.renderer.call(n,o):o[cfg.displayField],r=$("<div/>",{"class":"ms-res-item "+(t?"ms-res-item-grouped ":"")+(1===e%2&&cfg.useZebraStyle===!0?"ms-res-odd":""),html:cfg.highlight===!0?self._highlightSuggestion(s):s,"data-json":JSON.stringify(o)});r.click($.proxy(handlers._onComboItemSelected,n)),r.mouseover($.proxy(handlers._onComboItemMouseOver,n)),i+=$("<div/>").append(r).html()}),ms.combobox.append(i),_comboItemHeight=ms.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function(){var e=this,t=0,n=0,i=[],o=cfg.resultAsString===!0&&!_hasFocus;ms.selectionContainer.find(".ms-sel-item").remove(),void 0!==ms._valueContainer&&ms._valueContainer.remove(),$.each(_selection,function(t,n){var s,r,a=null!==cfg.selectionRenderer?cfg.selectionRenderer.call(e,n):n[cfg.displayField];o===!0?s=$("<div/>",{"class":"ms-sel-item ms-sel-text "+cfg.selectionCls,html:a+(t===_selection.length-1?"":",")}).data("json",n):(s=$("<div/>",{"class":"ms-sel-item "+cfg.selectionCls,html:a}).data("json",n),cfg.disabled===!1&&(r=$("<span/>",{"class":"ms-close-btn"}).data("json",n).appendTo(s),r.click($.proxy(handlers._onTagTriggerClick,e)))),i.push(s)}),ms.selectionContainer.prepend(i),ms._valueContainer=$("<input/>",{type:"hidden",name:cfg.name,value:JSON.stringify(ms.getValue())}),ms._valueContainer.appendTo(ms.selectionContainer),"inner"===cfg.selectionPosition&&(ms.input.width(0),n=ms.input.offset().left-ms.selectionContainer.offset().left,t=ms.container.width()-n-42,ms.input.width(t),ms.container.height(ms.selectionContainer.height())),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):ms.helper.hide()},_selectItem:function(e){1===cfg.maxSelection&&(_selection=[]),ms.addToSelection(e.data("json")),e.removeClass("ms-res-item-active"),(cfg.expandOnFocus===!1||_selection.length===cfg.maxSelection)&&ms.collapse(),_hasFocus?_hasFocus&&(cfg.expandOnFocus||_ctrlDown)&&(self._processSuggestions(),_ctrlDown&&ms.expand()):ms.input.focus()},_sortAndTrim:function(e){var t=ms.getRawValue(),n=[],i=[],o=ms.getValue();return t.length>0?$.each(e,function(e,i){var o=i[cfg.displayField];(cfg.matchCase===!0&&o.indexOf(t)>-1||cfg.matchCase===!1&&o.toLowerCase().indexOf(t.toLowerCase())>-1)&&(cfg.strictSuggest===!1||0===o.toLowerCase().indexOf(t.toLowerCase()))&&n.push(i)}):n=e,$.each(n,function(e,t){-1===$.inArray(t[cfg.valueField],o)&&i.push(t)}),null!==cfg.sortOrder&&i.sort(function(e,t){return e[cfg.sortOrder]<t[cfg.sortOrder]?"asc"===cfg.sortDir?-1:1:e[cfg.sortOrder]>t[cfg.sortOrder]?"asc"===cfg.sortDir?1:-1:0}),cfg.maxSuggestions&&cfg.maxSuggestions>0&&(i=i.slice(0,cfg.maxSuggestions)),null!==cfg.groupBy&&(_groups={},$.each(i,function(e,t){void 0===_groups[t[cfg.groupBy]]?_groups[t[cfg.groupBy]]={title:t[cfg.groupBy],items:[t]}:_groups[t[cfg.groupBy]].items.push(t)})),i},_updateHelper:function(e){ms.helper.html(e),ms.helper.is(":visible")||ms.helper.fadeIn()}},handlers={_onBlur:function(){if(ms.container.removeClass("ms-ctn-bootstrap-focus"),ms.collapse(),_hasFocus=!1,""!==ms.getRawValue()&&cfg.allowFreeEntries===!0){var e={};e[cfg.displayField]=e[cfg.valueField]=ms.getRawValue(),ms.addToSelection(e)}self._renderSelection(),ms.isValid()===!1&&ms.container.addClass("ms-ctn-invalid"),""===ms.input.val()&&0===_selection.length?(ms.input.addClass(cfg.emptyTextCls),ms.input.val(cfg.emptyText)):""!==ms.input.val()&&cfg.allowFreeEntries===!1&&(ms.empty(),self._updateHelper("")),ms.input.is(":focus")&&$(ms).trigger("blur",[ms])},_onComboItemMouseOver:function(e){ms.combobox.children().removeClass("ms-res-item-active"),$(e.currentTarget).addClass("ms-res-item-active")},_onComboItemSelected:function(e){self._selectItem($(e.currentTarget))},_onFocus:function(){ms.input.focus()},_onInputClick:function(){ms.isDisabled()===!1&&_hasFocus&&cfg.toggleOnClick===!0&&(cfg.expanded?ms.collapse():ms.expand())},_onInputFocus:function(){if(ms.isDisabled()===!1&&!_hasFocus){_hasFocus=!0,ms.container.addClass("ms-ctn-bootstrap-focus"),ms.container.removeClass(cfg.invalidCls),ms.input.val()===cfg.emptyText&&ms.empty();var e=ms.getRawValue().length;cfg.expandOnFocus===!0&&ms.expand(),_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):cfg.minChars>e&&self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-e)),self._renderSelection(),$(ms).trigger("focus",[ms])}},_onKeyDown:function(e){var t=ms.combobox.find(".ms-res-item-active:first"),n=ms.input.val()!==cfg.emptyText?ms.input.val():"";if($(ms).trigger("keydown",[ms,e]),9===e.keyCode&&(cfg.useTabKey===!1||cfg.useTabKey===!0&&0===t.length&&0===ms.input.val().length))return handlers._onBlur(),void 0;switch(e.keyCode){case 8:0===n.length&&ms.getSelectedItems().length>0&&"inner"===cfg.selectionPosition&&(_selection.pop(),self._renderSelection(),$(ms).trigger("selectionchange",[ms,ms.getSelectedItems()]),ms.input.focus(),e.preventDefault());break;case 9:case 188:case 13:e.preventDefault();break;case 17:_ctrlDown=!0;break;case 40:e.preventDefault(),self._moveSelectedRow("down");break;case 38:e.preventDefault(),self._moveSelectedRow("up");break;default:_selection.length===cfg.maxSelection&&e.preventDefault()}},_onKeyUp:function(e){var t,n=ms.getRawValue(),i=$.trim(ms.input.val()).length>0&&ms.input.val()!==cfg.emptyText&&(!cfg.maxEntryLength||$.trim(ms.input.val()).length<=cfg.maxEntryLength),o={};if($(ms).trigger("keyup",[ms,e]),clearTimeout(_timer),27===e.keyCode&&cfg.expanded&&ms.combobox.height(0),9===e.keyCode&&cfg.useTabKey===!1||e.keyCode>13&&32>e.keyCode)return 17===e.keyCode&&(_ctrlDown=!1),void 0;switch(e.keyCode){case 40:case 38:e.preventDefault();break;case 13:case 9:case 188:if(188!==e.keyCode||cfg.useCommaKey===!0){if(e.preventDefault(),cfg.expanded===!0&&(t=ms.combobox.find(".ms-res-item-active:first"),t.length>0))return self._selectItem(t),void 0;i===!0&&cfg.allowFreeEntries===!0&&(o[cfg.displayField]=o[cfg.valueField]=n,ms.addToSelection(o),ms.collapse(),ms.input.focus());break}default:_selection.length===cfg.maxSelection?self._updateHelper(cfg.maxSelectionRenderer.call(this,_selection.length)):n.length<cfg.minChars?(self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-n.length)),cfg.expanded===!0&&ms.collapse()):cfg.maxEntryLength&&n.length>cfg.maxEntryLength?(self._updateHelper(cfg.maxEntryRenderer.call(this,n.length-cfg.maxEntryLength)),cfg.expanded===!0&&ms.collapse()):(ms.helper.hide(),cfg.minChars<=n.length&&(_timer=setTimeout(function(){cfg.expanded===!0?self._processSuggestions():ms.expand()},cfg.typeDelay)))}},_onTagTriggerClick:function(e){ms.removeFromSelection($(e.currentTarget).data("json"))},_onTriggerClick:function(){if(ms.isDisabled()===!1&&(cfg.expandOnFocus!==!0||_selection.length!==cfg.maxSelection))if($(ms).trigger("triggerclick",[ms]),cfg.expanded===!0)ms.collapse();else{var e=ms.getRawValue().length;e>=cfg.minChars?(ms.input.focus(),ms.expand()):self._updateHelper(cfg.minCharsRenderer.call(this,cfg.minChars-e))}}};null!==element&&self._render(element)};$.fn.magicSuggest=function(e){var t=$(this);return 1===t.size()&&t.data("magicSuggest")?t.data("magicSuggest"):(t.each(function(){var t=$(this);if(!t.data("magicSuggest")){"select"===this.nodeName.toLowerCase()&&(e.data=[],e.value=[],$.each(this.children,function(t,n){n.nodeName&&"option"===n.nodeName.toLowerCase()&&(e.data.push({id:n.value,name:n.text}),n.selected&&e.value.push(n.value))}));var n={};$.each(this.attributes,function(e,t){n[t.name]=t.value});var i=new MagicSuggest(this,$.extend(e,n));t.data("magicSuggest",i),i.container.data("magicSuggest",i)}}),1===t.size()?t.data("magicSuggest"):t)}}(jQuery),function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,n){return t>e?t:e>n?n:e}function n(e){return 100*(-1+e)}function i(e,t,i){var o;return o="translate3d"===s.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===s.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},o.transition="all "+t+"ms "+i,o}var o={};o.version="0.1.2";var s=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return o.configure=function(t){return e.extend(s,t),this},o.status=null,o.set=function(e){var n=o.isStarted();e=t(e,s.minimum,1),o.status=1===e?null:e;var r=o.render(!n),a=r.find('[role="bar"]'),l=s.speed,c=s.easing;return r[0].offsetWidth,r.queue(function(t){""===s.positionUsing&&(s.positionUsing=o.getPositioningCSS()),a.css(i(e,l,c)),1===e?(r.css({transition:"none",opacity:1}),r[0].offsetWidth,setTimeout(function(){r.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){o.remove(),t()},l)},l)):setTimeout(t,l)}),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var e=function(){setTimeout(function(){o.status&&(o.trickle(),e())},s.trickleSpeed)};return s.trickle&&e(),this},o.done=function(e){return e||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(e){var n=o.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),o.set(n)):o.start()},o.trickle=function(){return o.inc(Math.random()*s.trickleRate)},function(){var e=0,t=0;o.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&o.start(),e++,t++,n.always(function(){t--,0==t?(e=0,o.done()):o.set((e-t)/e)}),this):this}}(),o.render=function(t){if(o.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var i=e("<div id='nprogress'>").html(s.template),r=t?"-100":n(o.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),s.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},o.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},o.isRendered=function(){return e("#nprogress").length>0},o.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},o}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(n){return}var i,o=e.href||e.getAttribute("data-href"),s=o.replace(/[^\/]+$/,""),r=(/^[a-z]{3,10}:/.exec(s)||[""])[0],a=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(s)||[""])[0],l=/^([^?]*)\??/.exec(o)[1],c=e.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&i()},i=function(){var n=u.responseText;if(n&&e.parentNode&&(!u.status||400>u.status||u.status>600)){if(n=t.fix(n,!0,e),s){n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,n){return/^([a-z]{3,10}:|#)/i.test(n)?e:/^\/\//.test(n)?'url("'+r+n+'")':/^\//.test(n)?'url("'+a+n+'")':/^\?/.test(n)?'url("'+l+n+'")':'url("'+s+n+'")'});var i=s.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}var o=document.createElement("style");o.textContent=n,o.media=e.media,o.disabled=e.disabled,o.setAttribute("data-href",e.getAttribute("href")),c.insertBefore(o,e),c.removeChild(e),o.media=e.media}};try{u.open("GET",o),u.send(null)}catch(n){"undefined"!=typeof XDomainRequest&&(u=new XDomainRequest,u.onerror=u.onprogress=function(){},u.onload=i,u.open("GET",o),u.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var n=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=n}},styleAttribute:function(e){var n=e.getAttribute("style");n=t.fix(n,!1,e),e.setAttribute("style",n)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,n){(t.fixers=t.fixers||[]).splice(void 0===n?t.fixers.length:n,0,e)},fix:function(e,n,i){for(var o=0;t.fixers.length>o;o++)e=t.fixers[o](e,n,i)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};(function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(e){function t(e,t,i,o,s){if(e=n[e],e.length){var r=RegExp(t+"("+e.join("|")+")"+i,"gi");s=s.replace(r,o)}return s}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(e,i){var o=n.prefix;if(n.functions.indexOf("linear-gradient")>-1&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,n,i){return t+(n||"")+"linear-gradient("+(90-i)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",e),n.properties.length){var s=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(s,o+"$1")},e)}return i&&(e=t("selectors","","\\b",n.prefixSelector,e),e=t("atrules","@","\\b","@"+o+"$1",e)),e=e.replace(RegExp("-"+o,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(e){return(n.properties.indexOf(e)?n.prefix:"")+e},value:function(e){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+n.prefix})},prefixProperty:function(e,t){var i=n.prefix+e;return t?StyleFix.camelCase(i):i}};(function(){var e={},t=[],i=getComputedStyle(document.documentElement,null),o=document.createElement("div").style,s=function(n){if("-"===n.charAt(0)){t.push(n);var i=n.split("-"),o=i[1];for(e[o]=++e[o]||1;i.length>3;){i.pop();var s=i.join("-");r(s)&&-1===t.indexOf(s)&&t.push(s)}}},r=function(e){return StyleFix.camelCase(e)in o};if(i.length>0)for(var a=0;i.length>a;a++)s(i[a]);else for(var l in i)s(StyleFix.deCamelCase(l));var c={uses:0};for(var u in e){var d=e[u];d>c.uses&&(c={prefix:u,uses:d})}n.prefix="-"+c.prefix+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(var a=0;t.length>a;a++){var l=t[a];if(0===l.indexOf(n.prefix)){var p=l.slice(n.prefix.length);r(p)||n.properties.push(p)}}"Ms"==n.Prefix&&!("transform"in o)&&!("MsTransform"in o)&&"msTransform"in o&&n.properties.push("transform","transform-origin"),n.properties.sort()})(),function(){function e(e,t){return o[t]="",o[t]=e,!!o[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};n.functions=[],n.keywords=[];var o=document.createElement("div").style;for(var s in t){var r=t[s],a=r.property,l=s+"("+r.params+")";!e(l,a)&&e(n.prefix+l,a)&&n.functions.push(s)}for(var c in i){var a=i[c];!e(c,a)&&e(n.prefix+c,a)&&n.keywords.push(c)}}(),function(){function t(e){return s.textContent=e+"{}",!!s.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},o={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var s=e.appendChild(document.createElement("style"));for(var r in i){var a=r+(i[r]?"("+i[r]+")":"");!t(a)&&t(n.prefixSelector(a))&&n.selectors.push(r)}for(var l in o){var a=l+" "+(o[l]||"");!t("@"+a)&&t("@"+n.prefix+a)&&n.atrules.push(l)}e.removeChild(s)}(),n.valueProperties=["transition","transition-property"],e.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one(e.support.transition.end,function(){n=!0});var o=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=i.hasClass("alert")?i:i.parent()),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one(e.support.transition.end,n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();e+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]'),t=!0;if(e.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("bs.button"),s="object"==typeof n&&n;o||i.data("bs.button",o=new t(this,s)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,i=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),o=n||i[t](),s=this.interval,r="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[a]()}this.sliding=!0,s&&this.pause();var c=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:r});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,i.addClass(r),o.addClass(r),i.one(e.support.transition.end,function(){o.removeClass([t,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("bs.carousel"),s=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),r="string"==typeof n?n:s.slide;o||i.data("bs.carousel",o=new t(this,s)),"number"==typeof n?o.to(n):r?o[r]():s.interval&&o.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i=e(this),o=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),i.data()),r=i.attr("data-slide-to");r&&(s.interval=!1),o.carousel(s),(r=i.attr("data-slide-to"))&&o.data("bs.carousel").to(r),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var r=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][r])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),s=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),o=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(o),r=s.data("bs.collapse"),a=r?"toggle":i.data(),l=i.attr("data-parent"),c=l&&e(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(a)})}(jQuery),+function(e){"use strict";function t(){e(i).remove(),e(o).each(function(t){var i=n(e(this));i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var s=n(o),r=s.hasClass("open");if(t(),!r){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),s.trigger(i=e.Event("show.bs.dropdown")),i.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var s=n(i),r=s.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&s.find(o).focus(),i.click();var a=e("[role=menu] li:not(.divider):visible a",s);if(a.length){var l=a.index(a.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&a.length-1>l&&l++,~l||(l=0),a.eq(l).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",s.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var o=e(this),s=o.data("bs.modal"),r=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);s||o.data("bs.modal",s=new t(this,r)),"string"==typeof n?s[n](i):r.show&&s.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),o=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),n.data());t.preventDefault(),o.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);
for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focus",l="hover"==r?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,s=o.test(i);s&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var r=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(s){var c=this.$element.parent(),u=i,d=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),h="body"==this.options.container?0:c.offset().left;i="bottom"==i&&r.top+r.height+l-d>f?"top":"top"==i&&0>r.top-d-l?"bottom":"right"==i&&r.right+a>p?"left":"left"==i&&h>r.left-a?"right":i,n.removeClass(u).addClass(i)}var m=this.getCalculatedOffset(i,r,a,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,i=this.tip(),o=i[0].offsetWidth,s=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=s&&(n=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var u=0;0>e.left&&(u=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(u-o+l,l,"left")}else this.replaceArrow(c-s,c,"top");n&&i.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.$element.trigger("hidden.bs."+this.type),this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("bs.tooltip"),s="object"==typeof n&&n;o||i.data("bs.tooltip",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("bs.popover"),s="object"==typeof n&&n;o||i.data("bs.popover",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(n,i){var o,s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||(o=e(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this;this.$body.find(this.selector).map(function(){var i=e(this),o=i.data("target")||i.attr("href"),s=/^#\w/.test(o)&&e(o);return s&&s.length&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(t>=i)return r!=(e=s.last()[0])&&this.activate(e);for(e=o.length;e--;)r!=s[e]&&t>=o[e]&&(!o[e+1]||o[e+1]>=t)&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("bs.scrollspy"),s="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(s),!s.isDefaultPrevented()){var r=e(i);this.activate(t.parent("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},t.prototype.activate=function(t,n,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var s=n.find("> .active"),r=i&&e.support.transition&&s.hasClass("fade");r?s.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),s=this.options.offset,r=s.top,a=s.bottom;"object"!=typeof s&&(a=r=s),"function"==typeof r&&(r=s.top()),"function"==typeof a&&(a=s.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=n-a?"bottom":null!=r&&r>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(t.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("bs.affix"),s="object"==typeof n&&n;o||i.data("bs.affix",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),function(e){window.muffin={},muffin.displaceElt=function(e,t){var n=t.offset().top-e.offset().top;e.addClass("disappear"),t.attr("style","position: relative;top: -"+n+"px;")},muffin.envoyerCode=function(t){NProgress.start(),e.ajax({type:"GET",url:"Login/register/"+t}).done(function(n){"1"===(""+n)[0]?(NProgress.inc(),e.get("Home/loginnew/"+t,function(t){e("#input-login").attr("disabled","disabled"),e("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").append(t),setTimeout(function(){e.smoothScroll({offset:e(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),t.addClass("complete"),muffin.displaceElt(e("[data-content='login'] header"),e("[data-content='login'] form"))},200)})):"-1"===(""+n).slice(0,2)?(NProgress.inc(),e.get("Home/loginExists/"+t,function(t){e("#input-login").attr("disabled","disabled"),e("#input-login + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").append(t),setTimeout(function(){e.smoothScroll({offset:e(window).height()/2,scrollElement:null,scrollTarget:"#input-code"}),NProgress.done(),t.addClass("complete"),muffin.displaceElt(e("[data-content='login'] header"),e("[data-content='login'] form"))},200)})):"-2"===(""+n).slice(0,2)&&(NProgress.done(),e("[data-content='login'] div[role='title'] > p").first().html("Vous devez être un étudiant de 42"),e("#input-login + button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span>'))})},muffin.changeName=function(t){e("[data-content='login']").addClass("disappear").queue("fx",function(){e(this).html("<h1 class='entered-login'><i>"+t+"</i></h1>").dequeue()}).addClass("appear")},muffin.verifierCode=function(t,n){e.ajax({type:"POST",data:{code:t,login:n},url:"Login/checkCode"}).done(function(t){"1"===(""+t)[0]?e.get("User/index",function(t){e("#input-code").attr("disabled","disabled"),e("#input-code + button").attr("disabled","disabled").html("<span class='icon-checkmark'></span>"),t=e(t),t.addClass("loading"),e("div[data-role='container']").children().slideUp(),e("div[data-role='container']").html(t),reloadHandlers(),setTimeout(function(){NProgress.done(),t.addClass("complete")},200)}):(e("#form-passphrase").parent().parent().find("div[role='title'] > p").first().html("Mot de passe incorrect"),e("#input-passphrase").attr("style","color: #C02942"),e("#form-passphrase").find("button").html('<span style="color: #C02942;" class="icon-warning-sign"></span> <span class="icon-repeat"></span> '))})},muffin.renvoyerCode=function(t){var n=e("#re-send-mail"),i=n.find("span").first();i.removeClass("icon-repeat").addClass("icon-time"),e.ajax({type:"GET",url:"Login/update/"+t}).done(function(e){NProgress.done(),"1"===(""+e)[0]?n.html("Mail envoyé ! <span class='icon-checkmark'></span>"):n.html("Une erreur s'est produite <span class='icon-warning-outline'></span>")})},muffin.autoSearchUser=function(t){var n=5,i=e("#search_user_results"),o=e("#search_comp_uid");""!=t&&void 0!=t?e.getJSON("Search/users/"+t,function(t){var s,r;i.parent().show(),i.empty();for(r in t)n>r&&(console.log(r),s=e("<li><a>"+t[r]+"</a></li>"),s.click(function(){o.val(e(this).text()),muffin.searchUSerData()}),i.append(s))}):(i.parent().hide(),i.empty())},muffin.searchUSerData=function(){var t=e("#search_comp_uid").val(),n=e("#btn_search_comp_uid"),i=n.find("span").first(),o=e("#status_search_comp_uid"),s="#modal-explore";t?(i.removeClass("icon-uniF488").addClass("icon-clock3"),e.ajax({type:"GET",url:"Search/user/"+t}).done(function(t){NProgress.done(),"0"===(""+t)[0]?(i.removeClass("icon-clock3").addClass("icon-multiply"),o.html("Il semblerait que l'uid n'existe pas, ou que ses compétences ne soient pas publiques.")):(i.removeClass("icon-clock3").addClass("icon-uniF488"),e(s).modal("hide"),e("#search_comp_uid").val(""),muffin.autoSearchUser(),t=e(t),t.addClass("loading"),e("div[data-role='form-container']").children().slideUp(),e("div[data-role='form-container']").html(t),setTimeout(function(){NProgress.done(),t.addClass("complete"),reloadHandlers()},200))})):o.html("Vous devez rentrer un uid")}}(jQuery),$(document).ready(function(){initalizeForm(),reloadHandlers(),$.bind("ajaxComplete",function(){reloadHandlers()}),$.getJSON("https://api.github.com/repos/lambda2/Muffin/tags",function(e){var t=e[0].commit.sha;$.getJSON("https://api.github.com/repos/lambda2/Muffin/commits/"+t,function(t){var n=t,i=n.commit.committer.date.slice(0,10),o=n.stats.additions,s=n.stats.deletions,r="<span class='icon-flow-tree'></span> <span class='git-add'>+"+o+"</span>  <span class='git-del'>-"+s+"</span>";$("div[role='git-info']").html("<p>\n				<a href='https://github.com/lambda2/Muffin'><span class='icon-github'></span>\n				v"+e[0].name+" datant du "+i+"  ─  "+r+"</a> </p>")})})}),function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,o=window.console=window.console||{};i--;)e=n[i],o[e]||(o[e]=t)}();var initalizeForm=function(){window.ioptions={target:"#form-result",beforeSubmit:showRequest,success:showResponse,url:"User/updatecompetence",type:"post"},$('div[data-role="form-container"] form').submit(function(){return $(this).ajaxSubmit(window.ioptions),!1}),addClearItems()},initalizeAddForm=function(){var e={target:"#form-result",beforeSubmit:showAddRequest,success:showAddResponse,url:"User/addcompetence",type:"post"};$("#form-add-competence").submit(function(){console.log("initialized");var t=document.getElementById("form-add-competence");return t.checkValidity()&&$(this).ajaxSubmit(e),!1})},initializePanelMenu=function(){$("#panel-menu > li[data-index-toggle]").click(function(){var e=$(this).attr("data-index-toggle");$("#panel-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$(".items-panels > li[data-index!='"+e+"']").hide(),$(".items-panels > li[data-index='"+e+"']").show()})},initializeHelpMenu=function(){$("#exchange-panel > li[data-index]").hide(),$("#exchange-panel > li[data-index='1']").show(),$("#exchange-menu > li[data-index-toggle]").click(function(){var e=$(this).attr("data-index-toggle");$("#exchange-menu > li[data-index-toggle]").removeClass("active"),$(this).addClass("active"),$("#exchange-panel > li[data-index!='"+e+"']").hide(),$("#exchange-panel > li[data-index='"+e+"']").show()})},queryUserStatus=function(){$("[data-locate]").each(function(){var e=$(this).attr("data-login");$.ajax({url:"https://dashboard.42.fr/crawler/pull/"+e+"/",dataType:"json",success:function(e){$(this).addClass("online").html(e.last_host.replace(".42.fr",""))},error:function(){$(this).removeClass("online")}})})},addClearItems=function(){$('div[data-role="form-container"] fieldset').each(function(){var e=$(this),t=e.find(".radio input").first();0===e.find(".clear-all").length&&e.append("<a class='clear-all' data-items='"+t.attr("name")+"'><span class='icon-multiply'></span></a>")}),$("div[data-role='form-container'] form fieldset a.clear-all").click(function(){var e=$(this),t=e.parent().find(".radio input[name='niveau']");$.ajax({url:"User/deletecompetence",type:"POST",data:{id_competence:e.parent().parent().find("input[name='id_competence']").val(),comp:e.attr("data-items")}}).done(function(){t.each(function(){$(this).is(":checked")&&$(this).removeAttr("checked")})})})},treatResize=function(){$("div[data-role='container']").height()>=$(window).height()?$(".footer-container").addClass("nofix"):$(".footer-container").removeClass("nofix")},afterUserUpdate=function(e){console.log("after"),"1"==e[0]?($('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Paramètres mis à jour"),$("#status_public_icon").removeClass("icon-clock3").addClass("icon-checkmark2"),$("#modal-params").modal("hide")):($("#status_public_icon").removeClass("icon-clock3").addClass("icon-multiply"),$("#status_update_uid").html(e))},initFormComportement=function(){$("#form_search_uid").submit(function(e){return e.stopImmediatePropagation(),window.muffin.searchUSerData(),!1}),$("#form_params").submit(function(){var e={target:"#form-result",beforeSubmit:function(){$("#status_public_icon").removeClass("icon-uniF488").removeClass("icon-multiply").removeClass("icon-checkmark2").addClass("icon-clock3")},success:afterUserUpdate,url:"User/update",type:"post"};return console.log("update"),$(this).ajaxSubmit(e),!1})},reloadHandlers=function(){NProgress.configure({showSpinner:!1}),$("a").smoothScroll(),treatResize(),$(window).resize(treatResize),bindAjaxEvents(),initFormComportement(),initializePanelMenu(),initializeHelpMenu();try{queryUserStatus()}catch(e){}$("[data-toggle='tooltip']").tooltip({container:"body",placement:"auto bottom"}),$("aside.side-menu > ul").affix({offset:{top:231,bottom:function(){return this.bottom=$(".footer-container").outerHeight(!0)}}})};
>>>>>>> moon-integration
