
/*******************************************************************************    
                                                      
        sssyhddmmmddhys                        
      dNNNNNmss  sssyhmNddms                   
     dNNNNmhs         dNNNNNs           
   sNd sy     mNNmdy   sdNNNNs        Muffin - v1.1.4     
   Nd        dNNNNNy      ysNm        ---------------
  sNh           ssy         mN                        
   mNymdhy          shddmy hNd       Sorti du four le 2013-11-17
   sdNNNNNmsssssssssmNNNNNNNh             
     syyhddddddddddddddhhyss         Copyright (c) 2013 André Aubin
    sNNm shhh shhh shhd smNN                    
     dNNssNNN yNNN sNNN hNNy         Code source sous licence Apache 2      
     sNNy NNN yNNN sNNm dNN                    
      hNh mNN yNNN sNNd mNy             
          ydd smmm sdds                 

*******************************************************************************/function addCheckHandler(e){$(".radio input").change(function(){console.log("change !"),window.formChanged=!0});for(elt in e)$("input#"+e[elt]).attr("checked","checked")}function showRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Enregistrement..."),!0}function showResponse(){NProgress.done(),$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Enregistré.")}function showAddRequest(){return NProgress.start(),$('a[role="indicator"]').html("<span class='icon-hourglass'></span> Ajout..."),$("#input-nom-comp + button").html("<span class='icon-time'></span>"),!0}function showAddResponse(e,t){$('a[role="indicator"]').html("<span class='icon-checkmark2'></span> Ajouté."),$("#input-nom-comp + button").html("<span class='icon-chevron-right'></span>"),console.log("responseText:",e),console.log("statusText:",t);var r=$(e);r.addClass("preparing"),$("#form-competences > div").first().append(r),addCheckHandler(window.toCheck),setTimeout(function(){$.smoothScroll({offset:$(window).height()/2,scrollElement:null,scrollTarget:r}),NProgress.done(),r.addClass("complete").removeClass("preparing")},1e3)}(function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var r="1.4.12",n={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},a=function(t){var r=[],n=!1,a=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[a]()>0?r.push(this):(t[a](1),n=t[a]()>0,n&&r.push(this),t[a](0))}}),r.length||this.each(function(){"BODY"===this.nodeName&&(r=[this])}),"first"===t.el&&r.length>1&&(r=[r[0]]),r};e.fn.extend({scrollable:function(e){var t=a.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=a.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(r){r=r||{};var n=e.extend({},e.fn.smoothScroll.defaults,r),a=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(r){var o=this,i=e(this),s=n.exclude,l=n.excludeWithin,c=0,u=0,p=!0,f={},d=location.hostname===o.hostname||!o.hostname,m=n.scrollTarget||(e.smoothScroll.filterPath(o.pathname)||a)===a,h=t(o.hash);if(n.scrollTarget||d&&m&&h){for(;p&&s.length>c;)i.is(t(s[c++]))&&(p=!1);for(;p&&l.length>u;)i.closest(l[u++]).length&&(p=!1)}else p=!1;p&&(n.preventDefault&&r.preventDefault(),e.extend(f,n,{scrollTarget:n.scrollTarget||h,link:o}),e.smoothScroll(f))}),this}}),e.smoothScroll=function(t,r){var n,a,o,i,s=0,l="offset",c="scrollTop",u={},p={};"number"==typeof t?(n=e.fn.smoothScroll.defaults,o=t):(n=e.extend({},e.fn.smoothScroll.defaults,t||{}),n.scrollElement&&(l="position","static"==n.scrollElement.css("position")&&n.scrollElement.css("position","relative"))),n=e.extend({link:null},n),c="left"==n.direction?"scrollLeft":c,n.scrollElement?(a=n.scrollElement,/^(?:HTML|BODY)$/.test(a[0].nodeName)||(s=a[c]())):a=e("html, body").firstScrollable(n.direction),n.beforeScroll.call(a,n),o="number"==typeof t?t:r||e(n.scrollTarget)[l]()&&e(n.scrollTarget)[l]()[n.direction]||0,u[c]=o+s+n.offset,i=n.speed,"auto"===i&&(i=u[c]||a.scrollTop(),i/=n.autoCoefficent),p={duration:i,easing:n.easing,complete:function(){n.afterScroll.call(n.link,n)}},n.step&&(p.step=n.step),a.length?a.stop().animate(u,p):n.afterScroll.call(n.link,n)},e.smoothScroll.version=r,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=n})(jQuery),function(e){e.fn.makeForms=function(t){var r,n,a,o,i,s,l,c,u={},p={};t=e.extend({components:{},groupSize:1,selectMinSize:18,position:"before",templates:{}},t),t.templates=e.extend({item:"{{item}}",title:"<p>{{title}}</p>",group:"<div data-role='group'>{{group}}</div>",item_group:"<div class='item-group'>{{items}}</div>",label:'<label for="{{id}}">{{label}}</label>',radio:'<label for="{{id}}"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}</label>',text:'<input type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',input:'<input type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select id="{{id}}" name="{{name}}">{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'},t.templates);var f=function(e,t){var r,n;r=e;for(n in t)-1!==r.search("{{"+n+"}}")&&t.hasOwnProperty(n)&&(r=r.replace("{{"+n+"}}",t[n]),r=f(r,t));return r},d=function(e){var t,r;t=0;for(r in e)t+=1;return t},m=function(e){var r,n;return e.hasOwnProperty("type")?r=e.type:(n=d(e.choices),r=1>=n?"text":t.selectMinSize>n?"radio":"option"),r},h=function(e,r,n,a){var o,i="";for(o in e){var s,l,c,u,p,d;"group"!==o&&(s=e[o],d=s.hasOwnProperty("type")?t.templates[s.type]:S,l=r+"_"+a+"_"+o,c=t.templates.label,u="option"!==n&&"radio"!==n?f(c,{label:s.label,id:l}):"",s.hasOwnProperty("value")||(s.value=a+"_"+o),p=f(d,{name:r,id:l,value:s.value,label:s.label}),s.hasOwnProperty("before")&&(p=s.before+p),s.hasOwnProperty("after")&&(p+=s.after),i=i+u+p)}return i},v=function(r,n){var a,o,i=[];for(a in r[n]){var s=r[n][a].slice(1);for(o in t.components[s].choices)i.push("#"+s+"_"+o);e(i.join(", ")).show()}return i},g=function(e,t){var r=0;if(e.hasOwnProperty("enable")){t in u==!1&&(u["#"+t]=[]);for(r=0;e.enable.length>r;r++)u["#"+t].push("#"+e.enable[r])}if(e.hasOwnProperty("disable")){t in p==!1&&(p["#"+t]=[]);for(r=0;e.disable.length>r;r++)p["#"+t].push("#"+e.disable[r])}},b=function(e,r,n,a){var o,i=!1;for(o in e){var s,l,c,u,p,d;if(s=e[o],i=s.group,i!==!0)d=s.hasOwnProperty("type")?t.templates[s.type]:S,l=r+"_"+o,c=t.templates.label,u="option"!==a&&"radio"!==a?f(c,{label:s.label,id:l}):"",g(s,l),s.hasOwnProperty("value")||(s.value=o),p=f(d,{name:r,id:l,value:s.value,label:s.label}),s.hasOwnProperty("before")&&(p=s.before+p),s.hasOwnProperty("after")&&(p+=s.after),k=k+u+p;else if(i===!0){var m="",v=h(s,r,a,o);m+=v,k+=f(t.templates.item_group,{items:m});var b=r+"_"+o+"_all";g(s,b)}}return k};o=[],i=[],s=d(t.components),a=e(this),n=0;for(r in t.components){var x,y,w,S,T,k;k="",T="",c="",x=r,y=t.components[r].label,w=m(t.components[r]),S=t.templates[w],c=t.templates.group,t.components[r].hasOwnProperty("title")&&(t.components[r].hasOwnProperty("beforeTitle")&&(T+=t.components[r].beforeTitle),T+=f(t.templates.title,{title:t.components[r].title}),t.components[r].hasOwnProperty("afterTitle")&&(T+=t.components[r].afterTitle),o.push(T)),n+=1,b(t.components[r].choices,x,y,w),"option"===w&&(k=f(t.templates.select,{name:x,id:x,options:k})),o.push(k),k="",0===t.groupSize||0!==n%t.groupSize&&n!==s||(l=f(c,{group:o.join("\n")}),i.push(l),t.groupSize>0&&(o=[]))}0===t.groupSize&&(l=f(c,{group:o.join("\n")}),i.push(l)),"before"===t.position?a.html(i.join("\n")+a.html()):"after"===t.position?a.html(a.html()+i.join("\n")):a.html(i.join("\n"));var E,j,C;for(E in u)C=v(u,E),e(C.join(", ")).parents("div[data-role='group']").hide(),e(E).click(function(){e(C.join(", ")).parents("div[data-role='group']").show()});for(j in p)C=v(p,j),e(j).click(function(){e(C.join(", ")).parents("div[data-role='group']").hide()});return this}}(jQuery),function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,n=e(r);if(!n.is("[type=submit],[type=image]")){var a=n.closest("[type=submit]");if(0===a.length)return;r=a[0]}var o=this;if(o.clk=r,"image"==r.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var i=n.offset();o.clk_x=t.pageX-i.left,o.clk_y=t.pageY-i.top}else o.clk_x=t.pageX-r.offsetLeft,o.clk_y=t.pageY-r.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var a={};a.fileapi=void 0!==e("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var n,a,o=e.param(r,t.traditional).split("&"),i=o.length,s=[];for(n=0;i>n;n++)o[n]=o[n].replace(/\+/g," "),a=o[n].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}function i(n){for(var a=new FormData,o=0;n.length>o;o++)a.append(n[o].name,n[o].value);if(t.extraData){var i=r(t.extraData);for(o=0;i.length>o;o++)i[o]&&a.append(i[o][0],i[o][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,n=e.loaded||e.position,a=e.total;e.lengthComputable&&(r=Math.ceil(100*(n/a))),t.uploadProgress(e,n,a,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:a,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function a(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){n("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){n("cannot get iframe.contentDocument: "+r),t=e.document}return t}function i(){function t(){try{var e=a(g).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){n("Server abort: ",r," (",r.name,")"),s(j),S&&clearTimeout(S),S=void 0}}var r=p.attr2("target"),o=p.attr2("action");T.setAttribute("target",m),(!l||/post/i.test(l))&&T.setAttribute("method","POST"),o!=f.url&&T.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(S=setTimeout(function(){w=!0,s(E)},f.timeout));var i=[];try{if(f.extraData)for(var c in f.extraData)f.extraData.hasOwnProperty(c)&&(e.isPlainObject(f.extraData[c])&&f.extraData[c].hasOwnProperty("name")&&f.extraData[c].hasOwnProperty("value")?i.push(e('<input type="hidden" name="'+f.extraData[c].name+'">').val(f.extraData[c].value).appendTo(T)[0]):i.push(e('<input type="hidden" name="'+c+'">').val(f.extraData[c]).appendTo(T)[0]));f.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{T.submit()}catch(u){var d=document.createElement("form").submit;d.apply(T)}}finally{T.setAttribute("action",o),r?T.setAttribute("target",r):p.removeAttr("target"),e(i).remove()}}function s(t){if(!b.aborted&&!O){if(D=a(g),D||(n("cannot access response document"),t=j),t===E&&b)return b.abort("timeout"),k.reject(b,"timeout"),void 0;if(t==j&&b)return b.abort("server abort"),k.reject(b,"error","server abort"),void 0;if(D&&D.location.href!=f.iframeSrc||w){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,o="success";try{if(w)throw"timeout";var i="xml"==f.dataType||D.XMLDocument||e.isXMLDoc(D);if(n("isXml="+i),!i&&window.opera&&(null===D.body||!D.body.innerHTML)&&--F)return n("requeing onLoad callback, DOM not available"),setTimeout(s,250),void 0;var l=D.body?D.body:D.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=D.XMLDocument?D.XMLDocument:D,i&&(f.dataType="xml"),b.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(f.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||f.textarea){var p=D.getElementsByTagName("textarea")[0];if(p)b.responseText=p.value,b.status=Number(p.getAttribute("status"))||b.status,b.statusText=p.getAttribute("statusText")||b.statusText;else if(u){var m=D.getElementsByTagName("pre")[0],h=D.getElementsByTagName("body")[0];m?b.responseText=m.textContent?m.textContent:m.innerText:h&&(b.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=P(b.responseText));try{A=M(b,c,f)}catch(x){o="parsererror",b.error=r=x||o}}catch(x){n("error caught: ",x),o="error",b.error=r=x||o}b.aborted&&(n("upload aborted"),o=null),b.status&&(o=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===o?(f.success&&f.success.call(f.context,A,"success",b),k.resolve(b.responseText,"success",b),d&&e.event.trigger("ajaxSuccess",[b,f])):o&&(void 0===r&&(r=b.statusText),f.error&&f.error.call(f.context,b,o,r),k.reject(b,"error",r),d&&e.event.trigger("ajaxError",[b,f,r])),d&&e.event.trigger("ajaxComplete",[b,f]),d&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,b,o),O=!0,f.timeout&&clearTimeout(S),setTimeout(function(){f.iframeTarget?v.attr("src",f.iframeSrc):v.remove(),b.responseXML=null},100)}}}var c,u,f,d,m,v,g,b,x,y,w,S,T=p[0],k=e.Deferred();if(k.abort=function(e){b.abort(e)},r)for(u=0;h.length>u;u++)c=e(h[u]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(f=e.extend(!0,{},e.ajaxSettings,t),f.context=f.context||f,m="jqFormIO"+(new Date).getTime(),f.iframeTarget?(v=e(f.iframeTarget),y=v.attr2("name"),y?m=y:v.attr2("name",m)):(v=e('<iframe name="'+m+'" src="'+f.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";n("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(a){}v.attr("src",f.iframeSrc),b.error=r,f.error&&f.error.call(f.context,b,r,t),d&&e.event.trigger("ajaxError",[b,f,r]),f.complete&&f.complete.call(f.context,b,r)}},d=f.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[b,f]),f.beforeSend&&f.beforeSend.call(f.context,b,f)===!1)return f.global&&e.active--,k.reject(),k;if(b.aborted)return k.reject(),k;x=T.clk,x&&(y=x.name,y&&!x.disabled&&(f.extraData=f.extraData||{},f.extraData[y]=x.value,"image"==x.type&&(f.extraData[y+".x"]=T.clk_x,f.extraData[y+".y"]=T.clk_y)));var E=1,j=2,C=e("meta[name=csrf-token]").attr("content"),$=e("meta[name=csrf-param]").attr("content");$&&C&&(f.extraData=f.extraData||{},f.extraData[$]=C),f.forceSync?i():setTimeout(i,10);var A,D,O,F=50,P=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},L=e.parseJSON||function(e){return window.eval("("+e+")")},M=function(t,r,n){var a=t.getResponseHeader("content-type")||"",o="xml"===r||!r&&a.indexOf("xml")>=0,i=o?t.responseXML:t.responseText;return o&&"parsererror"===i.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(i=n.dataFilter(i,r)),"string"==typeof i&&("json"===r||!r&&a.indexOf("json")>=0?i=L(i):("script"===r||!r&&a.indexOf("javascript")>=0)&&e.globalEval(i)),i};return k}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,p=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var f={};if(this.trigger("form-pre-serialize",[this,t,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var m,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,m=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,f]),f.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);m&&(g=g?g+"&"+m:m),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var b=[];if(t.resetForm&&b.push(function(){p.resetForm()}),t.clearForm&&b.push(function(){p.clearForm(t.includeHidden)}),!t.dataType&&t.target){var x=t.success||function(){};b.push(function(r){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](r).each(x,arguments)})}else t.success&&b.push(t.success);if(t.success=function(e,r,n){for(var a=t.context||this,o=0,i=b.length;i>o;o++)b[o].apply(a,[e,r,n||p,p])},t.error){var y=t.error;t.error=function(e,r,n){var a=t.context||this;y.apply(a,[e,r,n,p])}}if(t.complete){var w=t.complete;t.complete=function(e,r){var n=t.context||this;w.apply(n,[e,r,p])}}var S=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),T=S.length>0,k="multipart/form-data",E=p.attr("enctype")==k||p.attr("encoding")==k,j=a.fileapi&&a.formdata;n("fileAPI :"+j);var C,$=(T||E)&&!j;t.iframe!==!1&&(t.iframe||$)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){C=s(v)}):C=s(v):C=(T||E)&&j?i(v):e.ajax(t),p.removeData("jqxhr").data("jqxhr",C);for(var A=0;h.length>A;A++)h[A]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(a){if(a=a||{},a.delegation=a.delegation&&e.isFunction(e.fn.on),!a.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(o.s,o.c).ajaxForm(a)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return a.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,a,t).on("click.form-plugin",this.selector,a,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,t).bind("click.form-plugin",a,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var n=[];if(0===this.length)return n;var o=this[0],i=t?o.getElementsByTagName("*"):o.elements;if(!i)return n;var s,l,c,u,p,f,d;for(s=0,f=i.length;f>s;s++)if(p=i[s],c=p.name,c&&!p.disabled)if(t&&o.clk&&"image"==p.type)o.clk==p&&(n.push({name:c,value:e(p).val(),type:p.type}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}));else if(u=e.fieldValue(p,!0),u&&u.constructor==Array)for(r&&r.push(p),l=0,d=u.length;d>l;l++)n.push({name:c,value:u[l]});else if(a.fileapi&&"file"==p.type){r&&r.push(p);var m=p.files;if(m.length)for(l=0;m.length>l;l++)n.push({name:c,value:m[l],type:p.type});else n.push({name:c,value:"",type:p.type})}else null!==u&&void 0!==u&&(r&&r.push(p),n.push({name:c,value:u,type:p.type,required:p.required}));if(!t&&o.clk){var h=e(o.clk),v=h[0];c=v.name,c&&!v.disabled&&"image"==v.type&&(n.push({name:c,value:h.val()}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var n=this.name;if(n){var a=e.fieldValue(this,t);if(a&&a.constructor==Array)for(var o=0,i=a.length;i>o;o++)r.push({name:n,value:a[o]});else null!==a&&void 0!==a&&r.push({name:this.name,value:a})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],n=0,a=this.length;a>n;n++){var o=this[n],i=e.fieldValue(o,t);null===i||void 0===i||i.constructor==Array&&!i.length||(i.constructor==Array?e.merge(r,i):r.push(i))}return r},e.fieldValue=function(t,r){var n=t.name,a=t.type,o=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!n||t.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!t.checked||("submit"==a||"image"==a)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var i=t.selectedIndex;if(0>i)return null;for(var s=[],l=t.options,c="select-one"==a,u=c?i+1:l.length,p=c?i:0;u>p;p++){var f=l[p];if(f.selected){var d=f.value;if(d||(d=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,a=this.tagName.toLowerCase();r.test(n)||"textarea"==a?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto),function(e){"use strict";var t={};t.lastActive=void 0,t.activeElement=void 0,t._addEventListener=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},t._addEventListener(document,"keyup",function(e){var r=window.location.hash.replace("#","");if(""!==r&&"!"!==r&&27===e.keyCode){if(window.location.hash="!",t.lastActive)return!1;t.removeFocus()}},!1),t._dispatchEvent=function(e,t){var r;document.createEvent&&(r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.customData={modal:t},document.dispatchEvent(r))},t.mainHandler=function(){var e,r,n=window.location.hash.replace("#",""),a=document.getElementById(n),o=document.documentElement.className;a?(e=a.children[0],e&&e.className.match(/modal-inner/)&&(o.match(/has-overlay/)||(document.documentElement.className+=" has-overlay"),t.activeElement&&(r=t.activeElement,r.className=r.className.replace(" is-active","")),a.className+=" is-active",t.activeElement=a,t.setFocus(n),t._dispatchEvent("cssmodal:show",t.activeElement))):(document.documentElement.className=o.replace(" has-overlay",""),t.activeElement&&(t.activeElement.className=t.activeElement.className.replace(" is-active",""),t._dispatchEvent("cssmodal:hide",t.activeElement),t.activeElement=null,t.removeFocus()))},t._addEventListener(window,"hashchange",t.mainHandler),t._addEventListener(window,"load",t.mainHandler),t.setFocus=function(){t.activeElement&&(t.lastActive=document.activeElement,t.activeElement.focus())},t.removeFocus=function(){t.lastActive&&t.lastActive.focus()},e.CSSModal=t}(window),function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,r){return t>e?t:e>r?r:e}function r(e){return 100*(-1+e)}function n(e,t,n){var a;return a="translate3d"===o.positionUsing?{transform:"translate3d("+r(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+r(e)+"%,0)"}:{"margin-left":r(e)+"%"},a.transition="all "+t+"ms "+n,a}var a={};a.version="0.1.2";var o=a.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return a.configure=function(t){return e.extend(o,t),this},a.status=null,a.set=function(e){var r=a.isStarted();e=t(e,o.minimum,1),a.status=1===e?null:e;var i=a.render(!r),s=i.find('[role="bar"]'),l=o.speed,c=o.easing;return i[0].offsetWidth,i.queue(function(t){""===o.positionUsing&&(o.positionUsing=a.getPositioningCSS()),s.css(n(e,l,c)),1===e?(i.css({transition:"none",opacity:1}),i[0].offsetWidth,setTimeout(function(){i.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){a.remove(),t()},l)},l)):setTimeout(t,l)}),this},a.isStarted=function(){return"number"==typeof a.status},a.start=function(){a.status||a.set(0);var e=function(){setTimeout(function(){a.status&&(a.trickle(),e())},o.trickleSpeed)};return o.trickle&&e(),this},a.done=function(e){return e||a.status?a.inc(.3+.5*Math.random()).set(1):this},a.inc=function(e){var r=a.status;return r?("number"!=typeof e&&(e=(1-r)*t(Math.random()*r,.1,.95)),r=t(r+e,0,.994),a.set(r)):a.start()},a.trickle=function(){return a.inc(Math.random()*o.trickleRate)},function(){var e=0,t=0;a.promise=function(r){return r&&"resolved"!=r.state()?(0==t&&a.start(),e++,t++,r.always(function(){t--,0==t?(e=0,a.done()):a.set((e-t)/e)}),this):this}}(),a.render=function(t){if(a.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var n=e("<div id='nprogress'>").html(o.template),i=t?"-100":r(a.status||0);return n.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),o.showSpinner||n.find('[role="spinner"]').remove(),n.appendTo(document.body),n},a.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},a.isRendered=function(){return e("#nprogress").length>0},a.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},a}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){try{if("stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(r){return}var n,a=e.href||e.getAttribute("data-href"),o=a.replace(/[^\/]+$/,""),i=(/^[a-z]{3,10}:/.exec(o)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(o)||[""])[0],l=/^([^?]*)\??/.exec(a)[1],c=e.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&n()},n=function(){var r=u.responseText;if(r&&e.parentNode&&(!u.status||400>u.status||u.status>600)){if(r=t.fix(r,!0,e),o){r=r.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,r){return/^([a-z]{3,10}:|#)/i.test(r)?e:/^\/\//.test(r)?'url("'+i+r+'")':/^\//.test(r)?'url("'+s+r+'")':/^\?/.test(r)?'url("'+l+r+'")':'url("'+o+r+'")'});var n=o.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");r=r.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1")}var a=document.createElement("style");a.textContent=r,a.media=e.media,a.disabled=e.disabled,a.setAttribute("data-href",e.getAttribute("href")),c.insertBefore(a,e),c.removeChild(e),a.media=e.media}};try{u.open("GET",a),u.send(null)}catch(r){"undefined"!=typeof XDomainRequest&&(u=new XDomainRequest,u.onerror=u.onprogress=function(){},u.onload=n,u.open("GET",a),u.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var r=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=r}},styleAttribute:function(e){var r=e.getAttribute("style");r=t.fix(r,!1,e),e.setAttribute("style",r)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,r){(t.fixers=t.fixers||[]).splice(void 0===r?t.fixers.length:r,0,e)},fix:function(e,r,n){for(var a=0;t.fixers.length>a;a++)e=t.fixers[a](e,r,n)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};(function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}}(),function(e){function t(e,t,n,a,o){if(e=r[e],e.length){var i=RegExp(t+"("+e.join("|")+")"+n,"gi");o=o.replace(i,a)}return o}if(window.StyleFix&&window.getComputedStyle){var r=window.PrefixFree={prefixCSS:function(e,n){var a=r.prefix;if(r.functions.indexOf("linear-gradient")>-1&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,r,n){return t+(r||"")+"linear-gradient("+(90-n)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+a+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+a+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+a+"$2:",e),r.properties.length){var o=RegExp("\\b("+r.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(o,a+"$1")},e)}return n&&(e=t("selectors","","\\b",r.prefixSelector,e),e=t("atrules","@","\\b","@"+a+"$1",e)),e=e.replace(RegExp("-"+a,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,r.prefix)},property:function(e){return(r.properties.indexOf(e)?r.prefix:"")+e},value:function(e){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+r.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+r.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+r.prefix})},prefixProperty:function(e,t){var n=r.prefix+e;return t?StyleFix.camelCase(n):n}};(function(){var e={},t=[],n=getComputedStyle(document.documentElement,null),a=document.createElement("div").style,o=function(r){if("-"===r.charAt(0)){t.push(r);var n=r.split("-"),a=n[1];for(e[a]=++e[a]||1;n.length>3;){n.pop();var o=n.join("-");i(o)&&-1===t.indexOf(o)&&t.push(o)}}},i=function(e){return StyleFix.camelCase(e)in a};if(n.length>0)for(var s=0;n.length>s;s++)o(n[s]);else for(var l in n)o(StyleFix.deCamelCase(l));var c={uses:0};for(var u in e){var p=e[u];p>c.uses&&(c={prefix:u,uses:p})}r.prefix="-"+c.prefix+"-",r.Prefix=StyleFix.camelCase(r.prefix),r.properties=[];for(var s=0;t.length>s;s++){var l=t[s];if(0===l.indexOf(r.prefix)){var f=l.slice(r.prefix.length);i(f)||r.properties.push(f)}}"Ms"==r.Prefix&&!("transform"in a)&&!("MsTransform"in a)&&"msTransform"in a&&r.properties.push("transform","transform-origin"),r.properties.sort()})(),function(){function e(e,t){return a[t]="",a[t]=e,!!a[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};r.functions=[],r.keywords=[];var a=document.createElement("div").style;for(var o in t){var i=t[o],s=i.property,l=o+"("+i.params+")";!e(l,s)&&e(r.prefix+l,s)&&r.functions.push(o)}for(var c in n){var s=n[c];!e(c,s)&&e(r.prefix+c,s)&&r.keywords.push(c)}}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var n={":read-only":null,":read-write":null,":any-link":null,"::selection":null},a={keyframes:"name",viewport:null,document:'regexp(".")'};r.selectors=[],r.atrules=[];var o=e.appendChild(document.createElement("style"));for(var i in n){var s=i+(n[i]?"("+n[i]+")":"");!t(s)&&t(r.prefixSelector(s))&&r.selectors.push(i)}for(var l in a){var s=l+" "+(a[l]||"");!t("@"+s)&&t("@"+r.prefix+s)&&r.atrules.push(l)
}e.removeChild(o)}(),r.valueProperties=["transition","transition-property"],e.className+=" "+r.prefix,StyleFix.register(r.prefixCSS)}}(document.documentElement);var niveaux=function(e){var t;return t=null===e||void 0===e||""===e?{low:{label:""},med:{label:""},high:{label:""}}:{low:{enable:e,label:""},med:{enable:e,label:""},high:{enable:e,label:""}}};(function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=r.length,a=window.console=window.console||{};n--;)e=r[n],a[e]||(a[e]=t)})(),window.formChanged=!1;var saveToDatabase=function(){window.formChanged&&$("#form-competences").trigger("submit"),window.formChanged=!1},initalizeForm=function(){var e={target:"#form-result",beforeSubmit:showRequest,success:showResponse,url:"modules/updatecompetence.php",type:"post"};$("#form-competences").submit(function(){return $(this).ajaxSubmit(e),!1}),addClearItems(),setInterval(saveToDatabase,5e3)},initalizeAddForm=function(){var e={target:"#form-result",beforeSubmit:showAddRequest,success:showAddResponse,url:"modules/addcompetence.php",type:"post"};$("#form-add-competence").submit(function(){return console.log("initialized"),$(this).ajaxSubmit(e),!1})},addClearItems=function(){$("#form-competences fieldset").each(function(){var e=$(this),t=e.find(".radio input").first();0==e.find(".clear-all").length&&e.append("<a class='clear-all' data-items='"+t.attr("name")+"'><span class='icon-remove-circle'></span></a>")}),$("#form-competences fieldset a.clear-all").click(function(){var e=$(this),t=e.parent().find("input[name='"+e.attr("data-items")+"']");$.ajax({url:"modules/deletecompetence.php",type:"POST",data:{login:$("#form-login").val(),code:$("#form-code").val(),comp:e.attr("data-items")}}).done(function(){t.each(function(){$(this).is(":checked")&&$(this).removeAttr("checked")})})})},createFormCompetences=function(){console.log("form competences"),$("#form-competences div").makeForms({components:window.items,groupSize:1,templates:{title:"<h4>{{title}}</h4>",group:"<fieldset>{{group}}</fieldset>",label:'<label for="{{id}}">{{label}}</label>',radio:'<div class="radio"><input type="radio" name="{{name}}"	id="{{id}}" value="{{value}}">{{label}}<label for="{{id}}"></label></div>',input:'<input class="form-control" type="{{type}}" name="{{name}}"	id="{{id}}" value="{{value}}">',text:'<input class="form-control" type="text" name="{{name}}"	id="{{id}}" value="{{value}}">',select:'<select class="form-control" id="{{id}}" name="{{name}}">\n	<option id="{{id}}" value="">Aucun</option>{{options}}</select>',option:'<option id="{{id}}" value="{{value}}">{{label}}</option>'}})},treatResize=function(){$("div[data-role='container']").height()>=$(window).height()?$(".footer-container").addClass("nofix"):$(".footer-container").removeClass("nofix")};window.createFormCompetences=createFormCompetences,$(document).ready(function(){initalizeForm(),$("input").change(function(){console.log("change !")}),NProgress.configure({showSpinner:!1}),$("a").smoothScroll(),treatResize(),$(window).resize(treatResize),$.getJSON("https://api.github.com/repos/lambda2/Muffin/tags",function(e){console.log(e);var t=e[0].commit.sha;$.getJSON("https://api.github.com/repos/lambda2/Muffin/commits/"+t,function(t){var r=t,n=r.commit.committer.date.slice(0,10),a=r.stats.additions,o=r.stats.deletions;r.stats.additions;var i="<span class='icon-flow-tree'></span> <span class='git-add'>+"+a+"</span>  <span class='git-del'>-"+o+"</span>";$("div[role='git-info']").html("<p>\n				<a href='https://github.com/lambda2/Muffin'><span class='icon-github'></span>\n				v"+e[0].name+" datant du "+n+"  ─  "+i+"</a> </p>")})})});